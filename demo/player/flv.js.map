{"version":3,"sources":["node_modules/_browser-pack@6.0.2@browser-pack/_prelude.js","node_modules/_es6-promise@4.1.1@es6-promise/dist/node_modules/es6-promise/dist/es6-promise.js","node_modules/_events@1.1.1@events/events.js","node_modules/_process@0.11.10@process/browser.js","node_modules/_webworkify@1.4.0@webworkify/index.js","src/config.js","src/core/features.js","src/core/media-info.js","src/core/media-segment-info.js","src/core/mse-controller.js","src/core/mse-events.js","src/core/transmuxer.js","src/core/transmuxing-controller.js","src/core/transmuxing-events.js","src/core/transmuxing-worker.js","src/demux/amf-parser.js","src/demux/demux-errors.js","src/demux/exp-golomb.js","src/demux/flv-demuxer.js","src/demux/sps-parser.js","src/flv.js","src/index.js","src/io/fetch-stream-loader.js","src/io/io-controller.js","src/io/loader.js","src/io/param-seek-handler.js","src/io/range-seek-handler.js","src/io/speed-sampler.js","src/io/websocket-loader.js","src/io/xhr-moz-chunked-loader.js","src/io/xhr-msstream-loader.js","src/io/xhr-range-loader.js","src/player/flv-player.js","src/player/native-player.js","src/player/player-errors.js","src/player/player-events.js","src/remux/aac-silent.js","src/remux/mp4-generator.js","src/remux/mp4-remuxer.js","src/utils/browser.js","src/utils/exception.js","src/utils/logger.js","src/utils/logging-control.js","src/utils/polyfill.js","src/utils/utf8-conv.js"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACroCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"flv.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            Function(['require','module','exports'], '(' + fn + ')(self)'),\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        Function(['require'], (\n            // try to call default if defined to also support babel esmodule\n            // exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);'\n        )),\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const defaultConfig = {\n    enableWorker: false,\n    enableStashBuffer: true,\n    stashInitialSize: undefined,\n\n    isLive: false,\n\n    lazyLoad: true,\n    lazyLoadMaxDuration: 3 * 60,\n    lazyLoadRecoverDuration: 30,\n    deferLoadAfterSourceOpen: true,\n\n    // autoCleanupSourceBuffer: default as false, leave unspecified\n    autoCleanupMaxBackwardDuration: 3 * 60,\n    autoCleanupMinBackwardDuration: 2 * 60,\n\n    statisticsInfoReportInterval: 600,\n\n    fixAudioTimestampGap: true,\n\n    accurateSeek: false,\n    seekType: 'range',  // [range, param, custom]\n    seekParamStart: 'bstart',\n    seekParamEnd: 'bend',\n    rangeLoadZeroStart: false,\n    customSeekHandler: undefined,\n    reuseRedirectedURL: false\n    // referrerPolicy: leave as unspecified\n};\n\nexport function createDefaultConfig() {\n    return Object.assign({}, defaultConfig);\n}","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport IOController from '../io/io-controller.js';\nimport {createDefaultConfig} from '../config.js';\n\nclass Features {\n\n    static supportMSEH264Playback() {\n        return window.MediaSource &&\n               window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n    }\n\n    static supportNetworkStreamIO() {\n        let ioctl = new IOController({}, createDefaultConfig());\n        let loaderType = ioctl.loaderType;\n        ioctl.destroy();\n        return loaderType == 'fetch-stream-loader' || loaderType == 'xhr-moz-chunked-loader';\n    }\n\n    static getNetworkLoaderTypeName() {\n        let ioctl = new IOController({}, createDefaultConfig());\n        let loaderType = ioctl.loaderType;\n        ioctl.destroy();\n        return loaderType;\n    }\n\n    static supportNativeMediaPlayback(mimeType) {\n        if (Features.videoElement == undefined) {\n            Features.videoElement = window.document.createElement('video');\n        }\n        let canPlay = Features.videoElement.canPlayType(mimeType);\n        return canPlay === 'probably' || canPlay == 'maybe';\n    }\n\n    static getFeatureList() {\n        let features = {\n            mseFlvPlayback: false,\n            mseLiveFlvPlayback: false,\n            networkStreamIO: false,\n            networkLoaderName: '',\n            nativeMP4H264Playback: false,\n            nativeWebmVP8Playback: false,\n            nativeWebmVP9Playback: false\n        };\n\n        features.mseFlvPlayback = Features.supportMSEH264Playback();\n        features.networkStreamIO = Features.supportNetworkStreamIO();\n        features.networkLoaderName = Features.getNetworkLoaderTypeName();\n        features.mseLiveFlvPlayback = features.mseFlvPlayback && features.networkStreamIO;\n        features.nativeMP4H264Playback = Features.supportNativeMediaPlayback('video/mp4; codecs=\"avc1.42001E, mp4a.40.2\"');\n        features.nativeWebmVP8Playback = Features.supportNativeMediaPlayback('video/webm; codecs=\"vp8.0, vorbis\"');\n        features.nativeWebmVP9Playback = Features.supportNativeMediaPlayback('video/webm; codecs=\"vp9\"');\n\n        return features;\n    }\n\n}\n\nexport default Features;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass MediaInfo {\n\n    constructor() {\n        this.mimeType = null;\n        this.duration = null;\n\n        this.hasAudio = null;\n        this.hasVideo = null;\n        this.audioCodec = null;\n        this.videoCodec = null;\n        this.audioDataRate = null;\n        this.videoDataRate = null;\n\n        this.audioSampleRate = null;\n        this.audioChannelCount = null;\n\n        this.width = null;\n        this.height = null;\n        this.fps = null;\n        this.profile = null;\n        this.level = null;\n        this.chromaFormat = null;\n        this.sarNum = null;\n        this.sarDen = null;\n\n        this.metadata = null;\n        this.segments = null;  // MediaInfo[]\n        this.segmentCount = null;\n        this.hasKeyframesIndex = null;\n        this.keyframesIndex = null;\n    }\n\n    isComplete() {\n        let audioInfoComplete = (this.hasAudio === false) ||\n                                (this.hasAudio === true &&\n                                 this.audioCodec != null &&\n                                 this.audioSampleRate != null &&\n                                 this.audioChannelCount != null);\n\n        let videoInfoComplete = (this.hasVideo === false) ||\n                                (this.hasVideo === true &&\n                                 this.videoCodec != null &&\n                                 this.width != null &&\n                                 this.height != null &&\n                                 this.fps != null &&\n                                 this.profile != null &&\n                                 this.level != null &&\n                                 this.chromaFormat != null &&\n                                 this.sarNum != null &&\n                                 this.sarDen != null);\n\n        // keyframesIndex may not be present\n        return this.mimeType != null &&\n               this.duration != null &&\n               this.metadata != null &&\n               this.hasKeyframesIndex != null &&\n               audioInfoComplete &&\n               videoInfoComplete;\n    }\n\n    isSeekable() {\n        return this.hasKeyframesIndex === true;\n    }\n\n    getNearestKeyframe(milliseconds) {\n        if (this.keyframesIndex == null) {\n            return null;\n        }\n\n        let table = this.keyframesIndex;\n        let keyframeIdx = this._search(table.times, milliseconds);\n\n        return {\n            index: keyframeIdx,\n            milliseconds: table.times[keyframeIdx],\n            fileposition: table.filepositions[keyframeIdx]\n        };\n    }\n\n    _search(list, value) {\n        let idx = 0;\n\n        let last = list.length - 1;\n        let mid = 0;\n        let lbound = 0;\n        let ubound = last;\n\n        if (value < list[0]) {\n            idx = 0;\n            lbound = ubound + 1;  // skip search\n        }\n\n        while (lbound <= ubound) {\n            mid = lbound + Math.floor((ubound - lbound) / 2);\n            if (mid === last || (value >= list[mid] && value < list[mid + 1])) {\n                idx = mid;\n                break;\n            } else if (list[mid] < value) {\n                lbound = mid + 1;\n            } else {\n                ubound = mid - 1;\n            }\n        }\n\n        return idx;\n    }\n\n}\n\nexport default MediaInfo;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Represents an media sample (audio / video)\nexport class SampleInfo {\n\n    constructor(dts, pts, duration, originalDts, isSync) {\n        this.dts = dts;\n        this.pts = pts;\n        this.duration = duration;\n        this.originalDts = originalDts;\n        this.isSyncPoint = isSync;\n        this.fileposition = null;\n    }\n\n}\n\n// Media Segment concept is defined in Media Source Extensions spec.\n// Particularly in ISO BMFF format, an Media Segment contains a moof box followed by a mdat box.\nexport class MediaSegmentInfo {\n\n    constructor() {\n        this.beginDts = 0;\n        this.endDts = 0;\n        this.beginPts = 0;\n        this.endPts = 0;\n        this.originalBeginDts = 0;\n        this.originalEndDts = 0;\n        this.syncPoints = [];     // SampleInfo[n], for video IDR frames only\n        this.firstSample = null;  // SampleInfo\n        this.lastSample = null;   // SampleInfo\n    }\n\n    appendSyncPoint(sampleInfo) {  // also called Random Access Point\n        sampleInfo.isSyncPoint = true;\n        this.syncPoints.push(sampleInfo);\n    }\n\n}\n\n// Ordered list for recording video IDR frames, sorted by originalDts\nexport class IDRSampleList {\n\n    constructor() {\n        this._list = [];\n    }\n\n    clear() {\n        this._list = [];\n    }\n\n    appendArray(syncPoints) {\n        let list = this._list;\n\n        if (syncPoints.length === 0) {\n            return;\n        }\n\n        if (list.length > 0 && syncPoints[0].originalDts < list[list.length - 1].originalDts) {\n            this.clear();\n        }\n\n        Array.prototype.push.apply(list, syncPoints);\n    }\n\n    getLastSyncPointBeforeDts(dts) {\n        if (this._list.length == 0) {\n            return null;\n        }\n\n        let list = this._list;\n        let idx = 0;\n        let last = list.length - 1;\n        let mid = 0;\n        let lbound = 0;\n        let ubound = last;\n\n        if (dts < list[0].dts) {\n            idx = 0;\n            lbound = ubound + 1;\n        }\n\n        while (lbound <= ubound) {\n            mid = lbound + Math.floor((ubound - lbound) / 2);\n            if (mid === last || (dts >= list[mid].dts && dts < list[mid + 1].dts)) {\n                idx = mid;\n                break;\n            } else if (list[mid].dts < dts) {\n                lbound = mid + 1;\n            } else {\n                ubound = mid - 1;\n            }\n        }\n        return this._list[idx];\n    }\n\n}\n\n// Data structure for recording information of media segments in single track.\nexport class MediaSegmentInfoList {\n\n    constructor(type) {\n        this._type = type;\n        this._list = [];\n        this._lastAppendLocation = -1;  // cached last insert location\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    get length() {\n        return this._list.length;\n    }\n\n    isEmpty() {\n        return this._list.length === 0;\n    }\n\n    clear() {\n        this._list = [];\n        this._lastAppendLocation = -1;\n    }\n\n    _searchNearestSegmentBefore(originalBeginDts) {\n        let list = this._list;\n        if (list.length === 0) {\n            return -2;\n        }\n        let last = list.length - 1;\n        let mid = 0;\n        let lbound = 0;\n        let ubound = last;\n\n        let idx = 0;\n\n        if (originalBeginDts < list[0].originalBeginDts) {\n            idx = -1;\n            return idx;\n        }\n\n        while (lbound <= ubound) {\n            mid = lbound + Math.floor((ubound - lbound) / 2);\n            if (mid === last || (originalBeginDts > list[mid].lastSample.originalDts &&\n                                (originalBeginDts < list[mid + 1].originalBeginDts))) {\n                idx = mid;\n                break;\n            } else if (list[mid].originalBeginDts < originalBeginDts) {\n                lbound = mid + 1;\n            } else {\n                ubound = mid - 1;\n            }\n        }\n        return idx;\n    }\n\n    _searchNearestSegmentAfter(originalBeginDts) {\n        return this._searchNearestSegmentBefore(originalBeginDts) + 1;\n    }\n\n    append(mediaSegmentInfo) {\n        let list = this._list;\n        let msi = mediaSegmentInfo;\n        let lastAppendIdx = this._lastAppendLocation;\n        let insertIdx = 0;\n\n        if (lastAppendIdx !== -1 && lastAppendIdx < list.length &&\n                                    msi.originalBeginDts >= list[lastAppendIdx].lastSample.originalDts &&\n                                    ((lastAppendIdx === list.length - 1) ||\n                                    (lastAppendIdx < list.length - 1 &&\n                                    msi.originalBeginDts < list[lastAppendIdx + 1].originalBeginDts))) {\n            insertIdx = lastAppendIdx + 1;  // use cached location idx\n        } else {\n            if (list.length > 0) {\n                insertIdx = this._searchNearestSegmentBefore(msi.originalBeginDts) + 1;\n            }\n        }\n\n        this._lastAppendLocation = insertIdx;\n        this._list.splice(insertIdx, 0, msi);\n    }\n\n    getLastSegmentBefore(originalBeginDts) {\n        let idx = this._searchNearestSegmentBefore(originalBeginDts);\n        if (idx >= 0) {\n            return this._list[idx];\n        } else {  // -1\n            return null;\n        }\n    }\n\n    getLastSampleBefore(originalBeginDts) {\n        let segment = this.getLastSegmentBefore(originalBeginDts);\n        if (segment != null) {\n            return segment.lastSample;\n        } else {\n            return null;\n        }\n    }\n\n    getLastSyncPointBefore(originalBeginDts) {\n        let segmentIdx = this._searchNearestSegmentBefore(originalBeginDts);\n        let syncPoints = this._list[segmentIdx].syncPoints;\n        while (syncPoints.length === 0 && segmentIdx > 0) {\n            segmentIdx--;\n            syncPoints = this._list[segmentIdx].syncPoints;\n        }\n        if (syncPoints.length > 0) {\n            return syncPoints[syncPoints.length - 1];\n        } else {\n            return null;\n        }\n    }\n\n}","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport Log from '../utils/logger.js';\nimport Browser from '../utils/browser.js';\nimport MSEEvents from './mse-events.js';\nimport {SampleInfo, IDRSampleList} from './media-segment-info.js';\nimport {IllegalStateException} from '../utils/exception.js';\n\n// Media Source Extensions controller\nclass MSEController {\n\n    constructor(config) {\n        this.TAG = 'MSEController';\n\n        this._config = config;\n        this._emitter = new EventEmitter();\n\n        if (this._config.isLive && this._config.autoCleanupSourceBuffer == undefined) {\n            // For live stream, do auto cleanup by default\n            this._config.autoCleanupSourceBuffer = true;\n        }\n\n        this.e = {\n            onSourceOpen: this._onSourceOpen.bind(this),\n            onSourceEnded: this._onSourceEnded.bind(this),\n            onSourceClose: this._onSourceClose.bind(this),\n            onSourceBufferError: this._onSourceBufferError.bind(this),\n            onSourceBufferUpdateEnd: this._onSourceBufferUpdateEnd.bind(this)\n        };\n\n        this._mediaSource = null;\n        this._mediaSourceObjectURL = null;\n        this._mediaElement = null;\n\n        this._isBufferFull = false;\n        this._hasPendingEos = false;\n\n        this._requireSetMediaDuration = false;\n        this._pendingMediaDuration = 0;\n\n        this._pendingSourceBufferInit = [];\n        this._mimeTypes = {\n            video: null,\n            audio: null\n        };\n        this._sourceBuffers = {\n            video: null,\n            audio: null\n        };\n        this._lastInitSegments = {\n            video: null,\n            audio: null\n        };\n        this._pendingSegments = {\n            video: [],\n            audio: []\n        };\n        this._pendingRemoveRanges = {\n            video: [],\n            audio: []\n        };\n        this._idrList = new IDRSampleList();\n    }\n\n    destroy() {\n        if (this._mediaElement || this._mediaSource) {\n            this.detachMediaElement();\n        }\n        this.e = null;\n        this._emitter.removeAllListeners();\n        this._emitter = null;\n    }\n\n    on(event, listener) {\n        this._emitter.addListener(event, listener);\n    }\n\n    off(event, listener) {\n        this._emitter.removeListener(event, listener);\n    }\n\n    attachMediaElement(mediaElement) {\n        if (this._mediaSource) {\n            throw new IllegalStateException('MediaSource has been attached to an HTMLMediaElement!');\n        }\n        let ms = this._mediaSource = new window.MediaSource();\n        ms.addEventListener('sourceopen', this.e.onSourceOpen);\n        ms.addEventListener('sourceended', this.e.onSourceEnded);\n        ms.addEventListener('sourceclose', this.e.onSourceClose);\n\n        this._mediaElement = mediaElement;\n        this._mediaSourceObjectURL = window.URL.createObjectURL(this._mediaSource);\n        mediaElement.src = this._mediaSourceObjectURL;\n    }\n\n    detachMediaElement() {\n        if (this._mediaSource) {\n            let ms = this._mediaSource;\n            for (let type in this._sourceBuffers) {\n                // pending segments should be discard\n                let ps = this._pendingSegments[type];\n                ps.splice(0, ps.length);\n                this._pendingSegments[type] = null;\n                this._pendingRemoveRanges[type] = null;\n                this._lastInitSegments[type] = null;\n\n                // remove all sourcebuffers\n                let sb = this._sourceBuffers[type];\n                if (sb) {\n                    if (ms.readyState !== 'closed') {\n                        ms.removeSourceBuffer(sb);\n                        sb.removeEventListener('error', this.e.onSourceBufferError);\n                        sb.removeEventListener('updateend', this.e.onSourceBufferUpdateEnd);\n                    }\n                    this._mimeTypes[type] = null;\n                    this._sourceBuffers[type] = null;\n                }\n            }\n            if (ms.readyState === 'open') {\n                try {\n                    ms.endOfStream();\n                } catch (error) {\n                    Log.e(this.TAG, error.message);\n                }\n            }\n            ms.removeEventListener('sourceopen', this.e.onSourceOpen);\n            ms.removeEventListener('sourceended', this.e.onSourceEnded);\n            ms.removeEventListener('sourceclose', this.e.onSourceClose);\n            this._pendingSourceBufferInit = [];\n            this._isBufferFull = false;\n            this._idrList.clear();\n            this._mediaSource = null;\n        }\n\n        if (this._mediaElement) {\n            this._mediaElement.src = '';\n            this._mediaElement.removeAttribute('src');\n            this._mediaElement = null;\n        }\n        if (this._mediaSourceObjectURL) {\n            window.URL.revokeObjectURL(this._mediaSourceObjectURL);\n            this._mediaSourceObjectURL = null;\n        }\n    }\n\n    appendInitSegment(initSegment, deferred) {\n        if (!this._mediaSource || this._mediaSource.readyState !== 'open') {\n            // sourcebuffer creation requires mediaSource.readyState === 'open'\n            // so we defer the sourcebuffer creation, until sourceopen event triggered\n            this._pendingSourceBufferInit.push(initSegment);\n            // make sure that this InitSegment is in the front of pending segments queue\n            this._pendingSegments[initSegment.type].push(initSegment);\n            return;\n        }\n\n        let is = initSegment;\n        let mimeType = `${is.container}`;\n        if (is.codec && is.codec.length > 0) {\n            mimeType += `;codecs=${is.codec}`;\n        }\n\n        let firstInitSegment = false;\n\n        Log.v(this.TAG, 'Received Initialization Segment, mimeType: ' + mimeType);\n        this._lastInitSegments[is.type] = is;\n\n        if (mimeType !== this._mimeTypes[is.type]) {\n            if (!this._mimeTypes[is.type]) {  // empty, first chance create sourcebuffer\n                firstInitSegment = true;\n                try {\n                    let sb = this._sourceBuffers[is.type] = this._mediaSource.addSourceBuffer(mimeType);\n                    sb.addEventListener('error', this.e.onSourceBufferError);\n                    sb.addEventListener('updateend', this.e.onSourceBufferUpdateEnd);\n                } catch (error) {\n                    Log.e(this.TAG, error.message);\n                    this._emitter.emit(MSEEvents.ERROR, {code: error.code, msg: error.message});\n                    return;\n                }\n            } else {\n                Log.v(this.TAG, `Notice: ${is.type} mimeType changed, origin: ${this._mimeTypes[is.type]}, target: ${mimeType}`);\n            }\n            this._mimeTypes[is.type] = mimeType;\n        }\n\n        if (!deferred) {\n            // deferred means this InitSegment has been pushed to pendingSegments queue\n            this._pendingSegments[is.type].push(is);\n        }\n        if (!firstInitSegment) {  // append immediately only if init segment in subsequence\n            if (this._sourceBuffers[is.type] && !this._sourceBuffers[is.type].updating) {\n                this._doAppendSegments();\n            }\n        }\n        if (Browser.safari && is.container === 'audio/mpeg' && is.mediaDuration > 0) {\n            // 'audio/mpeg' track under Safari may cause MediaElement's duration to be NaN\n            // Manually correct MediaSource.duration to make progress bar seekable, and report right duration\n            this._requireSetMediaDuration = true;\n            this._pendingMediaDuration = is.mediaDuration / 1000;  // in seconds\n            this._updateMediaSourceDuration();\n        }\n    }\n\n    appendMediaSegment(mediaSegment) {\n        let ms = mediaSegment;\n        this._pendingSegments[ms.type].push(ms);\n\n        if (this._config.autoCleanupSourceBuffer && this._needCleanupSourceBuffer()) {\n            this._doCleanupSourceBuffer();\n        }\n\n        let sb = this._sourceBuffers[ms.type];\n        if (sb && !sb.updating && !this._hasPendingRemoveRanges()) {\n            this._doAppendSegments();\n        }\n    }\n\n    seek(seconds) {\n        // remove all appended buffers\n        for (let type in this._sourceBuffers) {\n            if (!this._sourceBuffers[type]) {\n                continue;\n            }\n\n            // abort current buffer append algorithm\n            let sb = this._sourceBuffers[type];\n            if (this._mediaSource.readyState === 'open') {\n                try {\n                    // If range removal algorithm is running, InvalidStateError will be throwed\n                    // Ignore it.\n                    sb.abort();\n                } catch (error) {\n                    Log.e(this.TAG, error.message);\n                }\n            }\n\n            // IDRList should be clear\n            this._idrList.clear();\n\n            // pending segments should be discard\n            let ps = this._pendingSegments[type];\n            ps.splice(0, ps.length);\n\n            if (this._mediaSource.readyState === 'closed') {\n                // Parent MediaSource object has been detached from HTMLMediaElement\n                continue;\n            }\n\n            // record ranges to be remove from SourceBuffer\n            for (let i = 0; i < sb.buffered.length; i++) {\n                let start = sb.buffered.start(i);\n                let end = sb.buffered.end(i);\n                this._pendingRemoveRanges[type].push({start, end});\n            }\n\n            // if sb is not updating, let's remove ranges now!\n            if (!sb.updating) {\n                this._doRemoveRanges();\n            }\n\n            // Safari 10 may get InvalidStateError in the later appendBuffer() after SourceBuffer.remove() call\n            // Internal parser's state may be invalid at this time. Re-append last InitSegment to workaround.\n            // Related issue: https://bugs.webkit.org/show_bug.cgi?id=159230\n            if (Browser.safari) {\n                let lastInitSegment = this._lastInitSegments[type];\n                if (lastInitSegment) {\n                    this._pendingSegments[type].push(lastInitSegment);\n                    if (!sb.updating) {\n                        this._doAppendSegments();\n                    }\n                }\n            }\n        }\n    }\n\n    endOfStream() {\n        let ms = this._mediaSource;\n        let sb = this._sourceBuffers;\n        if (!ms || ms.readyState !== 'open') {\n            if (ms && ms.readyState === 'closed' && this._hasPendingSegments()) {\n                // If MediaSource hasn't turned into open state, and there're pending segments\n                // Mark pending endOfStream, defer call until all pending segments appended complete\n                this._hasPendingEos = true;\n            }\n            return;\n        }\n        if (sb.video && sb.video.updating || sb.audio && sb.audio.updating) {\n            // If any sourcebuffer is updating, defer endOfStream operation\n            // See _onSourceBufferUpdateEnd()\n            this._hasPendingEos = true;\n        } else {\n            this._hasPendingEos = false;\n            // Notify media data loading complete\n            // This is helpful for correcting total duration to match last media segment\n            // Otherwise MediaElement's ended event may not be triggered\n            ms.endOfStream();\n        }\n    }\n\n    getNearestKeyframe(dts) {\n        return this._idrList.getLastSyncPointBeforeDts(dts);\n    }\n\n    _needCleanupSourceBuffer() {\n        if (!this._config.autoCleanupSourceBuffer) {\n            return false;\n        }\n\n        let currentTime = this._mediaElement.currentTime;\n\n        for (let type in this._sourceBuffers) {\n            let sb = this._sourceBuffers[type];\n            if (sb) {\n                let buffered = sb.buffered;\n                if (buffered.length >= 1) {\n                    if (currentTime - buffered.start(0) >= this._config.autoCleanupMaxBackwardDuration) {\n                        return true;\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n\n    _doCleanupSourceBuffer() {\n        let currentTime = this._mediaElement.currentTime;\n\n        for (let type in this._sourceBuffers) {\n            let sb = this._sourceBuffers[type];\n            if (sb) {\n                let buffered = sb.buffered;\n                let doRemove = false;\n\n                for (let i = 0; i < buffered.length; i++) {\n                    let start = buffered.start(i);\n                    let end = buffered.end(i);\n\n                    if (start <= currentTime && currentTime < end + 3) {  // padding 3 seconds\n                        if (currentTime - start >= this._config.autoCleanupMaxBackwardDuration) {\n                            doRemove = true;\n                            let removeEnd = currentTime - this._config.autoCleanupMinBackwardDuration;\n                            this._pendingRemoveRanges[type].push({start: start, end: removeEnd});\n                        }\n                    } else if (end < currentTime) {\n                        doRemove = true;\n                        this._pendingRemoveRanges[type].push({start: start, end: end});\n                    }\n                }\n\n                if (doRemove && !sb.updating) {\n                    this._doRemoveRanges();\n                }\n            }\n        }\n    }\n\n    _updateMediaSourceDuration() {\n        let sb = this._sourceBuffers;\n        if (this._mediaElement.readyState === 0 || this._mediaSource.readyState !== 'open') {\n            return;\n        }\n        if ((sb.video && sb.video.updating) || (sb.audio && sb.audio.updating)) {\n            return;\n        }\n\n        let current = this._mediaSource.duration;\n        let target = this._pendingMediaDuration;\n\n        if (target > 0 && (isNaN(current) || target > current)) {\n            Log.v(this.TAG, `Update MediaSource duration from ${current} to ${target}`);\n            this._mediaSource.duration = target;\n        }\n\n        this._requireSetMediaDuration = false;\n        this._pendingMediaDuration = 0;\n    }\n\n    _doRemoveRanges() {\n        for (let type in this._pendingRemoveRanges) {\n            if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {\n                continue;\n            }\n            let sb = this._sourceBuffers[type];\n            let ranges = this._pendingRemoveRanges[type];\n            while (ranges.length && !sb.updating) {\n                let range = ranges.shift();\n                sb.remove(range.start, range.end);\n            }\n        }\n    }\n\n    _doAppendSegments() {\n        let pendingSegments = this._pendingSegments;\n\n        for (let type in pendingSegments) {\n            if (!this._sourceBuffers[type] || this._sourceBuffers[type].updating) {\n                continue;\n            }\n\n            if (pendingSegments[type].length > 0) {\n                let segment = pendingSegments[type].shift();\n\n                if (segment.timestampOffset) {\n                    // For MPEG audio stream in MSE, if unbuffered-seeking occurred\n                    // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.\n                    let currentOffset = this._sourceBuffers[type].timestampOffset;\n                    let targetOffset = segment.timestampOffset / 1000;  // in seconds\n\n                    let delta = Math.abs(currentOffset - targetOffset);\n                    if (delta > 0.1) {  // If time delta > 100ms\n                        Log.v(this.TAG, `Update MPEG audio timestampOffset from ${currentOffset} to ${targetOffset}`);\n                        this._sourceBuffers[type].timestampOffset = targetOffset;\n                    }\n                    delete segment.timestampOffset;\n                }\n\n                if (!segment.data || segment.data.byteLength === 0) {\n                    // Ignore empty buffer\n                    continue;\n                }\n\n                try {\n                    this._sourceBuffers[type].appendBuffer(segment.data);\n                    this._isBufferFull = false;\n                    if (type === 'video' && segment.hasOwnProperty('info')) {\n                        this._idrList.appendArray(segment.info.syncPoints);\n                    }\n                } catch (error) {\n                    this._pendingSegments[type].unshift(segment);\n                    if (error.code === 22) {  // QuotaExceededError\n                        /* Notice that FireFox may not throw QuotaExceededError if SourceBuffer is full\n                         * Currently we can only do lazy-load to avoid SourceBuffer become scattered.\n                         * SourceBuffer eviction policy may be changed in future version of FireFox.\n                         *\n                         * Related issues:\n                         * https://bugzilla.mozilla.org/show_bug.cgi?id=1279885\n                         * https://bugzilla.mozilla.org/show_bug.cgi?id=1280023\n                         */\n\n                        // report buffer full, abort network IO\n                        if (!this._isBufferFull) {\n                            this._emitter.emit(MSEEvents.BUFFER_FULL);\n                        }\n                        this._isBufferFull = true;\n                    } else {\n                        Log.e(this.TAG, error.message);\n                        this._emitter.emit(MSEEvents.ERROR, {code: error.code, msg: error.message});\n                    }\n                }\n            }\n        }\n    }\n\n    _onSourceOpen() {\n        Log.v(this.TAG, 'MediaSource onSourceOpen');\n        this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);\n        // deferred sourcebuffer creation / initialization\n        if (this._pendingSourceBufferInit.length > 0) {\n            let pendings = this._pendingSourceBufferInit;\n            while (pendings.length) {\n                let segment = pendings.shift();\n                this.appendInitSegment(segment, true);\n            }\n        }\n        // there may be some pending media segments, append them\n        if (this._hasPendingSegments()) {\n            this._doAppendSegments();\n        }\n        this._emitter.emit(MSEEvents.SOURCE_OPEN);\n    }\n\n    _onSourceEnded() {\n        // fired on endOfStream\n        Log.v(this.TAG, 'MediaSource onSourceEnded');\n    }\n\n    _onSourceClose() {\n        // fired on detaching from media element\n        Log.v(this.TAG, 'MediaSource onSourceClose');\n        if (this._mediaSource && this.e != null) {\n            this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);\n            this._mediaSource.removeEventListener('sourceended', this.e.onSourceEnded);\n            this._mediaSource.removeEventListener('sourceclose', this.e.onSourceClose);\n        }\n    }\n\n    _hasPendingSegments() {\n        let ps = this._pendingSegments;\n        return ps.video.length > 0 || ps.audio.length > 0;\n    }\n\n    _hasPendingRemoveRanges() {\n        let prr = this._pendingRemoveRanges;\n        return prr.video.length > 0 || prr.audio.length > 0;\n    }\n\n    _onSourceBufferUpdateEnd() {\n        if (this._requireSetMediaDuration) {\n            this._updateMediaSourceDuration();\n        } else if (this._hasPendingRemoveRanges()) {\n            this._doRemoveRanges();\n        } else if (this._hasPendingSegments()) {\n            this._doAppendSegments();\n        } else if (this._hasPendingEos) {\n            this.endOfStream();\n        }\n        this._emitter.emit(MSEEvents.UPDATE_END);\n    }\n\n    _onSourceBufferError(e) {\n        Log.e(this.TAG, `SourceBuffer Error: ${e}`);\n        // this error might not always be fatal, just ignore it\n    }\n\n}\n\nexport default MSEController;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst MSEEvents = {\n    ERROR: 'error',\n    SOURCE_OPEN: 'source_open',\n    UPDATE_END: 'update_end',\n    BUFFER_FULL: 'buffer_full'\n};\n\nexport default MSEEvents;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport Log from '../utils/logger.js';\nimport LoggingControl from '../utils/logging-control.js';\nimport TransmuxingController from './transmuxing-controller.js';\nimport TransmuxingEvents from './transmuxing-events.js';\nimport TransmuxingWorker from './transmuxing-worker.js';\nimport MediaInfo from './media-info.js';\n\nclass Transmuxer {\n\n    constructor(mediaDataSource, config) {\n        this.TAG = 'Transmuxer';\n        this._emitter = new EventEmitter();\n\n        if (config.enableWorker && typeof (Worker) !== 'undefined') {\n            try {\n                let work = require('webworkify');\n                this._worker = work(TransmuxingWorker);\n                this._workerDestroying = false;\n                this._worker.addEventListener('message', this._onWorkerMessage.bind(this));\n                this._worker.postMessage({cmd: 'init', param: [mediaDataSource, config]});\n                this.e = {\n                    onLoggingConfigChanged: this._onLoggingConfigChanged.bind(this)\n                };\n                LoggingControl.registerListener(this.e.onLoggingConfigChanged);\n                this._worker.postMessage({cmd: 'logging_config', param: LoggingControl.getConfig()});\n            } catch (error) {\n                Log.e(this.TAG, 'Error while initialize transmuxing worker, fallback to inline transmuxing');\n                this._worker = null;\n                this._controller = new TransmuxingController(mediaDataSource, config);\n            }\n        } else {\n            this._controller = new TransmuxingController(mediaDataSource, config);\n        }\n\n        if (this._controller) {\n            let ctl = this._controller;\n            ctl.on(TransmuxingEvents.IO_ERROR, this._onIOError.bind(this));\n            ctl.on(TransmuxingEvents.DEMUX_ERROR, this._onDemuxError.bind(this));\n            ctl.on(TransmuxingEvents.INIT_SEGMENT, this._onInitSegment.bind(this));\n            ctl.on(TransmuxingEvents.MEDIA_SEGMENT, this._onMediaSegment.bind(this));\n            ctl.on(TransmuxingEvents.LOADING_COMPLETE, this._onLoadingComplete.bind(this));\n            ctl.on(TransmuxingEvents.RECOVERED_EARLY_EOF, this._onRecoveredEarlyEof.bind(this));\n            ctl.on(TransmuxingEvents.MEDIA_INFO, this._onMediaInfo.bind(this));\n            ctl.on(TransmuxingEvents.STATISTICS_INFO, this._onStatisticsInfo.bind(this));\n            ctl.on(TransmuxingEvents.RECOMMEND_SEEKPOINT, this._onRecommendSeekpoint.bind(this));\n        }\n    }\n\n    destroy() {\n        if (this._worker) {\n            if (!this._workerDestroying) {\n                this._workerDestroying = true;\n                this._worker.postMessage({cmd: 'destroy'});\n                LoggingControl.removeListener(this.e.onLoggingConfigChanged);\n                this.e = null;\n            }\n        } else {\n            this._controller.destroy();\n            this._controller = null;\n        }\n        this._emitter.removeAllListeners();\n        this._emitter = null;\n    }\n\n    on(event, listener) {\n        this._emitter.addListener(event, listener);\n    }\n\n    off(event, listener) {\n        this._emitter.removeListener(event, listener);\n    }\n\n    hasWorker() {\n        return this._worker != null;\n    }\n\n    open() {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'start'});\n        } else {\n            this._controller.start();\n        }\n    }\n\n    close() {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'stop'});\n        } else {\n            this._controller.stop();\n        }\n    }\n\n    seek(milliseconds) {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'seek', param: milliseconds});\n        } else {\n            this._controller.seek(milliseconds);\n        }\n    }\n\n    pause() {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'pause'});\n        } else {\n            this._controller.pause();\n        }\n    }\n\n    resume() {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'resume'});\n        } else {\n            this._controller.resume();\n        }\n    }\n\n    _onInitSegment(type, initSegment) {\n        // do async invoke\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.INIT_SEGMENT, type, initSegment);\n        });\n    }\n\n    _onMediaSegment(type, mediaSegment) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.MEDIA_SEGMENT, type, mediaSegment);\n        });\n    }\n\n    _onLoadingComplete() {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.LOADING_COMPLETE);\n        });\n    }\n\n    _onRecoveredEarlyEof() {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.RECOVERED_EARLY_EOF);\n        });\n    }\n\n    _onMediaInfo(mediaInfo) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.MEDIA_INFO, mediaInfo);\n        });\n    }\n\n    _onStatisticsInfo(statisticsInfo) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.STATISTICS_INFO, statisticsInfo);\n        });\n    }\n\n    _onIOError(type, info) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.IO_ERROR, type, info);\n        });\n    }\n\n    _onDemuxError(type, info) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.DEMUX_ERROR, type, info);\n        });\n    }\n\n    _onRecommendSeekpoint(milliseconds) {\n        Promise.resolve().then(() => {\n            this._emitter.emit(TransmuxingEvents.RECOMMEND_SEEKPOINT, milliseconds);\n        });\n    }\n\n    _onLoggingConfigChanged(config) {\n        if (this._worker) {\n            this._worker.postMessage({cmd: 'logging_config', param: config});\n        }\n    }\n\n    _onWorkerMessage(e) {\n        let message = e.data;\n        let data = message.data;\n\n        if (message.msg === 'destroyed' || this._workerDestroying) {\n            this._workerDestroying = false;\n            this._worker.terminate();\n            this._worker = null;\n            return;\n        }\n\n        switch (message.msg) {\n            case TransmuxingEvents.INIT_SEGMENT:\n            case TransmuxingEvents.MEDIA_SEGMENT:\n                this._emitter.emit(message.msg, data.type, data.data);\n                break;\n            case TransmuxingEvents.LOADING_COMPLETE:\n            case TransmuxingEvents.RECOVERED_EARLY_EOF:\n                this._emitter.emit(message.msg);\n                break;\n            case TransmuxingEvents.MEDIA_INFO:\n                Object.setPrototypeOf(data, MediaInfo.prototype);\n                this._emitter.emit(message.msg, data);\n                break;\n            case TransmuxingEvents.STATISTICS_INFO:\n                this._emitter.emit(message.msg, data);\n                break;\n            case TransmuxingEvents.IO_ERROR:\n            case TransmuxingEvents.DEMUX_ERROR:\n                this._emitter.emit(message.msg, data.type, data.info);\n                break;\n            case TransmuxingEvents.RECOMMEND_SEEKPOINT:\n                this._emitter.emit(message.msg, data);\n                break;\n            case 'logcat_callback':\n                Log.emitter.emit('log', data.type, data.logcat);\n                break;\n            default:\n                break;\n        }\n    }\n\n}\n\nexport default Transmuxer;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport Log from '../utils/logger.js';\nimport Browser from '../utils/browser.js';\nimport MediaInfo from './media-info.js';\nimport FLVDemuxer from '../demux/flv-demuxer.js';\nimport MP4Remuxer from '../remux/mp4-remuxer.js';\nimport DemuxErrors from '../demux/demux-errors.js';\nimport IOController from '../io/io-controller.js';\nimport TransmuxingEvents from './transmuxing-events.js';\nimport {LoaderStatus, LoaderErrors} from '../io/loader.js';\n\n// Transmuxing (IO, Demuxing, Remuxing) controller, with multipart support\nclass TransmuxingController {\n\n    constructor(mediaDataSource, config) {\n        this.TAG = 'TransmuxingController';\n        this._emitter = new EventEmitter();\n\n        this._config = config;\n\n        // treat single part media as multipart media, which has only one segment\n        if (!mediaDataSource.segments) {\n            mediaDataSource.segments = [{\n                duration: mediaDataSource.duration,\n                filesize: mediaDataSource.filesize,\n                url: mediaDataSource.url\n            }];\n        }\n\n        // fill in default IO params if not exists\n        if (typeof mediaDataSource.cors !== 'boolean') {\n            mediaDataSource.cors = true;\n        }\n        if (typeof mediaDataSource.withCredentials !== 'boolean') {\n            mediaDataSource.withCredentials = false;\n        }\n\n        this._mediaDataSource = mediaDataSource;\n        this._currentSegmentIndex = 0;\n        let totalDuration = 0;\n\n        this._mediaDataSource.segments.forEach((segment) => {\n            // timestampBase for each segment, and calculate total duration\n            segment.timestampBase = totalDuration;\n            totalDuration += segment.duration;\n            // params needed by IOController\n            segment.cors = mediaDataSource.cors;\n            segment.withCredentials = mediaDataSource.withCredentials;\n            // referrer policy control, if exist\n            if (config.referrerPolicy) {\n                segment.referrerPolicy = config.referrerPolicy;\n            }\n        });\n\n        if (!isNaN(totalDuration) && this._mediaDataSource.duration !== totalDuration) {\n            this._mediaDataSource.duration = totalDuration;\n        }\n\n        this._mediaInfo = null;\n        this._demuxer = null;\n        this._remuxer = null;\n        this._ioctl = null;\n\n        this._pendingSeekTime = null;\n        this._pendingResolveSeekPoint = null;\n\n        this._statisticsReporter = null;\n    }\n\n    destroy() {\n        this._mediaInfo = null;\n        this._mediaDataSource = null;\n\n        if (this._statisticsReporter) {\n            this._disableStatisticsReporter();\n        }\n        if (this._ioctl) {\n            this._ioctl.destroy();\n            this._ioctl = null;\n        }\n        if (this._demuxer) {\n            this._demuxer.destroy();\n            this._demuxer = null;\n        }\n        if (this._remuxer) {\n            this._remuxer.destroy();\n            this._remuxer = null;\n        }\n\n        this._emitter.removeAllListeners();\n        this._emitter = null;\n    }\n\n    on(event, listener) {\n        this._emitter.addListener(event, listener);\n    }\n\n    off(event, listener) {\n        this._emitter.removeListener(event, listener);\n    }\n\n    start() {\n        this._loadSegment(0);\n        this._enableStatisticsReporter();\n    }\n\n    _loadSegment(segmentIndex, optionalFrom) {\n        this._currentSegmentIndex = segmentIndex;\n        let dataSource = this._mediaDataSource.segments[segmentIndex];\n\n        let ioctl = this._ioctl = new IOController(dataSource, this._config, segmentIndex);\n        ioctl.onError = this._onIOException.bind(this);\n        ioctl.onSeeked = this._onIOSeeked.bind(this);\n        ioctl.onComplete = this._onIOComplete.bind(this);\n        ioctl.onRedirect = this._onIORedirect.bind(this);\n        ioctl.onRecoveredEarlyEof = this._onIORecoveredEarlyEof.bind(this);\n\n        if (optionalFrom) {\n            this._demuxer.bindDataSource(this._ioctl);\n        } else {\n            ioctl.onDataArrival = this._onInitChunkArrival.bind(this);\n        }\n\n        ioctl.open(optionalFrom);\n    }\n\n    stop() {\n        this._internalAbort();\n        this._disableStatisticsReporter();\n    }\n\n    _internalAbort() {\n        if (this._ioctl) {\n            this._ioctl.destroy();\n            this._ioctl = null;\n        }\n    }\n\n    pause() {  // take a rest\n        if (this._ioctl && this._ioctl.isWorking()) {\n            this._ioctl.pause();\n            this._disableStatisticsReporter();\n        }\n    }\n\n    resume() {\n        if (this._ioctl && this._ioctl.isPaused()) {\n            this._ioctl.resume();\n            this._enableStatisticsReporter();\n        }\n    }\n\n    seek(milliseconds) {\n        if (this._mediaInfo == null || !this._mediaInfo.isSeekable()) {\n            return;\n        }\n\n        let targetSegmentIndex = this._searchSegmentIndexContains(milliseconds);\n\n        if (targetSegmentIndex === this._currentSegmentIndex) {\n            // intra-segment seeking\n            let segmentInfo = this._mediaInfo.segments[targetSegmentIndex];\n\n            if (segmentInfo == undefined) {\n                // current segment loading started, but mediainfo hasn't received yet\n                // wait for the metadata loaded, then seek to expected position\n                this._pendingSeekTime = milliseconds;\n            } else {\n                let keyframe = segmentInfo.getNearestKeyframe(milliseconds);\n                this._remuxer.seek(keyframe.milliseconds);\n                this._ioctl.seek(keyframe.fileposition);\n                // Will be resolved in _onRemuxerMediaSegmentArrival()\n                this._pendingResolveSeekPoint = keyframe.milliseconds;\n            }\n        } else {\n            // cross-segment seeking\n            let targetSegmentInfo = this._mediaInfo.segments[targetSegmentIndex];\n\n            if (targetSegmentInfo == undefined) {\n                // target segment hasn't been loaded. We need metadata then seek to expected time\n                this._pendingSeekTime = milliseconds;\n                this._internalAbort();\n                this._remuxer.seek();\n                this._remuxer.insertDiscontinuity();\n                this._loadSegment(targetSegmentIndex);\n                // Here we wait for the metadata loaded, then seek to expected position\n            } else {\n                // We have target segment's metadata, direct seek to target position\n                let keyframe = targetSegmentInfo.getNearestKeyframe(milliseconds);\n                this._internalAbort();\n                this._remuxer.seek(milliseconds);\n                this._remuxer.insertDiscontinuity();\n                this._demuxer.resetMediaInfo();\n                this._demuxer.timestampBase = this._mediaDataSource.segments[targetSegmentIndex].timestampBase;\n                this._loadSegment(targetSegmentIndex, keyframe.fileposition);\n                this._pendingResolveSeekPoint = keyframe.milliseconds;\n                this._reportSegmentMediaInfo(targetSegmentIndex);\n            }\n        }\n\n        this._enableStatisticsReporter();\n    }\n\n    _searchSegmentIndexContains(milliseconds) {\n        let segments = this._mediaDataSource.segments;\n        let idx = segments.length - 1;\n\n        for (let i = 0; i < segments.length; i++) {\n            if (milliseconds < segments[i].timestampBase) {\n                idx = i - 1;\n                break;\n            }\n        }\n        return idx;\n    }\n\n    _onInitChunkArrival(data, byteStart) {\n        let probeData = null;\n        let consumed = 0;\n\n        if (byteStart > 0) {\n            // IOController seeked immediately after opened, byteStart > 0 callback may received\n            this._demuxer.bindDataSource(this._ioctl);\n            this._demuxer.timestampBase = this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase;\n\n            consumed = this._demuxer.parseChunks(data, byteStart);\n        } else if ((probeData = FLVDemuxer.probe(data)).match) {\n            // Always create new FLVDemuxer\n            this._demuxer = new FLVDemuxer(probeData, this._config);\n\n            if (!this._remuxer) {\n                this._remuxer = new MP4Remuxer(this._config);\n            }\n\n            let mds = this._mediaDataSource;\n            if (mds.duration != undefined && !isNaN(mds.duration)) {\n                this._demuxer.overridedDuration = mds.duration;\n            }\n            if (typeof mds.hasAudio === 'boolean') {\n                this._demuxer.overridedHasAudio = mds.hasAudio;\n            }\n            if (typeof mds.hasVideo === 'boolean') {\n                this._demuxer.overridedHasVideo = mds.hasVideo;\n            }\n\n            this._demuxer.timestampBase = mds.segments[this._currentSegmentIndex].timestampBase;\n\n            this._demuxer.onError = this._onDemuxException.bind(this);\n            this._demuxer.onMediaInfo = this._onMediaInfo.bind(this);\n\n            this._remuxer.bindDataSource(this._demuxer\n                         .bindDataSource(this._ioctl\n            ));\n\n            this._remuxer.onInitSegment = this._onRemuxerInitSegmentArrival.bind(this);\n            this._remuxer.onMediaSegment = this._onRemuxerMediaSegmentArrival.bind(this);\n\n            consumed = this._demuxer.parseChunks(data, byteStart);\n        } else {\n            probeData = null;\n            Log.e(this.TAG, 'Non-FLV, Unsupported media type!');\n            Promise.resolve().then(() => {\n                this._internalAbort();\n            });\n            this._emitter.emit(TransmuxingEvents.DEMUX_ERROR, DemuxErrors.FORMAT_UNSUPPORTED, 'Non-FLV, Unsupported media type');\n\n            consumed = 0;\n        }\n\n        return consumed;\n    }\n\n    _onMediaInfo(mediaInfo) {\n        if (this._mediaInfo == null) {\n            // Store first segment's mediainfo as global mediaInfo\n            this._mediaInfo = Object.assign({}, mediaInfo);\n            this._mediaInfo.keyframesIndex = null;\n            this._mediaInfo.segments = [];\n            this._mediaInfo.segmentCount = this._mediaDataSource.segments.length;\n            Object.setPrototypeOf(this._mediaInfo, MediaInfo.prototype);\n        }\n\n        let segmentInfo = Object.assign({}, mediaInfo);\n        Object.setPrototypeOf(segmentInfo, MediaInfo.prototype);\n        this._mediaInfo.segments[this._currentSegmentIndex] = segmentInfo;\n\n        // notify mediaInfo update\n        this._reportSegmentMediaInfo(this._currentSegmentIndex);\n\n        if (this._pendingSeekTime != null) {\n            Promise.resolve().then(() => {\n                let target = this._pendingSeekTime;\n                this._pendingSeekTime = null;\n                this.seek(target);\n            });\n        }\n    }\n\n    _onIOSeeked() {\n        this._remuxer.insertDiscontinuity();\n    }\n\n    _onIOComplete(extraData) {\n        let segmentIndex = extraData;\n        let nextSegmentIndex = segmentIndex + 1;\n\n        if (nextSegmentIndex < this._mediaDataSource.segments.length) {\n            this._internalAbort();\n            this._loadSegment(nextSegmentIndex);\n        } else {\n            this._emitter.emit(TransmuxingEvents.LOADING_COMPLETE);\n            this._disableStatisticsReporter();\n        }\n    }\n\n    _onIORedirect(redirectedURL) {\n        let segmentIndex = this._ioctl.extraData;\n        this._mediaDataSource.segments[segmentIndex].redirectedURL = redirectedURL;\n    }\n\n    _onIORecoveredEarlyEof() {\n        this._emitter.emit(TransmuxingEvents.RECOVERED_EARLY_EOF);\n    }\n\n    _onIOException(type, info) {\n        Log.e(this.TAG, `IOException: type = ${type}, code = ${info.code}, msg = ${info.msg}`);\n        this._emitter.emit(TransmuxingEvents.IO_ERROR, type, info);\n        this._disableStatisticsReporter();\n    }\n\n    _onDemuxException(type, info) {\n        Log.e(this.TAG, `DemuxException: type = ${type}, info = ${info}`);\n        this._emitter.emit(TransmuxingEvents.DEMUX_ERROR, type, info);\n    }\n\n    _onRemuxerInitSegmentArrival(type, initSegment) {\n        this._emitter.emit(TransmuxingEvents.INIT_SEGMENT, type, initSegment);\n    }\n\n    _onRemuxerMediaSegmentArrival(type, mediaSegment) {\n        if (this._pendingSeekTime != null) {\n            // Media segments after new-segment cross-seeking should be dropped.\n            return;\n        }\n        this._emitter.emit(TransmuxingEvents.MEDIA_SEGMENT, type, mediaSegment);\n\n        // Resolve pending seekPoint\n        if (this._pendingResolveSeekPoint != null && type === 'video') {\n            let syncPoints = mediaSegment.info.syncPoints;\n            let seekpoint = this._pendingResolveSeekPoint;\n            this._pendingResolveSeekPoint = null;\n\n            // Safari: Pass PTS for recommend_seekpoint\n            if (Browser.safari && syncPoints.length > 0 && syncPoints[0].originalDts === seekpoint) {\n                seekpoint = syncPoints[0].pts;\n            }\n            // else: use original DTS (keyframe.milliseconds)\n\n            this._emitter.emit(TransmuxingEvents.RECOMMEND_SEEKPOINT, seekpoint);\n        }\n    }\n\n    _enableStatisticsReporter() {\n        if (this._statisticsReporter == null) {\n            this._statisticsReporter = self.setInterval(\n                this._reportStatisticsInfo.bind(this),\n            this._config.statisticsInfoReportInterval);\n        }\n    }\n\n    _disableStatisticsReporter() {\n        if (this._statisticsReporter) {\n            self.clearInterval(this._statisticsReporter);\n            this._statisticsReporter = null;\n        }\n    }\n\n    _reportSegmentMediaInfo(segmentIndex) {\n        let segmentInfo = this._mediaInfo.segments[segmentIndex];\n        let exportInfo = Object.assign({}, segmentInfo);\n\n        exportInfo.duration = this._mediaInfo.duration;\n        exportInfo.segmentCount = this._mediaInfo.segmentCount;\n        delete exportInfo.segments;\n        delete exportInfo.keyframesIndex;\n\n        this._emitter.emit(TransmuxingEvents.MEDIA_INFO, exportInfo);\n    }\n\n    _reportStatisticsInfo() {\n        let info = {};\n\n        info.url = this._ioctl.currentURL;\n        info.hasRedirect = this._ioctl.hasRedirect;\n        if (info.hasRedirect) {\n            info.redirectedURL = this._ioctl.currentRedirectedURL;\n        }\n\n        info.speed = this._ioctl.currentSpeed;\n        info.loaderType = this._ioctl.loaderType;\n        info.currentSegmentIndex = this._currentSegmentIndex;\n        info.totalSegmentCount = this._mediaDataSource.segments.length;\n\n        this._emitter.emit(TransmuxingEvents.STATISTICS_INFO, info);\n    }\n\n}\n\nexport default TransmuxingController;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst TransmuxingEvents = {\n    IO_ERROR: 'io_error',\n    DEMUX_ERROR: 'demux_error',\n    INIT_SEGMENT: 'init_segment',\n    MEDIA_SEGMENT: 'media_segment',\n    LOADING_COMPLETE: 'loading_complete',\n    RECOVERED_EARLY_EOF: 'recovered_early_eof',\n    MEDIA_INFO: 'media_info',\n    STATISTICS_INFO: 'statistics_info',\n    RECOMMEND_SEEKPOINT: 'recommend_seekpoint'\n};\n\nexport default TransmuxingEvents;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport LoggingControl from '../utils/logging-control.js';\nimport Polyfill from '../utils/polyfill.js';\nimport TransmuxingController from './transmuxing-controller.js';\nimport TransmuxingEvents from './transmuxing-events.js';\n\n/* post message to worker:\n   data: {\n       cmd: string\n       param: any\n   }\n\n   receive message from worker:\n   data: {\n       msg: string,\n       data: any\n   }\n */\n\nlet TransmuxingWorker = function (self) {\n\n    let TAG = 'TransmuxingWorker';\n    let controller = null;\n    let logcatListener = onLogcatCallback.bind(this);\n\n    Polyfill.install();\n\n    self.addEventListener('message', function (e) {\n        switch (e.data.cmd) {\n            case 'init':\n                controller = new TransmuxingController(e.data.param[0], e.data.param[1]);\n                controller.on(TransmuxingEvents.IO_ERROR, onIOError.bind(this));\n                controller.on(TransmuxingEvents.DEMUX_ERROR, onDemuxError.bind(this));\n                controller.on(TransmuxingEvents.INIT_SEGMENT, onInitSegment.bind(this));\n                controller.on(TransmuxingEvents.MEDIA_SEGMENT, onMediaSegment.bind(this));\n                controller.on(TransmuxingEvents.LOADING_COMPLETE, onLoadingComplete.bind(this));\n                controller.on(TransmuxingEvents.RECOVERED_EARLY_EOF, onRecoveredEarlyEof.bind(this));\n                controller.on(TransmuxingEvents.MEDIA_INFO, onMediaInfo.bind(this));\n                controller.on(TransmuxingEvents.STATISTICS_INFO, onStatisticsInfo.bind(this));\n                controller.on(TransmuxingEvents.RECOMMEND_SEEKPOINT, onRecommendSeekpoint.bind(this));\n                break;\n            case 'destroy':\n                if (controller) {\n                    controller.destroy();\n                    controller = null;\n                }\n                self.postMessage({msg: 'destroyed'});\n                break;\n            case 'start':\n                controller.start();\n                break;\n            case 'stop':\n                controller.stop();\n                break;\n            case 'seek':\n                controller.seek(e.data.param);\n                break;\n            case 'pause':\n                controller.pause();\n                break;\n            case 'resume':\n                controller.resume();\n                break;\n            case 'logging_config': {\n                let config = e.data.param;\n                LoggingControl.applyConfig(config);\n\n                if (config.enableCallback === true) {\n                    LoggingControl.addLogListener(logcatListener);\n                } else {\n                    LoggingControl.removeLogListener(logcatListener);\n                }\n                break;\n            }\n        }\n    });\n\n    function onInitSegment(type, initSegment) {\n        let obj = {\n            msg: TransmuxingEvents.INIT_SEGMENT,\n            data: {\n                type: type,\n                data: initSegment\n            }\n        };\n        self.postMessage(obj, [initSegment.data]);  // data: ArrayBuffer\n    }\n\n    function onMediaSegment(type, mediaSegment) {\n        let obj = {\n            msg: TransmuxingEvents.MEDIA_SEGMENT,\n            data: {\n                type: type,\n                data: mediaSegment\n            }\n        };\n        self.postMessage(obj, [mediaSegment.data]);  // data: ArrayBuffer\n    }\n\n    function onLoadingComplete() {\n        let obj = {\n            msg: TransmuxingEvents.LOADING_COMPLETE\n        };\n        self.postMessage(obj);\n    }\n\n    function onRecoveredEarlyEof() {\n        let obj = {\n            msg: TransmuxingEvents.RECOVERED_EARLY_EOF\n        };\n        self.postMessage(obj);\n    }\n\n    function onMediaInfo(mediaInfo) {\n        let obj = {\n            msg: TransmuxingEvents.MEDIA_INFO,\n            data: mediaInfo\n        };\n        self.postMessage(obj);\n    }\n\n    function onStatisticsInfo(statInfo) {\n        let obj = {\n            msg: TransmuxingEvents.STATISTICS_INFO,\n            data: statInfo\n        };\n        self.postMessage(obj);\n    }\n\n    function onIOError(type, info) {\n        self.postMessage({\n            msg: TransmuxingEvents.IO_ERROR,\n            data: {\n                type: type,\n                info: info\n            }\n        });\n    }\n\n    function onDemuxError(type, info) {\n        self.postMessage({\n            msg: TransmuxingEvents.DEMUX_ERROR,\n            data: {\n                type: type,\n                info: info\n            }\n        });\n    }\n\n    function onRecommendSeekpoint(milliseconds) {\n        self.postMessage({\n            msg: TransmuxingEvents.RECOMMEND_SEEKPOINT,\n            data: milliseconds\n        });\n    }\n\n    function onLogcatCallback(type, str) {\n        self.postMessage({\n            msg: 'logcat_callback',\n            data: {\n                type: type,\n                logcat: str\n            }\n        });\n    }\n\n};\n\nexport default TransmuxingWorker;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport decodeUTF8 from '../utils/utf8-conv.js';\nimport {IllegalStateException} from '../utils/exception.js';\n\nlet le = (function () {\n    let buf = new ArrayBuffer(2);\n    (new DataView(buf)).setInt16(0, 256, true);  // little-endian write\n    return (new Int16Array(buf))[0] === 256;  // platform-spec read, if equal then LE\n})();\n\nclass AMF {\n\n    static parseScriptData(arrayBuffer, dataOffset, dataSize) {\n        let data = {};\n\n        try {\n            let name = AMF.parseValue(arrayBuffer, dataOffset, dataSize);\n            let value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);\n\n            data[name.data] = value.data;\n        } catch (e) {\n            Log.e('AMF', e.toString());\n        }\n\n        return data;\n    }\n\n    static parseObject(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 3) {\n            throw new IllegalStateException('Data not enough when parse ScriptDataObject');\n        }\n        let name = AMF.parseString(arrayBuffer, dataOffset, dataSize);\n        let value = AMF.parseValue(arrayBuffer, dataOffset + name.size, dataSize - name.size);\n        let isObjectEnd = value.objectEnd;\n\n        return {\n            data: {\n                name: name.data,\n                value: value.data\n            },\n            size: name.size + value.size,\n            objectEnd: isObjectEnd\n        };\n    }\n\n    static parseVariable(arrayBuffer, dataOffset, dataSize) {\n        return AMF.parseObject(arrayBuffer, dataOffset, dataSize);\n    }\n\n    static parseString(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 2) {\n            throw new IllegalStateException('Data not enough when parse String');\n        }\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n        let length = v.getUint16(0, !le);\n\n        let str;\n        if (length > 0) {\n            str = decodeUTF8(new Uint8Array(arrayBuffer, dataOffset + 2, length));\n        } else {\n            str = '';\n        }\n\n        return {\n            data: str,\n            size: 2 + length\n        };\n    }\n\n    static parseLongString(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 4) {\n            throw new IllegalStateException('Data not enough when parse LongString');\n        }\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n        let length = v.getUint32(0, !le);\n\n        let str;\n        if (length > 0) {\n            str = decodeUTF8(new Uint8Array(arrayBuffer, dataOffset + 4, length));\n        } else {\n            str = '';\n        }\n\n        return {\n            data: str,\n            size: 4 + length\n        };\n    }\n\n    static parseDate(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 10) {\n            throw new IllegalStateException('Data size invalid when parse Date');\n        }\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n        let timestamp = v.getFloat64(0, !le);\n        let localTimeOffset = v.getInt16(8, !le);\n        timestamp += localTimeOffset * 60 * 1000;  // get UTC time\n\n        return {\n            data: new Date(timestamp),\n            size: 8 + 2\n        };\n    }\n\n    static parseValue(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 1) {\n            throw new IllegalStateException('Data not enough when parse Value');\n        }\n\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n        let offset = 1;\n        let type = v.getUint8(0);\n        let value;\n        let objectEnd = false;\n\n        try {\n            switch (type) {\n                case 0:  // Number(Double) type\n                    value = v.getFloat64(1, !le);\n                    offset += 8;\n                    break;\n                case 1: {  // Boolean type\n                    let b = v.getUint8(1);\n                    value = b ? true : false;\n                    offset += 1;\n                    break;\n                }\n                case 2: {  // String type\n                    let amfstr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);\n                    value = amfstr.data;\n                    offset += amfstr.size;\n                    break;\n                }\n                case 3: { // Object(s) type\n                    value = {};\n                    let terminal = 0;  // workaround for malformed Objects which has missing ScriptDataObjectEnd\n                    if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                        terminal = 3;\n                    }\n                    while (offset < dataSize - 4) {  // 4 === type(UI8) + ScriptDataObjectEnd(UI24)\n                        let amfobj = AMF.parseObject(arrayBuffer, dataOffset + offset, dataSize - offset - terminal);\n                        if (amfobj.objectEnd)\n                            break;\n                        value[amfobj.data.name] = amfobj.data.value;\n                        offset += amfobj.size;\n                    }\n                    if (offset <= dataSize - 3) {\n                        let marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;\n                        if (marker === 9) {\n                            offset += 3;\n                        }\n                    }\n                    break;\n                }\n                case 8: { // ECMA array type (Mixed array)\n                    value = {};\n                    offset += 4;  // ECMAArrayLength(UI32)\n                    let terminal = 0;  // workaround for malformed MixedArrays which has missing ScriptDataObjectEnd\n                    if ((v.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                        terminal = 3;\n                    }\n                    while (offset < dataSize - 8) {  // 8 === type(UI8) + ECMAArrayLength(UI32) + ScriptDataVariableEnd(UI24)\n                        let amfvar = AMF.parseVariable(arrayBuffer, dataOffset + offset, dataSize - offset - terminal);\n                        if (amfvar.objectEnd)\n                            break;\n                        value[amfvar.data.name] = amfvar.data.value;\n                        offset += amfvar.size;\n                    }\n                    if (offset <= dataSize - 3) {\n                        let marker = v.getUint32(offset - 1, !le) & 0x00FFFFFF;\n                        if (marker === 9) {\n                            offset += 3;\n                        }\n                    }\n                    break;\n                }\n                case 9:  // ScriptDataObjectEnd\n                    value = undefined;\n                    offset = 1;\n                    objectEnd = true;\n                    break;\n                case 10: {  // Strict array type\n                    // ScriptDataValue[n]. NOTE: according to video_file_format_spec_v10_1.pdf\n                    value = [];\n                    let strictArrayLength = v.getUint32(1, !le);\n                    offset += 4;\n                    for (let i = 0; i < strictArrayLength; i++) {\n                        let val = AMF.parseValue(arrayBuffer, dataOffset + offset, dataSize - offset);\n                        value.push(val.data);\n                        offset += val.size;\n                    }\n                    break;\n                }\n                case 11: {  // Date type\n                    let date = AMF.parseDate(arrayBuffer, dataOffset + 1, dataSize - 1);\n                    value = date.data;\n                    offset += date.size;\n                    break;\n                }\n                case 12: {  // Long string type\n                    let amfLongStr = AMF.parseString(arrayBuffer, dataOffset + 1, dataSize - 1);\n                    value = amfLongStr.data;\n                    offset += amfLongStr.size;\n                    break;\n                }\n                default:\n                    // ignore and skip\n                    offset = dataSize;\n                    Log.w('AMF', 'Unsupported AMF value type ' + type);\n            }\n        } catch (e) {\n            Log.e('AMF', e.toString());\n        }\n\n        return {\n            data: value,\n            size: offset,\n            objectEnd: objectEnd\n        };\n    }\n\n}\n\nexport default AMF;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst DemuxErrors = {\n    OK: 'OK',\n    FORMAT_ERROR: 'FormatError',\n    FORMAT_UNSUPPORTED: 'FormatUnsupported',\n    CODEC_UNSUPPORTED: 'CodecUnsupported'\n};\n\nexport default DemuxErrors;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {IllegalStateException, InvalidArgumentException} from '../utils/exception.js';\n\n// Exponential-Golomb buffer decoder\nclass ExpGolomb {\n\n    constructor(uint8array) {\n        this.TAG = 'ExpGolomb';\n\n        this._buffer = uint8array;\n        this._buffer_index = 0;\n        this._total_bytes = uint8array.byteLength;\n        this._total_bits = uint8array.byteLength * 8;\n        this._current_word = 0;\n        this._current_word_bits_left = 0;\n    }\n\n    destroy() {\n        this._buffer = null;\n    }\n\n    _fillCurrentWord() {\n        let buffer_bytes_left = this._total_bytes - this._buffer_index;\n        if (buffer_bytes_left <= 0)\n            throw new IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');\n\n        let bytes_read = Math.min(4, buffer_bytes_left);\n        let word = new Uint8Array(4);\n        word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));\n        this._current_word = new DataView(word.buffer).getUint32(0, false);\n\n        this._buffer_index += bytes_read;\n        this._current_word_bits_left = bytes_read * 8;\n    }\n\n    readBits(bits) {\n        if (bits > 32)\n            throw new InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');\n\n        if (bits <= this._current_word_bits_left) {\n            let result = this._current_word >>> (32 - bits);\n            this._current_word <<= bits;\n            this._current_word_bits_left -= bits;\n            return result;\n        }\n\n        let result = this._current_word_bits_left ? this._current_word : 0;\n        result = result >>> (32 - this._current_word_bits_left);\n        let bits_need_left = bits - this._current_word_bits_left;\n\n        this._fillCurrentWord();\n        let bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);\n\n        let result2 = this._current_word >>> (32 - bits_read_next);\n        this._current_word <<= bits_read_next;\n        this._current_word_bits_left -= bits_read_next;\n\n        result = (result << bits_read_next) | result2;\n        return result;\n    }\n\n    readBool() {\n        return this.readBits(1) === 1;\n    }\n\n    readByte() {\n        return this.readBits(8);\n    }\n\n    _skipLeadingZero() {\n        let zero_count;\n        for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {\n            if (0 !== (this._current_word & (0x80000000 >>> zero_count))) {\n                this._current_word <<= zero_count;\n                this._current_word_bits_left -= zero_count;\n                return zero_count;\n            }\n        }\n        this._fillCurrentWord();\n        return zero_count + this._skipLeadingZero();\n    }\n\n    readUEG() {  // unsigned exponential golomb\n        let leading_zeros = this._skipLeadingZero();\n        return this.readBits(leading_zeros + 1) - 1;\n    }\n\n    readSEG() {  // signed exponential golomb\n        let value = this.readUEG();\n        if (value & 0x01) {\n            return (value + 1) >>> 1;\n        } else {\n            return -1 * (value >>> 1);\n        }\n    }\n\n}\n\nexport default ExpGolomb;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport AMF from './amf-parser.js';\nimport SPSParser from './sps-parser.js';\nimport DemuxErrors from './demux-errors.js';\nimport MediaInfo from '../core/media-info.js';\nimport {IllegalStateException} from '../utils/exception.js';\n\nfunction Swap16(src) {\n    return (((src >>> 8) & 0xFF) |\n            ((src & 0xFF) << 8));\n}\n\nfunction Swap32(src) {\n    return (((src & 0xFF000000) >>> 24) |\n            ((src & 0x00FF0000) >>> 8)  |\n            ((src & 0x0000FF00) << 8)   |\n            ((src & 0x000000FF) << 24));\n}\n\nfunction ReadBig32(array, index) {\n    return ((array[index] << 24)     |\n            (array[index + 1] << 16) |\n            (array[index + 2] << 8)  |\n            (array[index + 3]));\n}\n\n\nclass FLVDemuxer {\n\n    constructor(probeData, config) {\n        this.TAG = 'FLVDemuxer';\n\n        this._config = config;\n\n        this._onError = null;\n        this._onMediaInfo = null;\n        this._onTrackMetadata = null;\n        this._onDataAvailable = null;\n\n        this._dataOffset = probeData.dataOffset;\n        this._firstParse = true;\n        this._dispatch = false;\n\n        this._hasAudio = probeData.hasAudioTrack;\n        this._hasVideo = probeData.hasVideoTrack;\n\n        this._hasAudioFlagOverrided = false;\n        this._hasVideoFlagOverrided = false;\n\n        this._audioInitialMetadataDispatched = false;\n        this._videoInitialMetadataDispatched = false;\n\n        this._mediaInfo = new MediaInfo();\n        this._mediaInfo.hasAudio = this._hasAudio;\n        this._mediaInfo.hasVideo = this._hasVideo;\n        this._metadata = null;\n        this._audioMetadata = null;\n        this._videoMetadata = null;\n\n        this._naluLengthSize = 4;\n        this._timestampBase = 0;  // int32, in milliseconds\n        this._timescale = 1000;\n        this._duration = 0;  // int32, in milliseconds\n        this._durationOverrided = false;\n        this._referenceFrameRate = {\n            fixed: true,\n            fps: 23.976,\n            fps_num: 23976,\n            fps_den: 1000\n        };\n\n        this._flvSoundRateTable = [5500, 11025, 22050, 44100, 48000];\n\n        this._mpegSamplingRates = [\n            96000, 88200, 64000, 48000, 44100, 32000,\n            24000, 22050, 16000, 12000, 11025, 8000, 7350\n        ];\n\n        this._mpegAudioV10SampleRateTable = [44100, 48000, 32000, 0];\n        this._mpegAudioV20SampleRateTable = [22050, 24000, 16000, 0];\n        this._mpegAudioV25SampleRateTable = [11025, 12000, 8000,  0];\n\n        this._mpegAudioL1BitRateTable = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1];\n        this._mpegAudioL2BitRateTable = [0, 32, 48, 56,  64,  80,  96, 112, 128, 160, 192, 224, 256, 320, 384, -1];\n        this._mpegAudioL3BitRateTable = [0, 32, 40, 48,  56,  64,  80,  96, 112, 128, 160, 192, 224, 256, 320, -1];\n\n        this._videoTrack = {type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0};\n        this._audioTrack = {type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0};\n\n        this._littleEndian = (function () {\n            let buf = new ArrayBuffer(2);\n            (new DataView(buf)).setInt16(0, 256, true);  // little-endian write\n            return (new Int16Array(buf))[0] === 256;  // platform-spec read, if equal then LE\n        })();\n    }\n\n    destroy() {\n        this._mediaInfo = null;\n        this._metadata = null;\n        this._audioMetadata = null;\n        this._videoMetadata = null;\n        this._videoTrack = null;\n        this._audioTrack = null;\n\n        this._onError = null;\n        this._onMediaInfo = null;\n        this._onTrackMetadata = null;\n        this._onDataAvailable = null;\n    }\n\n    static probe(buffer) {\n        let data = new Uint8Array(buffer);\n        let mismatch = {match: false};\n\n        if (data[0] !== 0x46 || data[1] !== 0x4C || data[2] !== 0x56 || data[3] !== 0x01) {\n            return mismatch;\n        }\n\n        let hasAudio = ((data[4] & 4) >>> 2) !== 0;\n        let hasVideo = (data[4] & 1) !== 0;\n\n        let offset = ReadBig32(data, 5);\n\n        if (offset < 9) {\n            return mismatch;\n        }\n\n        return {\n            match: true,\n            consumed: offset,\n            dataOffset: offset,\n            hasAudioTrack: hasAudio,\n            hasVideoTrack: hasVideo\n        };\n    }\n\n    bindDataSource(loader) {\n        loader.onDataArrival = this.parseChunks.bind(this);\n        return this;\n    }\n\n    // prototype: function(type: string, metadata: any): void\n    get onTrackMetadata() {\n        return this._onTrackMetadata;\n    }\n\n    set onTrackMetadata(callback) {\n        this._onTrackMetadata = callback;\n    }\n\n    // prototype: function(mediaInfo: MediaInfo): void\n    get onMediaInfo() {\n        return this._onMediaInfo;\n    }\n\n    set onMediaInfo(callback) {\n        this._onMediaInfo = callback;\n    }\n\n    // prototype: function(type: number, info: string): void\n    get onError() {\n        return this._onError;\n    }\n\n    set onError(callback) {\n        this._onError = callback;\n    }\n\n    // prototype: function(videoTrack: any, audioTrack: any): void\n    get onDataAvailable() {\n        return this._onDataAvailable;\n    }\n\n    set onDataAvailable(callback) {\n        this._onDataAvailable = callback;\n    }\n\n    // timestamp base for output samples, must be in milliseconds\n    get timestampBase() {\n        return this._timestampBase;\n    }\n\n    set timestampBase(base) {\n        this._timestampBase = base;\n    }\n\n    get overridedDuration() {\n        return this._duration;\n    }\n\n    // Force-override media duration. Must be in milliseconds, int32\n    set overridedDuration(duration) {\n        this._durationOverrided = true;\n        this._duration = duration;\n        this._mediaInfo.duration = duration;\n    }\n\n    // Force-override audio track present flag, boolean\n    set overridedHasAudio(hasAudio) {\n        this._hasAudioFlagOverrided = true;\n        this._hasAudio = hasAudio;\n        this._mediaInfo.hasAudio = hasAudio;\n    }\n\n    // Force-override video track present flag, boolean\n    set overridedHasVideo(hasVideo) {\n        this._hasVideoFlagOverrided = true;\n        this._hasVideo = hasVideo;\n        this._mediaInfo.hasVideo = hasVideo;\n    }\n\n    resetMediaInfo() {\n        this._mediaInfo = new MediaInfo();\n    }\n\n    _isInitialMetadataDispatched() {\n        if (this._hasAudio && this._hasVideo) {  // both audio & video\n            return this._audioInitialMetadataDispatched && this._videoInitialMetadataDispatched;\n        }\n        if (this._hasAudio && !this._hasVideo) {  // audio only\n            return this._audioInitialMetadataDispatched;\n        }\n        if (!this._hasAudio && this._hasVideo) {  // video only\n            return this._videoInitialMetadataDispatched;\n        }\n        return false;\n    }\n\n    // function parseChunks(chunk: ArrayBuffer, byteStart: number): number;\n    parseChunks(chunk, byteStart) {\n        if (!this._onError || !this._onMediaInfo || !this._onTrackMetadata || !this._onDataAvailable) {\n            throw new IllegalStateException('Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified');\n        }\n\n        let offset = 0;\n        let le = this._littleEndian;\n\n        if (byteStart === 0) {  // buffer with FLV header\n            if (chunk.byteLength > 13) {\n                let probeData = FLVDemuxer.probe(chunk);\n                offset = probeData.dataOffset;\n            } else {\n                return 0;\n            }\n        }\n\n        if (this._firstParse) {  // handle PreviousTagSize0 before Tag1\n            this._firstParse = false;\n            if (byteStart + offset !== this._dataOffset) {\n                Log.w(this.TAG, 'First time parsing but chunk byteStart invalid!');\n            }\n\n            let v = new DataView(chunk, offset);\n            let prevTagSize0 = v.getUint32(0, !le);\n            if (prevTagSize0 !== 0) {\n                Log.w(this.TAG, 'PrevTagSize0 !== 0 !!!');\n            }\n            offset += 4;\n        }\n\n        while (offset < chunk.byteLength) {\n            this._dispatch = true;\n\n            let v = new DataView(chunk, offset);\n\n            if (offset + 11 + 4 > chunk.byteLength) {\n                // data not enough for parsing an flv tag\n                break;\n            }\n\n            let tagType = v.getUint8(0);\n            let dataSize = v.getUint32(0, !le) & 0x00FFFFFF;\n\n            if (offset + 11 + dataSize + 4 > chunk.byteLength) {\n                // data not enough for parsing actual data body\n                break;\n            }\n\n            if (tagType !== 8 && tagType !== 9 && tagType !== 18) {\n                Log.w(this.TAG, `Unsupported tag type ${tagType}, skipped`);\n                // consume the whole tag (skip it)\n                offset += 11 + dataSize + 4;\n                continue;\n            }\n\n            let ts2 = v.getUint8(4);\n            let ts1 = v.getUint8(5);\n            let ts0 = v.getUint8(6);\n            let ts3 = v.getUint8(7);\n\n            let timestamp = ts0 | (ts1 << 8) | (ts2 << 16) | (ts3 << 24);\n\n            let streamId = v.getUint32(7, !le) & 0x00FFFFFF;\n            if (streamId !== 0) {\n                Log.w(this.TAG, 'Meet tag which has StreamID != 0!');\n            }\n\n            let dataOffset = offset + 11;\n\n            switch (tagType) {\n                case 8:  // Audio\n                    this._parseAudioData(chunk, dataOffset, dataSize, timestamp);\n                    break;\n                case 9:  // Video\n                    this._parseVideoData(chunk, dataOffset, dataSize, timestamp, byteStart + offset);\n                    break;\n                case 18:  // ScriptDataObject\n                    this._parseScriptData(chunk, dataOffset, dataSize);\n                    break;\n            }\n\n            let prevTagSize = v.getUint32(11 + dataSize, !le);\n            if (prevTagSize !== 11 + dataSize) {\n                Log.w(this.TAG, `Invalid PrevTagSize ${prevTagSize}`);\n            }\n\n            offset += 11 + dataSize + 4;  // tagBody + dataSize + prevTagSize\n        }\n\n        // dispatch parsed frames to consumer (typically, the remuxer)\n        if (this._isInitialMetadataDispatched()) {\n            if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                this._onDataAvailable(this._audioTrack, this._videoTrack);\n            }\n        }\n\n        return offset;  // consumed bytes, just equals latest offset index\n    }\n\n    _parseScriptData(arrayBuffer, dataOffset, dataSize) {\n        let scriptData = AMF.parseScriptData(arrayBuffer, dataOffset, dataSize);\n\n        if (scriptData.hasOwnProperty('onMetaData')) {\n            if (scriptData.onMetaData == null || typeof scriptData.onMetaData !== 'object') {\n                Log.w(this.TAG, 'Invalid onMetaData structure!');\n                return;\n            }\n            if (this._metadata) {\n                Log.w(this.TAG, 'Found another onMetaData tag!');\n            }\n            this._metadata = scriptData;\n            let onMetaData = this._metadata.onMetaData;\n\n            if (typeof onMetaData.hasAudio === 'boolean') {  // hasAudio\n                if (this._hasAudioFlagOverrided === false) {\n                    this._hasAudio = onMetaData.hasAudio;\n                    this._mediaInfo.hasAudio = this._hasAudio;\n                }\n            }\n            if (typeof onMetaData.hasVideo === 'boolean') {  // hasVideo\n                if (this._hasVideoFlagOverrided === false) {\n                    this._hasVideo = onMetaData.hasVideo;\n                    this._mediaInfo.hasVideo = this._hasVideo;\n                }\n            }\n            if (typeof onMetaData.audiodatarate === 'number') {  // audiodatarate\n                this._mediaInfo.audioDataRate = onMetaData.audiodatarate;\n            }\n            if (typeof onMetaData.videodatarate === 'number') {  // videodatarate\n                this._mediaInfo.videoDataRate = onMetaData.videodatarate;\n            }\n            if (typeof onMetaData.width === 'number') {  // width\n                this._mediaInfo.width = onMetaData.width;\n            }\n            if (typeof onMetaData.height === 'number') {  // height\n                this._mediaInfo.height = onMetaData.height;\n            }\n            if (typeof onMetaData.duration === 'number') {  // duration\n                if (!this._durationOverrided) {\n                    let duration = Math.floor(onMetaData.duration * this._timescale);\n                    this._duration = duration;\n                    this._mediaInfo.duration = duration;\n                }\n            } else {\n                this._mediaInfo.duration = 0;\n            }\n            if (typeof onMetaData.framerate === 'number') {  // framerate\n                let fps_num = Math.floor(onMetaData.framerate * 1000);\n                if (fps_num > 0) {\n                    let fps = fps_num / 1000;\n                    this._referenceFrameRate.fixed = true;\n                    this._referenceFrameRate.fps = fps;\n                    this._referenceFrameRate.fps_num = fps_num;\n                    this._referenceFrameRate.fps_den = 1000;\n                    this._mediaInfo.fps = fps;\n                }\n            }\n            if (typeof onMetaData.keyframes === 'object') {  // keyframes\n                this._mediaInfo.hasKeyframesIndex = true;\n                let keyframes = onMetaData.keyframes;\n                this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(keyframes);\n                onMetaData.keyframes = null;  // keyframes has been extracted, remove it\n            } else {\n                this._mediaInfo.hasKeyframesIndex = false;\n            }\n            this._dispatch = false;\n            this._mediaInfo.metadata = onMetaData;\n            Log.v(this.TAG, 'Parsed onMetaData');\n            if (this._mediaInfo.isComplete()) {\n                this._onMediaInfo(this._mediaInfo);\n            }\n        }\n    }\n\n    _parseKeyframesIndex(keyframes) {\n        let times = [];\n        let filepositions = [];\n\n        // ignore first keyframe which is actually AVC Sequence Header (AVCDecoderConfigurationRecord)\n        for (let i = 1; i < keyframes.times.length; i++) {\n            let time = this._timestampBase + Math.floor(keyframes.times[i] * 1000);\n            times.push(time);\n            filepositions.push(keyframes.filepositions[i]);\n        }\n\n        return {\n            times: times,\n            filepositions: filepositions\n        };\n    }\n\n    _parseAudioData(arrayBuffer, dataOffset, dataSize, tagTimestamp) {\n        if (dataSize <= 1) {\n            Log.w(this.TAG, 'Flv: Invalid audio packet, missing SoundData payload!');\n            return;\n        }\n\n        if (this._hasAudioFlagOverrided === true && this._hasAudio === false) {\n            // If hasAudio: false indicated explicitly in MediaDataSource,\n            // Ignore all the audio packets\n            return;\n        }\n\n        let le = this._littleEndian;\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n        let soundSpec = v.getUint8(0);\n\n        let soundFormat = soundSpec >>> 4;\n        if (soundFormat !== 2 && soundFormat !== 10) {  // MP3 or AAC\n            this._onError(DemuxErrors.CODEC_UNSUPPORTED, 'Flv: Unsupported audio codec idx: ' + soundFormat);\n            return;\n        }\n\n        let soundRate = 0;\n        let soundRateIndex = (soundSpec & 12) >>> 2;\n        if (soundRateIndex >= 0 && soundRateIndex <= 4) {\n            soundRate = this._flvSoundRateTable[soundRateIndex];\n        } else {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid audio sample rate idx: ' + soundRateIndex);\n            return;\n        }\n\n        let soundSize = (soundSpec & 2) >>> 1;  // unused\n        let soundType = (soundSpec & 1);\n\n\n        let meta = this._audioMetadata;\n        let track = this._audioTrack;\n\n        if (!meta) {\n            if (this._hasAudio === false && this._hasAudioFlagOverrided === false) {\n                this._hasAudio = true;\n                this._mediaInfo.hasAudio = true;\n            }\n\n            // initial metadata\n            meta = this._audioMetadata = {};\n            meta.type = 'audio';\n            meta.id = track.id;\n            meta.timescale = this._timescale;\n            meta.duration = this._duration;\n            meta.audioSampleRate = soundRate;\n            meta.channelCount = (soundType === 0 ? 1 : 2);\n        }\n\n        if (soundFormat === 10) {  // AAC\n            let aacData = this._parseAACAudioData(arrayBuffer, dataOffset + 1, dataSize - 1);\n            if (aacData == undefined) {\n                return;\n            }\n\n            if (aacData.packetType === 0) {  // AAC sequence header (AudioSpecificConfig)\n                if (meta.config) {\n                    Log.w(this.TAG, 'Found another AudioSpecificConfig!');\n                }\n                let misc = aacData.data;\n                meta.audioSampleRate = misc.samplingRate;\n                meta.channelCount = misc.channelCount;\n                meta.codec = misc.codec;\n                meta.originalCodec = misc.originalCodec;\n                meta.config = misc.config;\n                // The decode result of an aac sample is 1024 PCM samples\n                meta.refSampleDuration = 1024 / meta.audioSampleRate * meta.timescale;\n                Log.v(this.TAG, 'Parsed AudioSpecificConfig');\n\n                if (this._isInitialMetadataDispatched()) {\n                    // Non-initial metadata, force dispatch (or flush) parsed frames to remuxer\n                    if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                        this._onDataAvailable(this._audioTrack, this._videoTrack);\n                    }\n                } else {\n                    this._audioInitialMetadataDispatched = true;\n                }\n                // then notify new metadata\n                this._dispatch = false;\n                this._onTrackMetadata('audio', meta);\n\n                let mi = this._mediaInfo;\n                mi.audioCodec = meta.originalCodec;\n                mi.audioSampleRate = meta.audioSampleRate;\n                mi.audioChannelCount = meta.channelCount;\n                if (mi.hasVideo) {\n                    if (mi.videoCodec != null) {\n                        mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + ',' + mi.audioCodec + '\"';\n                    }\n                } else {\n                    mi.mimeType = 'video/x-flv; codecs=\"' + mi.audioCodec + '\"';\n                }\n                if (mi.isComplete()) {\n                    this._onMediaInfo(mi);\n                }\n            } else if (aacData.packetType === 1) {  // AAC raw frame data\n                let dts = this._timestampBase + tagTimestamp;\n                let aacSample = {unit: aacData.data, dts: dts, pts: dts};\n                track.samples.push(aacSample);\n                track.length += aacData.data.length;\n            } else {\n                Log.e(this.TAG, `Flv: Unsupported AAC data type ${aacData.packetType}`);\n            }\n        } else if (soundFormat === 2) {  // MP3\n            if (!meta.codec) {\n                // We need metadata for mp3 audio track, extract info from frame header\n                let misc = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, true);\n                if (misc == undefined) {\n                    return;\n                }\n                meta.audioSampleRate = misc.samplingRate;\n                meta.channelCount = misc.channelCount;\n                meta.codec = misc.codec;\n                meta.originalCodec = misc.originalCodec;\n                // The decode result of an mp3 sample is 1152 PCM samples\n                meta.refSampleDuration = 1152 / meta.audioSampleRate * meta.timescale;\n                Log.v(this.TAG, 'Parsed MPEG Audio Frame Header');\n\n                this._audioInitialMetadataDispatched = true;\n                this._onTrackMetadata('audio', meta);\n\n                let mi = this._mediaInfo;\n                mi.audioCodec = meta.codec;\n                mi.audioSampleRate = meta.audioSampleRate;\n                mi.audioChannelCount = meta.channelCount;\n                mi.audioDataRate = misc.bitRate;\n                if (mi.hasVideo) {\n                    if (mi.videoCodec != null) {\n                        mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + ',' + mi.audioCodec + '\"';\n                    }\n                } else {\n                    mi.mimeType = 'video/x-flv; codecs=\"' + mi.audioCodec + '\"';\n                }\n                if (mi.isComplete()) {\n                    this._onMediaInfo(mi);\n                }\n            }\n\n            // This packet is always a valid audio packet, extract it\n            let data = this._parseMP3AudioData(arrayBuffer, dataOffset + 1, dataSize - 1, false);\n            if (data == undefined) {\n                return;\n            }\n            let dts = this._timestampBase + tagTimestamp;\n            let mp3Sample = {unit: data, dts: dts, pts: dts};\n            track.samples.push(mp3Sample);\n            track.length += data.length;\n        }\n    }\n\n    _parseAACAudioData(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize <= 1) {\n            Log.w(this.TAG, 'Flv: Invalid AAC packet, missing AACPacketType or/and Data!');\n            return;\n        }\n\n        let result = {};\n        let array = new Uint8Array(arrayBuffer, dataOffset, dataSize);\n\n        result.packetType = array[0];\n\n        if (array[0] === 0) {\n            result.data = this._parseAACAudioSpecificConfig(arrayBuffer, dataOffset + 1, dataSize - 1);\n        } else {\n            result.data = array.subarray(1);\n        }\n\n        return result;\n    }\n\n    _parseAACAudioSpecificConfig(arrayBuffer, dataOffset, dataSize) {\n        let array = new Uint8Array(arrayBuffer, dataOffset, dataSize);\n        let config = null;\n\n        /* Audio Object Type:\n           0: Null\n           1: AAC Main\n           2: AAC LC\n           3: AAC SSR (Scalable Sample Rate)\n           4: AAC LTP (Long Term Prediction)\n           5: HE-AAC / SBR (Spectral Band Replication)\n           6: AAC Scalable\n        */\n\n        let audioObjectType = 0;\n        let originalAudioObjectType = 0;\n        let audioExtensionObjectType = null;\n        let samplingIndex = 0;\n        let extensionSamplingIndex = null;\n\n        // 5 bits\n        audioObjectType = originalAudioObjectType = array[0] >>> 3;\n        // 4 bits\n        samplingIndex = ((array[0] & 0x07) << 1) | (array[1] >>> 7);\n        if (samplingIndex < 0 || samplingIndex >= this._mpegSamplingRates.length) {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: AAC invalid sampling frequency index!');\n            return;\n        }\n\n        let samplingFrequence = this._mpegSamplingRates[samplingIndex];\n\n        // 4 bits\n        let channelConfig = (array[1] & 0x78) >>> 3;\n        if (channelConfig < 0 || channelConfig >= 8) {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: AAC invalid channel configuration');\n            return;\n        }\n\n        if (audioObjectType === 5) {  // HE-AAC?\n            // 4 bits\n            extensionSamplingIndex = ((array[1] & 0x07) << 1) | (array[2] >>> 7);\n            // 5 bits\n            audioExtensionObjectType = (array[2] & 0x7C) >>> 2;\n        }\n\n        // workarounds for various browsers\n        let userAgent = self.navigator.userAgent.toLowerCase();\n\n        if (userAgent.indexOf('firefox') !== -1) {\n            // firefox: use SBR (HE-AAC) if freq less than 24kHz\n            if (samplingIndex >= 6) {\n                audioObjectType = 5;\n                config = new Array(4);\n                extensionSamplingIndex = samplingIndex - 3;\n            } else {  // use LC-AAC\n                audioObjectType = 2;\n                config = new Array(2);\n                extensionSamplingIndex = samplingIndex;\n            }\n        } else if (userAgent.indexOf('android') !== -1) {\n            // android: always use LC-AAC\n            audioObjectType = 2;\n            config = new Array(2);\n            extensionSamplingIndex = samplingIndex;\n        } else {\n            // for other browsers, e.g. chrome...\n            // Always use HE-AAC to make it easier to switch aac codec profile\n            audioObjectType = 5;\n            extensionSamplingIndex = samplingIndex;\n            config = new Array(4);\n\n            if (samplingIndex >= 6) {\n                extensionSamplingIndex = samplingIndex - 3;\n            } else if (channelConfig === 1) {  // Mono channel\n                audioObjectType = 2;\n                config = new Array(2);\n                extensionSamplingIndex = samplingIndex;\n            }\n        }\n\n        config[0]  = audioObjectType << 3;\n        config[0] |= (samplingIndex & 0x0F) >>> 1;\n        config[1]  = (samplingIndex & 0x0F) << 7;\n        config[1] |= (channelConfig & 0x0F) << 3;\n        if (audioObjectType === 5) {\n            config[1] |= ((extensionSamplingIndex & 0x0F) >>> 1);\n            config[2]  = (extensionSamplingIndex & 0x01) << 7;\n            // extended audio object type: force to 2 (LC-AAC)\n            config[2] |= (2 << 2);\n            config[3]  = 0;\n        }\n\n        return {\n            config: config,\n            samplingRate: samplingFrequence,\n            channelCount: channelConfig,\n            codec: 'mp4a.40.' + audioObjectType,\n            originalCodec: 'mp4a.40.' + originalAudioObjectType\n        };\n    }\n\n    _parseMP3AudioData(arrayBuffer, dataOffset, dataSize, requestHeader) {\n        if (dataSize < 4) {\n            Log.w(this.TAG, 'Flv: Invalid MP3 packet, header missing!');\n            return;\n        }\n\n        let le = this._littleEndian;\n        let array = new Uint8Array(arrayBuffer, dataOffset, dataSize);\n        let result = null;\n\n        if (requestHeader) {\n            if (array[0] !== 0xFF) {\n                return;\n            }\n            let ver = (array[1] >>> 3) & 0x03;\n            let layer = (array[1] & 0x06) >> 1;\n\n            let bitrate_index = (array[2] & 0xF0) >>> 4;\n            let sampling_freq_index = (array[2] & 0x0C) >>> 2;\n\n            let channel_mode = (array[3] >>> 6) & 0x03;\n            let channel_count = channel_mode !== 3 ? 2 : 1;\n\n            let sample_rate = 0;\n            let bit_rate = 0;\n            let object_type = 34;  // Layer-3, listed in MPEG-4 Audio Object Types\n\n            let codec = 'mp3';\n\n            switch (ver) {\n                case 0:  // MPEG 2.5\n                    sample_rate = this._mpegAudioV25SampleRateTable[sampling_freq_index];\n                    break;\n                case 2:  // MPEG 2\n                    sample_rate = this._mpegAudioV20SampleRateTable[sampling_freq_index];\n                    break;\n                case 3:  // MPEG 1\n                    sample_rate = this._mpegAudioV10SampleRateTable[sampling_freq_index];\n                    break;\n            }\n\n            switch (layer) {\n                case 1:  // Layer 3\n                    object_type = 34;\n                    if (bitrate_index < this._mpegAudioL3BitRateTable.length) {\n                        bit_rate = this._mpegAudioL3BitRateTable[bitrate_index];\n                    }\n                    break;\n                case 2:  // Layer 2\n                    object_type = 33;\n                    if (bitrate_index < this._mpegAudioL2BitRateTable.length) {\n                        bit_rate = this._mpegAudioL2BitRateTable[bitrate_index];\n                    }\n                    break;\n                case 3:  // Layer 1\n                    object_type = 32;\n                    if (bitrate_index < this._mpegAudioL1BitRateTable.length) {\n                        bit_rate = this._mpegAudioL1BitRateTable[bitrate_index];\n                    }\n                    break;\n            }\n\n            result = {\n                bitRate: bit_rate,\n                samplingRate: sample_rate,\n                channelCount: channel_count,\n                codec: codec,\n                originalCodec: codec\n            };\n        } else {\n            result = array;\n        }\n\n        return result;\n    }\n\n    _parseVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition) {\n        if (dataSize <= 1) {\n            Log.w(this.TAG, 'Flv: Invalid video packet, missing VideoData payload!');\n            return;\n        }\n\n        if (this._hasVideoFlagOverrided === true && this._hasVideo === false) {\n            // If hasVideo: false indicated explicitly in MediaDataSource,\n            // Ignore all the video packets\n            return;\n        }\n\n        let spec = (new Uint8Array(arrayBuffer, dataOffset, dataSize))[0];\n\n        let frameType = (spec & 240) >>> 4;\n        let codecId = spec & 15;\n\n        if (codecId !== 7) {\n            this._onError(DemuxErrors.CODEC_UNSUPPORTED, `Flv: Unsupported codec in video frame: ${codecId}`);\n            return;\n        }\n\n        this._parseAVCVideoPacket(arrayBuffer, dataOffset + 1, dataSize - 1, tagTimestamp, tagPosition, frameType);\n    }\n\n    _parseAVCVideoPacket(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType) {\n        if (dataSize < 4) {\n            Log.w(this.TAG, 'Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime');\n            return;\n        }\n\n        let le = this._littleEndian;\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n        let packetType = v.getUint8(0);\n        let cts = v.getUint32(0, !le) & 0x00FFFFFF;\n\n        if (packetType === 0) {  // AVCDecoderConfigurationRecord\n            this._parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset + 4, dataSize - 4);\n        } else if (packetType === 1) {  // One or more Nalus\n            this._parseAVCVideoData(arrayBuffer, dataOffset + 4, dataSize - 4, tagTimestamp, tagPosition, frameType, cts);\n        } else if (packetType === 2) {\n            // empty, AVC end of sequence\n        } else {\n            this._onError(DemuxErrors.FORMAT_ERROR, `Flv: Invalid video packet type ${packetType}`);\n            return;\n        }\n    }\n\n    _parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset, dataSize) {\n        if (dataSize < 7) {\n            Log.w(this.TAG, 'Flv: Invalid AVCDecoderConfigurationRecord, lack of data!');\n            return;\n        }\n\n        let meta = this._videoMetadata;\n        let track = this._videoTrack;\n        let le = this._littleEndian;\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n        if (!meta) {\n            if (this._hasVideo === false && this._hasVideoFlagOverrided === false) {\n                this._hasVideo = true;\n                this._mediaInfo.hasVideo = true;\n            }\n\n            meta = this._videoMetadata = {};\n            meta.type = 'video';\n            meta.id = track.id;\n            meta.timescale = this._timescale;\n            meta.duration = this._duration;\n        } else {\n            if (typeof meta.avcc !== 'undefined') {\n                Log.w(this.TAG, 'Found another AVCDecoderConfigurationRecord!');\n            }\n        }\n\n        let version = v.getUint8(0);  // configurationVersion\n        let avcProfile = v.getUint8(1);  // avcProfileIndication\n        let profileCompatibility = v.getUint8(2);  // profile_compatibility\n        let avcLevel = v.getUint8(3);  // AVCLevelIndication\n\n        if (version !== 1 || avcProfile === 0) {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');\n            return;\n        }\n\n        this._naluLengthSize = (v.getUint8(4) & 3) + 1;  // lengthSizeMinusOne\n        if (this._naluLengthSize !== 3 && this._naluLengthSize !== 4) {  // holy shit!!!\n            this._onError(DemuxErrors.FORMAT_ERROR, `Flv: Strange NaluLengthSizeMinusOne: ${this._naluLengthSize - 1}`);\n            return;\n        }\n\n        let spsCount = v.getUint8(5) & 31;  // numOfSequenceParameterSets\n        if (spsCount === 0) {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');\n            return;\n        } else if (spsCount > 1) {\n            Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${spsCount}`);\n        }\n\n        let offset = 6;\n\n        for (let i = 0; i < spsCount; i++) {\n            let len = v.getUint16(offset, !le);  // sequenceParameterSetLength\n            offset += 2;\n\n            if (len === 0) {\n                continue;\n            }\n\n            // Notice: Nalu without startcode header (00 00 00 01)\n            let sps = new Uint8Array(arrayBuffer, dataOffset + offset, len);\n            offset += len;\n\n            let config = SPSParser.parseSPS(sps);\n            if (i !== 0) {\n                // ignore other sps's config\n                continue;\n            }\n\n            meta.codecWidth = config.codec_size.width;\n            meta.codecHeight = config.codec_size.height;\n            meta.presentWidth = config.present_size.width;\n            meta.presentHeight = config.present_size.height;\n\n            meta.profile = config.profile_string;\n            meta.level = config.level_string;\n            meta.bitDepth = config.bit_depth;\n            meta.chromaFormat = config.chroma_format;\n            meta.sarRatio = config.sar_ratio;\n            meta.frameRate = config.frame_rate;\n\n            if (config.frame_rate.fixed === false ||\n                config.frame_rate.fps_num === 0 ||\n                config.frame_rate.fps_den === 0) {\n                meta.frameRate = this._referenceFrameRate;\n            }\n\n            let fps_den = meta.frameRate.fps_den;\n            let fps_num = meta.frameRate.fps_num;\n            meta.refSampleDuration = meta.timescale * (fps_den / fps_num);\n\n            let codecArray = sps.subarray(1, 4);\n            let codecString = 'avc1.';\n            for (let j = 0; j < 3; j++) {\n                let h = codecArray[j].toString(16);\n                if (h.length < 2) {\n                    h = '0' + h;\n                }\n                codecString += h;\n            }\n            meta.codec = codecString;\n\n            let mi = this._mediaInfo;\n            mi.width = meta.codecWidth;\n            mi.height = meta.codecHeight;\n            mi.fps = meta.frameRate.fps;\n            mi.profile = meta.profile;\n            mi.level = meta.level;\n            mi.chromaFormat = config.chroma_format_string;\n            mi.sarNum = meta.sarRatio.width;\n            mi.sarDen = meta.sarRatio.height;\n            mi.videoCodec = codecString;\n\n            if (mi.hasAudio) {\n                if (mi.audioCodec != null) {\n                    mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + ',' + mi.audioCodec + '\"';\n                }\n            } else {\n                mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + '\"';\n            }\n            if (mi.isComplete()) {\n                this._onMediaInfo(mi);\n            }\n        }\n\n        let ppsCount = v.getUint8(offset);  // numOfPictureParameterSets\n        if (ppsCount === 0) {\n            this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');\n            return;\n        } else if (ppsCount > 1) {\n            Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${ppsCount}`);\n        }\n\n        offset++;\n\n        for (let i = 0; i < ppsCount; i++) {\n            let len = v.getUint16(offset, !le);  // pictureParameterSetLength\n            offset += 2;\n\n            if (len === 0) {\n                continue;\n            }\n\n            // pps is useless for extracting video information\n            offset += len;\n        }\n\n        meta.avcc = new Uint8Array(dataSize);\n        meta.avcc.set(new Uint8Array(arrayBuffer, dataOffset, dataSize), 0);\n        Log.v(this.TAG, 'Parsed AVCDecoderConfigurationRecord');\n\n        if (this._isInitialMetadataDispatched()) {\n            // flush parsed frames\n            if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                this._onDataAvailable(this._audioTrack, this._videoTrack);\n            }\n        } else {\n            this._videoInitialMetadataDispatched = true;\n        }\n        // notify new metadata\n        this._dispatch = false;\n        this._onTrackMetadata('video', meta);\n    }\n\n    _parseAVCVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType, cts) {\n        let le = this._littleEndian;\n        let v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n        let units = [], length = 0;\n\n        let offset = 0;\n        const lengthSize = this._naluLengthSize;\n        let dts = this._timestampBase + tagTimestamp;\n        let keyframe = (frameType === 1);  // from FLV Frame Type constants\n\n        while (offset < dataSize) {\n            if (offset + 4 >= dataSize) {\n                Log.w(this.TAG, `Malformed Nalu near timestamp ${dts}, offset = ${offset}, dataSize = ${dataSize}`);\n                break;  // data not enough for next Nalu\n            }\n            // Nalu with length-header (AVC1)\n            let naluSize = v.getUint32(offset, !le);  // Big-Endian read\n            if (lengthSize === 3) {\n                naluSize >>>= 8;\n            }\n            if (naluSize > dataSize - lengthSize) {\n                Log.w(this.TAG, `Malformed Nalus near timestamp ${dts}, NaluSize > DataSize!`);\n                return;\n            }\n\n            let unitType = v.getUint8(offset + lengthSize) & 0x1F;\n\n            if (unitType === 5) {  // IDR\n                keyframe = true;\n            }\n\n            let data = new Uint8Array(arrayBuffer, dataOffset + offset, lengthSize + naluSize);\n            let unit = {type: unitType, data: data};\n            units.push(unit);\n            length += data.byteLength;\n\n            offset += lengthSize + naluSize;\n        }\n\n        if (units.length) {\n            let track = this._videoTrack;\n            let avcSample = {\n                units: units,\n                length: length,\n                isKeyframe: keyframe,\n                dts: dts,\n                cts: cts,\n                pts: (dts + cts)\n            };\n            if (keyframe) {\n                avcSample.fileposition = tagPosition;\n            }\n            track.samples.push(avcSample);\n            track.length += length;\n        }\n    }\n\n}\n\nexport default FLVDemuxer;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ExpGolomb from './exp-golomb.js';\n\nclass SPSParser {\n\n    static _ebsp2rbsp(uint8array) {\n        let src = uint8array;\n        let src_length = src.byteLength;\n        let dst = new Uint8Array(src_length);\n        let dst_idx = 0;\n\n        for (let i = 0; i < src_length; i++) {\n            if (i >= 2) {\n                // Unescape: Skip 0x03 after 00 00\n                if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {\n                    continue;\n                }\n            }\n            dst[dst_idx] = src[i];\n            dst_idx++;\n        }\n\n        return new Uint8Array(dst.buffer, 0, dst_idx);\n    }\n\n    static parseSPS(uint8array) {\n        let rbsp = SPSParser._ebsp2rbsp(uint8array);\n        let gb = new ExpGolomb(rbsp);\n\n        gb.readByte();\n        let profile_idc = gb.readByte();  // profile_idc\n        gb.readByte();  // constraint_set_flags[5] + reserved_zero[3]\n        let level_idc = gb.readByte();  // level_idc\n        gb.readUEG();  // seq_parameter_set_id\n\n        let profile_string = SPSParser.getProfileString(profile_idc);\n        let level_string = SPSParser.getLevelString(level_idc);\n        let chroma_format_idc = 1;\n        let chroma_format = 420;\n        let chroma_format_table = [0, 420, 422, 444];\n        let bit_depth = 8;\n\n        if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 ||\n            profile_idc === 244 || profile_idc === 44 || profile_idc === 83 ||\n            profile_idc === 86 || profile_idc === 118 || profile_idc === 128 ||\n            profile_idc === 138 || profile_idc === 144) {\n\n            chroma_format_idc = gb.readUEG();\n            if (chroma_format_idc === 3) {\n                gb.readBits(1);  // separate_colour_plane_flag\n            }\n            if (chroma_format_idc <= 3) {\n                chroma_format = chroma_format_table[chroma_format_idc];\n            }\n\n            bit_depth = gb.readUEG() + 8;  // bit_depth_luma_minus8\n            gb.readUEG();  // bit_depth_chroma_minus8\n            gb.readBits(1);  // qpprime_y_zero_transform_bypass_flag\n            if (gb.readBool()) {  // seq_scaling_matrix_present_flag\n                let scaling_list_count = (chroma_format_idc !== 3) ? 8 : 12;\n                for (let i = 0; i < scaling_list_count; i++) {\n                    if (gb.readBool()) {  // seq_scaling_list_present_flag\n                        if (i < 6) {\n                            SPSParser._skipScalingList(gb, 16);\n                        } else {\n                            SPSParser._skipScalingList(gb, 64);\n                        }\n                    }\n                }\n            }\n        }\n        gb.readUEG();  // log2_max_frame_num_minus4\n        let pic_order_cnt_type = gb.readUEG();\n        if (pic_order_cnt_type === 0) {\n            gb.readUEG();  // log2_max_pic_order_cnt_lsb_minus_4\n        } else if (pic_order_cnt_type === 1) {\n            gb.readBits(1);  // delta_pic_order_always_zero_flag\n            gb.readSEG();  // offset_for_non_ref_pic\n            gb.readSEG();  // offset_for_top_to_bottom_field\n            let num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();\n            for (let i = 0; i < num_ref_frames_in_pic_order_cnt_cycle; i++) {\n                gb.readSEG();  // offset_for_ref_frame\n            }\n        }\n        gb.readUEG();  // max_num_ref_frames\n        gb.readBits(1);  // gaps_in_frame_num_value_allowed_flag\n\n        let pic_width_in_mbs_minus1 = gb.readUEG();\n        let pic_height_in_map_units_minus1 = gb.readUEG();\n\n        let frame_mbs_only_flag = gb.readBits(1);\n        if (frame_mbs_only_flag === 0) {\n            gb.readBits(1);  // mb_adaptive_frame_field_flag\n        }\n        gb.readBits(1);  // direct_8x8_inference_flag\n\n        let frame_crop_left_offset = 0;\n        let frame_crop_right_offset = 0;\n        let frame_crop_top_offset = 0;\n        let frame_crop_bottom_offset = 0;\n\n        let frame_cropping_flag = gb.readBool();\n        if (frame_cropping_flag) {\n            frame_crop_left_offset = gb.readUEG();\n            frame_crop_right_offset = gb.readUEG();\n            frame_crop_top_offset = gb.readUEG();\n            frame_crop_bottom_offset = gb.readUEG();\n        }\n\n        let sar_width = 1, sar_height = 1;\n        let fps = 0, fps_fixed = true, fps_num = 0, fps_den = 0;\n\n        let vui_parameters_present_flag = gb.readBool();\n        if (vui_parameters_present_flag) {\n            if (gb.readBool()) {  // aspect_ratio_info_present_flag\n                let aspect_ratio_idc = gb.readByte();\n                let sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n                let sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33,  99, 3, 2, 1];\n\n                if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n                    sar_width = sar_w_table[aspect_ratio_idc - 1];\n                    sar_height = sar_h_table[aspect_ratio_idc - 1];\n                } else if (aspect_ratio_idc === 255) {\n                    sar_width = gb.readByte() << 8 | gb.readByte();\n                    sar_height = gb.readByte() << 8 | gb.readByte();\n                }\n            }\n\n            if (gb.readBool()) {  // overscan_info_present_flag\n                gb.readBool();  // overscan_appropriate_flag\n            }\n            if (gb.readBool()) {  // video_signal_type_present_flag\n                gb.readBits(4);  // video_format & video_full_range_flag\n                if (gb.readBool()) {  // colour_description_present_flag\n                    gb.readBits(24);  // colour_primaries & transfer_characteristics & matrix_coefficients\n                }\n            }\n            if (gb.readBool()) {  // chroma_loc_info_present_flag\n                gb.readUEG();  // chroma_sample_loc_type_top_field\n                gb.readUEG();  // chroma_sample_loc_type_bottom_field\n            }\n            if (gb.readBool()) {  // timing_info_present_flag\n                let num_units_in_tick = gb.readBits(32);\n                let time_scale = gb.readBits(32);\n                fps_fixed = gb.readBool();  // fixed_frame_rate_flag\n\n                fps_num = time_scale;\n                fps_den = num_units_in_tick * 2;\n                fps = fps_num / fps_den;\n            }\n        }\n\n        let sarScale = 1;\n        if (sar_width !== 1 || sar_height !== 1) {\n            sarScale = sar_width / sar_height;\n        }\n\n        let crop_unit_x = 0, crop_unit_y = 0;\n        if (chroma_format_idc === 0) {\n            crop_unit_x = 1;\n            crop_unit_y = 2 - frame_mbs_only_flag;\n        } else {\n            let sub_wc = (chroma_format_idc === 3) ? 1 : 2;\n            let sub_hc = (chroma_format_idc === 1) ? 2 : 1;\n            crop_unit_x = sub_wc;\n            crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n        }\n\n        let codec_width = (pic_width_in_mbs_minus1 + 1) * 16;\n        let codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n        codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n        codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n        let present_width = Math.ceil(codec_width * sarScale);\n\n        gb.destroy();\n        gb = null;\n\n        return {\n            profile_string: profile_string,  // baseline, high, high10, ...\n            level_string: level_string,  // 3, 3.1, 4, 4.1, 5, 5.1, ...\n            bit_depth: bit_depth,  // 8bit, 10bit, ...\n            chroma_format: chroma_format,  // 4:2:0, 4:2:2, ...\n            chroma_format_string: SPSParser.getChromaFormatString(chroma_format),\n\n            frame_rate: {\n                fixed: fps_fixed,\n                fps: fps,\n                fps_den: fps_den,\n                fps_num: fps_num\n            },\n\n            sar_ratio: {\n                width: sar_width,\n                height: sar_height\n            },\n\n            codec_size: {\n                width: codec_width,\n                height: codec_height\n            },\n\n            present_size: {\n                width: present_width,\n                height: codec_height\n            }\n        };\n    }\n\n    static _skipScalingList(gb, count) {\n        let last_scale = 8, next_scale = 8;\n        let delta_scale = 0;\n        for (let i = 0; i < count; i++) {\n            if (next_scale !== 0) {\n                delta_scale = gb.readSEG();\n                next_scale = (last_scale + delta_scale + 256) % 256;\n            }\n            last_scale = (next_scale === 0) ? last_scale : next_scale;\n        }\n    }\n\n    static getProfileString(profile_idc) {\n        switch (profile_idc) {\n            case 66:\n                return 'Baseline';\n            case 77:\n                return 'Main';\n            case 88:\n                return 'Extended';\n            case 100:\n                return 'High';\n            case 110:\n                return 'High10';\n            case 122:\n                return 'High422';\n            case 244:\n                return 'High444';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    static getLevelString(level_idc) {\n        return (level_idc / 10).toFixed(1);\n    }\n\n    static getChromaFormatString(chroma) {\n        switch (chroma) {\n            case 420:\n                return '4:2:0';\n            case 422:\n                return '4:2:2';\n            case 444:\n                return '4:4:4';\n            default:\n                return 'Unknown';\n        }\n    }\n\n}\n\nexport default SPSParser;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Polyfill from './utils/polyfill.js';\nimport Features from './core/features.js';\nimport FlvPlayer from './player/flv-player.js';\nimport NativePlayer from './player/native-player.js';\nimport PlayerEvents from './player/player-events.js';\nimport {ErrorTypes, ErrorDetails} from './player/player-errors.js';\nimport LoggingControl from './utils/logging-control.js';\nimport {InvalidArgumentException} from './utils/exception.js';\n\n// here are all the interfaces\n\n// install polyfills\nPolyfill.install();\n\n\n// factory method\nfunction createPlayer(mediaDataSource, optionalConfig) {\n    let mds = mediaDataSource;\n    if (mds == null || typeof mds !== 'object') {\n        throw new InvalidArgumentException('MediaDataSource must be an javascript object!');\n    }\n\n    if (!mds.hasOwnProperty('type')) {\n        throw new InvalidArgumentException('MediaDataSource must has type field to indicate video file type!');\n    }\n\n    switch (mds.type) {\n        case 'flv':\n            return new FlvPlayer(mds, optionalConfig);\n        default:\n            return new NativePlayer(mds, optionalConfig);\n    }\n}\n\n\n// feature detection\nfunction isSupported() {\n    return Features.supportMSEH264Playback();\n}\n\nfunction getFeatureList() {\n    return Features.getFeatureList();\n}\n\n\n// interfaces\nlet flvjs = {};\n\nflvjs.createPlayer = createPlayer;\nflvjs.isSupported = isSupported;\nflvjs.getFeatureList = getFeatureList;\n\nflvjs.Events = PlayerEvents;\nflvjs.ErrorTypes = ErrorTypes;\nflvjs.ErrorDetails = ErrorDetails;\n\nflvjs.FlvPlayer = FlvPlayer;\nflvjs.NativePlayer = NativePlayer;\nflvjs.LoggingControl = LoggingControl;\n\nObject.defineProperty(flvjs, 'version', {\n    enumerable: true,\n    get: function () {\n        // replaced by browserify-versionify transform\n        return '__VERSION__';\n    }\n});\n\nexport default flvjs;","// entry/index file\n\n// make it compatible with browserify's umd wrapper\nmodule.exports = require('./flv.js').default;\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport Browser from '../utils/browser.js';\nimport {BaseLoader, LoaderStatus, LoaderErrors} from './loader.js';\nimport {RuntimeException} from '../utils/exception.js';\n\n/* fetch + stream IO loader. Currently working on chrome 43+.\n * fetch provides a better alternative http API to XMLHttpRequest\n *\n * fetch spec   https://fetch.spec.whatwg.org/\n * stream spec  https://streams.spec.whatwg.org/\n */\nclass FetchStreamLoader extends BaseLoader {\n\n    static isSupported() {\n        try {\n            // fetch + stream is broken on Microsoft Edge. Disable before build 15048.\n            // see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8196907/\n            // Fixed in Jan 10, 2017. Build 15048+ removed from blacklist.\n            let isWorkWellEdge = Browser.msedge && Browser.version.minor >= 15048;\n            let browserNotBlacklisted = Browser.msedge ? isWorkWellEdge : true;\n            return (self.fetch && self.ReadableStream && browserNotBlacklisted);\n        } catch (e) {\n            return false;\n        }\n    }\n\n    constructor(seekHandler, config) {\n        super('fetch-stream-loader');\n        this.TAG = 'FetchStreamLoader';\n\n        this._seekHandler = seekHandler;\n        this._config = config;\n        this._needStash = true;\n\n        this._requestAbort = false;\n        this._contentLength = null;\n        this._receivedLength = 0;\n    }\n\n    destroy() {\n        if (this.isWorking()) {\n            this.abort();\n        }\n        super.destroy();\n    }\n\n    open(dataSource, range) {\n        this._dataSource = dataSource;\n        this._range = range;\n\n        let sourceURL = dataSource.url;\n        if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {\n            sourceURL = dataSource.redirectedURL;\n        }\n\n        let seekConfig = this._seekHandler.getConfig(sourceURL, range);\n\n        let headers = new self.Headers();\n\n        if (typeof seekConfig.headers === 'object') {\n            let configHeaders = seekConfig.headers;\n            for (let key in configHeaders) {\n                if (configHeaders.hasOwnProperty(key)) {\n                    headers.append(key, configHeaders[key]);\n                }\n            }\n        }\n\n        let params = {\n            method: 'GET',\n            headers: headers,\n            mode: 'cors',\n            cache: 'default',\n            // The default policy of Fetch API in the whatwg standard\n            // Safari incorrectly indicates 'no-referrer' as default policy, fuck it\n            referrerPolicy: 'no-referrer-when-downgrade'\n        };\n\n        // cors is enabled by default\n        if (dataSource.cors === false) {\n            // no-cors means 'disregard cors policy', which can only be used in ServiceWorker\n            params.mode = 'same-origin';\n        }\n\n        // withCredentials is disabled by default\n        if (dataSource.withCredentials) {\n            params.credentials = 'include';\n        }\n\n        // referrerPolicy from config\n        if (dataSource.referrerPolicy) {\n            params.referrerPolicy = dataSource.referrerPolicy;\n        }\n\n        this._status = LoaderStatus.kConnecting;\n        self.fetch(seekConfig.url, params).then((res) => {\n            if (this._requestAbort) {\n                this._requestAbort = false;\n                this._status = LoaderStatus.kIdle;\n                return;\n            }\n            if (res.ok && (res.status >= 200 && res.status <= 299)) {\n                if (res.url !== seekConfig.url) {\n                    if (this._onURLRedirect) {\n                        let redirectedURL = this._seekHandler.removeURLParameters(res.url);\n                        this._onURLRedirect(redirectedURL);\n                    }\n                }\n\n                let lengthHeader = res.headers.get('Content-Length');\n                if (lengthHeader != null) {\n                    this._contentLength = parseInt(lengthHeader);\n                    if (this._contentLength !== 0) {\n                        if (this._onContentLengthKnown) {\n                            this._onContentLengthKnown(this._contentLength);\n                        }\n                    }\n                }\n\n                return this._pump.call(this, res.body.getReader());\n            } else {\n                this._status = LoaderStatus.kError;\n                if (this._onError) {\n                    this._onError(LoaderErrors.HTTP_STATUS_CODE_INVALID, {code: res.status, msg: res.statusText});\n                } else {\n                    throw new RuntimeException('FetchStreamLoader: Http code invalid, ' + res.status + ' ' + res.statusText);\n                }\n            }\n        }).catch((e) => {\n            this._status = LoaderStatus.kError;\n            if (this._onError) {\n                this._onError(LoaderErrors.EXCEPTION, {code: -1, msg: e.message});\n            } else {\n                throw e;\n            }\n        });\n    }\n\n    abort() {\n        this._requestAbort = true;\n    }\n\n    _pump(reader) {  // ReadableStreamReader\n        return reader.read().then((result) => {\n            if (result.done) {\n                this._status = LoaderStatus.kComplete;\n                if (this._onComplete) {\n                    this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);\n                }\n            } else {\n                if (this._requestAbort === true) {\n                    this._requestAbort = false;\n                    this._status = LoaderStatus.kComplete;\n                    return reader.cancel();\n                }\n\n                this._status = LoaderStatus.kBuffering;\n\n                let chunk = result.value.buffer;\n                let byteStart = this._range.from + this._receivedLength;\n                this._receivedLength += chunk.byteLength;\n\n                if (this._onDataArrival) {\n                    this._onDataArrival(chunk, byteStart, this._receivedLength);\n                }\n\n                return this._pump(reader);\n            }\n        }).catch((e) => {\n            if (e.code === 11 && Browser.msedge) {  // InvalidStateError on Microsoft Edge\n                // Workaround: Edge may throw InvalidStateError after ReadableStreamReader.cancel() call\n                // Ignore the unknown exception.\n                // Related issue: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11265202/\n                return;\n            }\n\n            this._status = LoaderStatus.kError;\n            let type = 0;\n            let info = null;\n\n            if ((e.code === 19 || e.message === 'network error') && // NETWORK_ERR\n                (this._contentLength === null ||\n                (this._contentLength !== null && this._receivedLength < this._contentLength))) {\n                type = LoaderErrors.EARLY_EOF;\n                info = {code: e.code, msg: 'Fetch stream meet Early-EOF'};\n            } else {\n                type = LoaderErrors.EXCEPTION;\n                info = {code: e.code, msg: e.message};\n            }\n\n            if (this._onError) {\n                this._onError(type, info);\n            } else {\n                throw new RuntimeException(info.msg);\n            }\n        });\n    }\n\n}\n\nexport default FetchStreamLoader;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport SpeedSampler from './speed-sampler.js';\nimport {LoaderStatus, LoaderErrors} from './loader.js';\nimport FetchStreamLoader from './fetch-stream-loader.js';\nimport MozChunkedLoader from './xhr-moz-chunked-loader.js';\nimport MSStreamLoader from './xhr-msstream-loader.js';\nimport RangeLoader from './xhr-range-loader.js';\nimport WebSocketLoader from './websocket-loader.js';\nimport RangeSeekHandler from './range-seek-handler.js';\nimport ParamSeekHandler from './param-seek-handler.js';\nimport {RuntimeException, IllegalStateException, InvalidArgumentException} from '../utils/exception.js';\n\n/**\n * DataSource: {\n *     url: string,\n *     filesize: number,\n *     cors: boolean,\n *     withCredentials: boolean\n * }\n * \n */\n\n// Manage IO Loaders\nclass IOController {\n\n    constructor(dataSource, config, extraData) {\n        this.TAG = 'IOController';\n\n        this._config = config;\n        this._extraData = extraData;\n\n        this._stashInitialSize = 1024 * 384;  // default initial size: 384KB\n        if (config.stashInitialSize != undefined && config.stashInitialSize > 0) {\n            // apply from config\n            this._stashInitialSize = config.stashInitialSize;\n        }\n\n        this._stashUsed = 0;\n        this._stashSize = this._stashInitialSize;\n        this._bufferSize = 1024 * 1024 * 3;  // initial size: 3MB\n        this._stashBuffer = new ArrayBuffer(this._bufferSize);\n        this._stashByteStart = 0;\n        this._enableStash = true;\n        if (config.enableStashBuffer === false) {\n            this._enableStash = false;\n        }\n\n        this._loader = null;\n        this._loaderClass = null;\n        this._seekHandler = null;\n\n        this._dataSource = dataSource;\n        this._isWebSocketURL = /wss?:\\/\\/(.+?)/.test(dataSource.url);\n        this._refTotalLength = dataSource.filesize ? dataSource.filesize : null;\n        this._totalLength = this._refTotalLength;\n        this._fullRequestFlag = false;\n        this._currentRange = null;\n        this._redirectedURL = null;\n\n        this._speedNormalized = 0;\n        this._speedSampler = new SpeedSampler();\n        this._speedNormalizeList = [64, 128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096];\n\n        this._isEarlyEofReconnecting = false;\n\n        this._paused = false;\n        this._resumeFrom = 0;\n\n        this._onDataArrival = null;\n        this._onSeeked = null;\n        this._onError = null;\n        this._onComplete = null;\n        this._onRedirect = null;\n        this._onRecoveredEarlyEof = null;\n\n        this._selectSeekHandler();\n        this._selectLoader();\n        this._createLoader();\n    }\n\n    destroy() {\n        if (this._loader.isWorking()) {\n            this._loader.abort();\n        }\n        this._loader.destroy();\n        this._loader = null;\n        this._loaderClass = null;\n        this._dataSource = null;\n        this._stashBuffer = null;\n        this._stashUsed = this._stashSize = this._bufferSize = this._stashByteStart = 0;\n        this._currentRange = null;\n        this._speedSampler = null;\n\n        this._isEarlyEofReconnecting = false;\n\n        this._onDataArrival = null;\n        this._onSeeked = null;\n        this._onError = null;\n        this._onComplete = null;\n        this._onRedirect = null;\n        this._onRecoveredEarlyEof = null;\n\n        this._extraData = null;\n    }\n\n    isWorking() {\n        return this._loader && this._loader.isWorking() && !this._paused;\n    }\n\n    isPaused() {\n        return this._paused;\n    }\n\n    get status() {\n        return this._loader.status;\n    }\n\n    get extraData() {\n        return this._extraData;\n    }\n\n    set extraData(data) {\n        this._extraData = data;\n    }\n\n    // prototype: function onDataArrival(chunks: ArrayBuffer, byteStart: number): number\n    get onDataArrival() {\n        return this._onDataArrival;\n    }\n\n    set onDataArrival(callback) {\n        this._onDataArrival = callback;\n    }\n\n    get onSeeked() {\n        return this._onSeeked;\n    }\n\n    set onSeeked(callback) {\n        this._onSeeked = callback;\n    }\n\n    // prototype: function onError(type: number, info: {code: number, msg: string}): void\n    get onError() {\n        return this._onError;\n    }\n\n    set onError(callback) {\n        this._onError = callback;\n    }\n\n    get onComplete() {\n        return this._onComplete;\n    }\n\n    set onComplete(callback) {\n        this._onComplete = callback;\n    }\n\n    get onRedirect() {\n        return this._onRedirect;\n    }\n\n    set onRedirect(callback) {\n        this._onRedirect = callback;\n    }\n\n    get onRecoveredEarlyEof() {\n        return this._onRecoveredEarlyEof;\n    }\n\n    set onRecoveredEarlyEof(callback) {\n        this._onRecoveredEarlyEof = callback;\n    }\n\n    get currentURL() {\n        return this._dataSource.url;\n    }\n\n    get hasRedirect() {\n        return (this._redirectedURL != null || this._dataSource.redirectedURL != undefined);\n    }\n\n    get currentRedirectedURL() {\n        return this._redirectedURL || this._dataSource.redirectedURL;\n    }\n\n    // in KB/s\n    get currentSpeed() {\n        if (this._loaderClass === RangeLoader) {\n            // SpeedSampler is inaccuracy if loader is RangeLoader\n            return this._loader.currentSpeed;\n        }\n        return this._speedSampler.lastSecondKBps;\n    }\n\n    get loaderType() {\n        return this._loader.type;\n    }\n\n    _selectSeekHandler() {\n        let config = this._config;\n\n        if (config.seekType === 'range') {\n            this._seekHandler = new RangeSeekHandler(this._config.rangeLoadZeroStart);\n        } else if (config.seekType === 'param') {\n            let paramStart = config.seekParamStart || 'bstart';\n            let paramEnd = config.seekParamEnd || 'bend';\n\n            this._seekHandler = new ParamSeekHandler(paramStart, paramEnd);\n        } else if (config.seekType === 'custom') {\n            if (typeof config.customSeekHandler !== 'function') {\n                throw new InvalidArgumentException('Custom seekType specified in config but invalid customSeekHandler!');\n            }\n            this._seekHandler = new config.customSeekHandler();\n        } else {\n            throw new InvalidArgumentException(`Invalid seekType in config: ${config.seekType}`);\n        }\n    }\n\n    _selectLoader() {\n        if (this._isWebSocketURL) {\n            this._loaderClass = WebSocketLoader;\n        } else if (FetchStreamLoader.isSupported()) {\n            this._loaderClass = FetchStreamLoader;\n        } else if (MozChunkedLoader.isSupported()) {\n            this._loaderClass = MozChunkedLoader;\n        } else if (RangeLoader.isSupported()) {\n            this._loaderClass = RangeLoader;\n        } else {\n            throw new RuntimeException('Your browser doesn\\'t support xhr with arraybuffer responseType!');\n        }\n    }\n\n    _createLoader() {\n        this._loader = new this._loaderClass(this._seekHandler, this._config);\n        if (this._loader.needStashBuffer === false) {\n            this._enableStash = false;\n        }\n        this._loader.onContentLengthKnown = this._onContentLengthKnown.bind(this);\n        this._loader.onURLRedirect = this._onURLRedirect.bind(this);\n        this._loader.onDataArrival = this._onLoaderChunkArrival.bind(this);\n        this._loader.onComplete = this._onLoaderComplete.bind(this);\n        this._loader.onError = this._onLoaderError.bind(this);\n    }\n\n    open(optionalFrom) {\n        this._currentRange = {from: 0, to: -1};\n        if (optionalFrom) {\n            this._currentRange.from = optionalFrom;\n        }\n\n        this._speedSampler.reset();\n        if (!optionalFrom) {\n            this._fullRequestFlag = true;\n        }\n\n        this._loader.open(this._dataSource, Object.assign({}, this._currentRange));\n    }\n\n    abort() {\n        this._loader.abort();\n\n        if (this._paused) {\n            this._paused = false;\n            this._resumeFrom = 0;\n        }\n    }\n\n    pause() {\n        if (this.isWorking()) {\n            this._loader.abort();\n\n            if (this._stashUsed !== 0) {\n                this._resumeFrom = this._stashByteStart;\n                this._currentRange.to = this._stashByteStart - 1;\n            } else {\n                this._resumeFrom = this._currentRange.to + 1;\n            }\n            this._stashUsed = 0;\n            this._stashByteStart = 0;\n            this._paused = true;\n        }\n    }\n\n    resume() {\n        if (this._paused) {\n            this._paused = false;\n            let bytes = this._resumeFrom;\n            this._resumeFrom = 0;\n            this._internalSeek(bytes, true);\n        }\n    }\n\n    seek(bytes) {\n        this._paused = false;\n        this._stashUsed = 0;\n        this._stashByteStart = 0;\n        this._internalSeek(bytes, true);\n    }\n\n    /**\n     * When seeking request is from media seeking, unconsumed stash data should be dropped\n     * However, stash data shouldn't be dropped if seeking requested from http reconnection\n     *\n     * @dropUnconsumed: Ignore and discard all unconsumed data in stash buffer\n     */\n    _internalSeek(bytes, dropUnconsumed) {\n        if (this._loader.isWorking()) {\n            this._loader.abort();\n        }\n\n        // dispatch & flush stash buffer before seek\n        this._flushStashBuffer(dropUnconsumed);\n\n        this._loader.destroy();\n        this._loader = null;\n\n        let requestRange = {from: bytes, to: -1};\n        this._currentRange = {from: requestRange.from, to: -1};\n\n        this._speedSampler.reset();\n        this._stashSize = this._stashInitialSize;\n        this._createLoader();\n        this._loader.open(this._dataSource, requestRange);\n\n        if (this._onSeeked) {\n            this._onSeeked();\n        }\n    }\n\n    updateUrl(url) {\n        if (!url || typeof url !== 'string' || url.length === 0) {\n            throw new InvalidArgumentException('Url must be a non-empty string!');\n        }\n\n        this._dataSource.url = url;\n\n        // TODO: replace with new url\n    }\n\n    _expandBuffer(expectedBytes) {\n        let bufferNewSize = this._stashSize;\n        while (bufferNewSize + 1024 * 1024 * 1 < expectedBytes) {\n            bufferNewSize *= 2;\n        }\n\n        bufferNewSize += 1024 * 1024 * 1;  // bufferSize = stashSize + 1MB\n        if (bufferNewSize === this._bufferSize) {\n            return;\n        }\n\n        let newBuffer = new ArrayBuffer(bufferNewSize);\n\n        if (this._stashUsed > 0) {  // copy existing data into new buffer\n            let stashOldArray = new Uint8Array(this._stashBuffer, 0, this._stashUsed);\n            let stashNewArray = new Uint8Array(newBuffer, 0, bufferNewSize);\n            stashNewArray.set(stashOldArray, 0);\n        }\n\n        this._stashBuffer = newBuffer;\n        this._bufferSize = bufferNewSize;\n    }\n\n    _normalizeSpeed(input) {\n        let list = this._speedNormalizeList;\n        let last = list.length - 1;\n        let mid = 0;\n        let lbound = 0;\n        let ubound = last;\n\n        if (input < list[0]) {\n            return list[0];\n        }\n\n        // binary search\n        while (lbound <= ubound) {\n            mid = lbound + Math.floor((ubound - lbound) / 2);\n            if (mid === last || (input >= list[mid] && input < list[mid + 1])) {\n                return list[mid];\n            } else if (list[mid] < input) {\n                lbound = mid + 1;\n            } else {\n                ubound = mid - 1;\n            }\n        }\n    }\n\n    _adjustStashSize(normalized) {\n        let stashSizeKB = 0;\n\n        if (this._config.isLive) {\n            // live stream: always use single normalized speed for size of stashSizeKB\n            stashSizeKB = normalized;\n        } else {\n            if (normalized < 512) {\n                stashSizeKB = normalized;\n            } else if (normalized >= 512 && normalized <= 1024) {\n                stashSizeKB = Math.floor(normalized * 1.5);\n            } else {\n                stashSizeKB = normalized * 2;\n            }\n        }\n\n        if (stashSizeKB > 8192) {\n            stashSizeKB = 8192;\n        }\n\n        let bufferSize = stashSizeKB * 1024 + 1024 * 1024 * 1;  // stashSize + 1MB\n        if (this._bufferSize < bufferSize) {\n            this._expandBuffer(bufferSize);\n        }\n        this._stashSize = stashSizeKB * 1024;\n    }\n\n    _dispatchChunks(chunks, byteStart) {\n        this._currentRange.to = byteStart + chunks.byteLength - 1;\n        return this._onDataArrival(chunks, byteStart);\n    }\n\n    _onURLRedirect(redirectedURL) {\n        this._redirectedURL = redirectedURL;\n        if (this._onRedirect) {\n            this._onRedirect(redirectedURL);\n        }\n    }\n\n    _onContentLengthKnown(contentLength) {\n        if (contentLength && this._fullRequestFlag) {\n            this._totalLength = contentLength;\n            this._fullRequestFlag = false;\n        }\n    }\n\n    _onLoaderChunkArrival(chunk, byteStart, receivedLength) {\n        if (!this._onDataArrival) {\n            throw new IllegalStateException('IOController: No existing consumer (onDataArrival) callback!');\n        }\n        if (this._paused) {\n            return;\n        }\n        if (this._isEarlyEofReconnecting) {\n            // Auto-reconnect for EarlyEof succeed, notify to upper-layer by callback\n            this._isEarlyEofReconnecting = false;\n            if (this._onRecoveredEarlyEof) {\n                this._onRecoveredEarlyEof();\n            }\n        }\n\n        this._speedSampler.addBytes(chunk.byteLength);\n\n        // adjust stash buffer size according to network speed dynamically\n        let KBps = this._speedSampler.lastSecondKBps;\n        if (KBps !== 0) {\n            let normalized = this._normalizeSpeed(KBps);\n            if (this._speedNormalized !== normalized) {\n                this._speedNormalized = normalized;\n                this._adjustStashSize(normalized);\n            }\n        }\n\n        if (!this._enableStash) {  // disable stash\n            if (this._stashUsed === 0) {\n                // dispatch chunk directly to consumer;\n                // check ret value (consumed bytes) and stash unconsumed to stashBuffer\n                let consumed = this._dispatchChunks(chunk, byteStart);\n                if (consumed < chunk.byteLength) {  // unconsumed data remain.\n                    let remain = chunk.byteLength - consumed;\n                    if (remain > this._bufferSize) {\n                        this._expandBuffer(remain);\n                    }\n                    let stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                    stashArray.set(new Uint8Array(chunk, consumed), 0);\n                    this._stashUsed += remain;\n                    this._stashByteStart = byteStart + consumed;\n                }\n            } else {\n                // else: Merge chunk into stashBuffer, and dispatch stashBuffer to consumer.\n                if (this._stashUsed + chunk.byteLength > this._bufferSize) {\n                    this._expandBuffer(this._stashUsed + chunk.byteLength);\n                }\n                let stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                stashArray.set(new Uint8Array(chunk), this._stashUsed);\n                this._stashUsed += chunk.byteLength;\n                let consumed = this._dispatchChunks(this._stashBuffer.slice(0, this._stashUsed), this._stashByteStart);\n                if (consumed < this._stashUsed && consumed > 0) {  // unconsumed data remain\n                    let remainArray = new Uint8Array(this._stashBuffer, consumed);\n                    stashArray.set(remainArray, 0);\n                }\n                this._stashUsed -= consumed;\n                this._stashByteStart += consumed;\n            }\n        } else {  // enable stash\n            if (this._stashUsed === 0 && this._stashByteStart === 0) {  // seeked? or init chunk?\n                // This is the first chunk after seek action\n                this._stashByteStart = byteStart;\n            }\n            if (this._stashUsed + chunk.byteLength <= this._stashSize) {\n                // just stash\n                let stashArray = new Uint8Array(this._stashBuffer, 0, this._stashSize);\n                stashArray.set(new Uint8Array(chunk), this._stashUsed);\n                this._stashUsed += chunk.byteLength;\n            } else {  // stashUsed + chunkSize > stashSize, size limit exceeded\n                let stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                if (this._stashUsed > 0) {  // There're stash datas in buffer\n                    // dispatch the whole stashBuffer, and stash remain data\n                    // then append chunk to stashBuffer (stash)\n                    let buffer = this._stashBuffer.slice(0, this._stashUsed);\n                    let consumed = this._dispatchChunks(buffer, this._stashByteStart);\n                    if (consumed < buffer.byteLength) {\n                        if (consumed > 0) {\n                            let remainArray = new Uint8Array(buffer, consumed);\n                            stashArray.set(remainArray, 0);\n                            this._stashUsed = remainArray.byteLength;\n                            this._stashByteStart += consumed;\n                        }\n                    } else {\n                        this._stashUsed = 0;\n                        this._stashByteStart += consumed;\n                    }\n                    if (this._stashUsed + chunk.byteLength > this._bufferSize) {\n                        this._expandBuffer(this._stashUsed + chunk.byteLength);\n                        stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                    }\n                    stashArray.set(new Uint8Array(chunk), this._stashUsed);\n                    this._stashUsed += chunk.byteLength;\n                } else {  // stash buffer empty, but chunkSize > stashSize (oh, holy shit)\n                    // dispatch chunk directly and stash remain data\n                    let consumed = this._dispatchChunks(chunk, byteStart);\n                    if (consumed < chunk.byteLength) {\n                        let remain = chunk.byteLength - consumed;\n                        if (remain > this._bufferSize) {\n                            this._expandBuffer(remain);\n                            stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                        }\n                        stashArray.set(new Uint8Array(chunk, consumed), 0);\n                        this._stashUsed += remain;\n                        this._stashByteStart = byteStart + consumed;\n                    }\n                }\n            }\n        }\n    }\n\n    _flushStashBuffer(dropUnconsumed) {\n        if (this._stashUsed > 0) {\n            let buffer = this._stashBuffer.slice(0, this._stashUsed);\n            let consumed = this._dispatchChunks(buffer, this._stashByteStart);\n            let remain = buffer.byteLength - consumed;\n\n            if (consumed < buffer.byteLength) {\n                if (dropUnconsumed) {\n                    Log.w(this.TAG, `${remain} bytes unconsumed data remain when flush buffer, dropped`);\n                } else {\n                    if (consumed > 0) {\n                        let stashArray = new Uint8Array(this._stashBuffer, 0, this._bufferSize);\n                        let remainArray = new Uint8Array(buffer, consumed);\n                        stashArray.set(remainArray, 0);\n                        this._stashUsed = remainArray.byteLength;\n                        this._stashByteStart += consumed;\n                    }\n                    return 0;\n                }\n            }\n            this._stashUsed = 0;\n            this._stashByteStart = 0;\n            return remain;\n        }\n        return 0;\n    }\n\n    _onLoaderComplete(from, to) {\n        // Force-flush stash buffer, and drop unconsumed data\n        this._flushStashBuffer(true);\n\n        if (this._onComplete) {\n            this._onComplete(this._extraData);\n        }\n    }\n\n    _onLoaderError(type, data) {\n        Log.e(this.TAG, `Loader error, code = ${data.code}, msg = ${data.msg}`);\n\n        this._flushStashBuffer(false);\n\n        if (this._isEarlyEofReconnecting) {\n            // Auto-reconnect for EarlyEof failed, throw UnrecoverableEarlyEof error to upper-layer\n            this._isEarlyEofReconnecting = false;\n            type = LoaderErrors.UNRECOVERABLE_EARLY_EOF;\n        }\n\n        switch (type) {\n            case LoaderErrors.EARLY_EOF: {\n                if (!this._config.isLive) {\n                    // Do internal http reconnect if not live stream\n                    if (this._totalLength) {\n                        let nextFrom = this._currentRange.to + 1;\n                        if (nextFrom < this._totalLength) {\n                            Log.w(this.TAG, 'Connection lost, trying reconnect...');\n                            this._isEarlyEofReconnecting = true;\n                            this._internalSeek(nextFrom, false);\n                        }\n                        return;\n                    }\n                    // else: We don't know totalLength, throw UnrecoverableEarlyEof\n                }\n                // live stream: throw UnrecoverableEarlyEof error to upper-layer\n                type = LoaderErrors.UNRECOVERABLE_EARLY_EOF;\n                break;\n            }\n            case LoaderErrors.UNRECOVERABLE_EARLY_EOF:\n            case LoaderErrors.CONNECTING_TIMEOUT:\n            case LoaderErrors.HTTP_STATUS_CODE_INVALID:\n            case LoaderErrors.EXCEPTION:\n                break;\n        }\n\n        if (this._onError) {\n            this._onError(type, data);\n        } else {\n            throw new RuntimeException('IOException: ' + data.msg);\n        }\n    }\n\n}\n\nexport default IOController;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {NotImplementedException} from '../utils/exception.js';\n\nexport const LoaderStatus = {\n    kIdle: 0,\n    kConnecting: 1,\n    kBuffering: 2,\n    kError: 3,\n    kComplete: 4\n};\n\nexport const LoaderErrors = {\n    OK: 'OK',\n    EXCEPTION: 'Exception',\n    HTTP_STATUS_CODE_INVALID: 'HttpStatusCodeInvalid',\n    CONNECTING_TIMEOUT: 'ConnectingTimeout',\n    EARLY_EOF: 'EarlyEof',\n    UNRECOVERABLE_EARLY_EOF: 'UnrecoverableEarlyEof'\n};\n\n/* Loader has callbacks which have following prototypes:\n *     function onContentLengthKnown(contentLength: number): void\n *     function onURLRedirect(url: string): void\n *     function onDataArrival(chunk: ArrayBuffer, byteStart: number, receivedLength: number): void\n *     function onError(errorType: number, errorInfo: {code: number, msg: string}): void\n *     function onComplete(rangeFrom: number, rangeTo: number): void\n */\nexport class BaseLoader {\n\n    constructor(typeName) {\n        this._type = typeName || 'undefined';\n        this._status = LoaderStatus.kIdle;\n        this._needStash = false;\n        // callbacks\n        this._onContentLengthKnown = null;\n        this._onURLRedirect = null;\n        this._onDataArrival = null;\n        this._onError = null;\n        this._onComplete = null;\n    }\n\n    destroy() {\n        this._status = LoaderStatus.kIdle;\n        this._onContentLengthKnown = null;\n        this._onURLRedirect = null;\n        this._onDataArrival = null;\n        this._onError = null;\n        this._onComplete = null;\n    }\n\n    isWorking() {\n        return this._status === LoaderStatus.kConnecting || this._status === LoaderStatus.kBuffering;\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    get status() {\n        return this._status;\n    }\n\n    get needStashBuffer() {\n        return this._needStash;\n    }\n\n    get onContentLengthKnown() {\n        return this._onContentLengthKnown;\n    }\n\n    set onContentLengthKnown(callback) {\n        this._onContentLengthKnown = callback;\n    }\n\n    get onURLRedirect() {\n        return this._onURLRedirect;\n    }\n\n    set onURLRedirect(callback) {\n        this._onURLRedirect = callback;\n    }\n\n    get onDataArrival() {\n        return this._onDataArrival;\n    }\n\n    set onDataArrival(callback) {\n        this._onDataArrival = callback;\n    }\n\n    get onError() {\n        return this._onError;\n    }\n\n    set onError(callback) {\n        this._onError = callback;\n    }\n\n    get onComplete() {\n        return this._onComplete;\n    }\n\n    set onComplete(callback) {\n        this._onComplete = callback;\n    }\n\n    // pure virtual\n    open(dataSource, range) {\n        throw new NotImplementedException('Unimplemented abstract function!');\n    }\n\n    abort() {\n        throw new NotImplementedException('Unimplemented abstract function!');\n    }\n\n\n}","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass ParamSeekHandler {\n\n    constructor(paramStart, paramEnd) {\n        this._startName = paramStart;\n        this._endName = paramEnd;\n    }\n\n    getConfig(baseUrl, range) {\n        let url = baseUrl;\n\n        if (range.from !== 0 || range.to !== -1) {\n            let needAnd = true;\n            if (url.indexOf('?') === -1) {\n                url += '?';\n                needAnd = false;\n            }\n\n            if (needAnd) {\n                url += '&';\n            }\n\n            url += `${this._startName}=${range.from.toString()}`;\n\n            if (range.to !== -1) {\n                url += `&${this._endName}=${range.to.toString()}`;\n            }\n        }\n\n        return {\n            url: url,\n            headers: {}\n        };\n    }\n\n    removeURLParameters(seekedURL) {\n        let baseURL = seekedURL.split('?')[0];\n        let params = undefined;\n\n        let queryIndex = seekedURL.indexOf('?');\n        if (queryIndex !== -1) {\n            params = seekedURL.substring(queryIndex + 1);\n        }\n\n        let resultParams = '';\n\n        if (params != undefined && params.length > 0) {\n            let pairs = params.split('&');\n\n            for (let i = 0; i < pairs.length; i++) {\n                let pair = pairs[i].split('=');\n                let requireAnd = (i > 0);\n\n                if (pair[0] !== this._startName && pair[0] !== this._endName) {\n                    if (requireAnd) {\n                        resultParams += '&';\n                    }\n                    resultParams += pairs[i];\n                }\n            }\n        }\n\n        return (resultParams.length === 0) ? baseURL : baseURL + '?' + resultParams;\n    }\n\n}\n\nexport default ParamSeekHandler;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass RangeSeekHandler {\n\n    constructor(zeroStart) {\n        this._zeroStart = zeroStart || false;\n    }\n\n    getConfig(url, range) {\n        let headers = {};\n\n        if (range.from !== 0 || range.to !== -1) {\n            let param;\n            if (range.to !== -1) {\n                param = `bytes=${range.from.toString()}-${range.to.toString()}`;\n            } else {\n                param = `bytes=${range.from.toString()}-`;\n            }\n            headers['Range'] = param;\n        } else if (this._zeroStart) {\n            headers['Range'] = 'bytes=0-';\n        }\n\n        return {\n            url: url,\n            headers: headers\n        };\n    }\n\n    removeURLParameters(seekedURL) {\n        return seekedURL;\n    }\n\n}\n\nexport default RangeSeekHandler;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Utility class to calculate realtime network I/O speed\nclass SpeedSampler {\n\n    constructor() {\n        // milliseconds\n        this._firstCheckpoint = 0;\n        this._lastCheckpoint = 0;\n        this._intervalBytes = 0;\n        this._totalBytes = 0;\n        this._lastSecondBytes = 0;\n\n        // compatibility detection\n        if (self.performance && self.performance.now) {\n            this._now = self.performance.now.bind(self.performance);\n        } else {\n            this._now = Date.now;\n        }\n    }\n\n    reset() {\n        this._firstCheckpoint = this._lastCheckpoint = 0;\n        this._totalBytes = this._intervalBytes = 0;\n        this._lastSecondBytes = 0;\n    }\n\n    addBytes(bytes) {\n        if (this._firstCheckpoint === 0) {\n            this._firstCheckpoint = this._now();\n            this._lastCheckpoint = this._firstCheckpoint;\n            this._intervalBytes += bytes;\n            this._totalBytes += bytes;\n        } else if (this._now() - this._lastCheckpoint < 1000) {\n            this._intervalBytes += bytes;\n            this._totalBytes += bytes;\n        } else {  // duration >= 1000\n            this._lastSecondBytes = this._intervalBytes;\n            this._intervalBytes = bytes;\n            this._totalBytes += bytes;\n            this._lastCheckpoint = this._now();\n        }\n    }\n\n    get currentKBps() {\n        this.addBytes(0);\n\n        let durationSeconds = (this._now() - this._lastCheckpoint) / 1000;\n        if (durationSeconds == 0) durationSeconds = 1;\n        return (this._intervalBytes / durationSeconds) / 1024;\n    }\n\n    get lastSecondKBps() {\n        this.addBytes(0);\n\n        if (this._lastSecondBytes !== 0) {\n            return this._lastSecondBytes / 1024;\n        } else {  // lastSecondBytes === 0\n            if (this._now() - this._lastCheckpoint >= 500) {\n                // if time interval since last checkpoint has exceeded 500ms\n                // the speed is nearly accurate\n                return this.currentKBps;\n            } else {\n                // We don't know\n                return 0;\n            }\n        }\n    }\n\n    get averageKBps() {\n        let durationSeconds = (this._now() - this._firstCheckpoint) / 1000;\n        return (this._totalBytes / durationSeconds) / 1024;\n    }\n\n}\n\nexport default SpeedSampler;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport {BaseLoader, LoaderStatus, LoaderErrors} from './loader.js';\nimport {RuntimeException} from '../utils/exception.js';\n\n// For FLV over WebSocket live stream\nclass WebSocketLoader extends BaseLoader {\n\n    static isSupported() {\n        try {\n            return (typeof self.WebSocket !== 'undefined');\n        } catch (e) {\n            return false;\n        }\n    }\n\n    constructor() {\n        super('websocket-loader');\n        this.TAG = 'WebSocketLoader';\n\n        this._needStash = true;\n\n        this._ws = null;\n        this._requestAbort = false;\n        this._receivedLength = 0;\n    }\n\n    destroy() {\n        if (this._ws) {\n            this.abort();\n        }\n        super.destroy();\n    }\n\n    open(dataSource) {\n        try {\n            let ws = this._ws = new self.WebSocket(dataSource.url);\n            ws.binaryType = 'arraybuffer';\n            ws.onopen = this._onWebSocketOpen.bind(this);\n            ws.onclose = this._onWebSocketClose.bind(this);\n            ws.onmessage = this._onWebSocketMessage.bind(this);\n            ws.onerror = this._onWebSocketError.bind(this);\n\n            this._status = LoaderStatus.kConnecting;\n        } catch (e) {\n            this._status = LoaderStatus.kError;\n\n            let info = {code: e.code, msg: e.message};\n\n            if (this._onError) {\n                this._onError(LoaderErrors.EXCEPTION, info);\n            } else {\n                throw new RuntimeException(info.msg);\n            }\n        }\n    }\n\n    abort() {\n        let ws = this._ws;\n        if (ws && (ws.readyState === 0 || ws.readyState === 1)) {  // CONNECTING || OPEN\n            this._requestAbort = true;\n            ws.close();\n        }\n\n        this._ws = null;\n        this._status = LoaderStatus.kComplete;\n    }\n\n    _onWebSocketOpen(e) {\n        this._status = LoaderStatus.kBuffering;\n    }\n\n    _onWebSocketClose(e) {\n        if (this._requestAbort === true) {\n            this._requestAbort = false;\n            return;\n        }\n\n        this._status = LoaderStatus.kComplete;\n\n        if (this._onComplete) {\n            this._onComplete(0, this._receivedLength - 1);\n        }\n    }\n\n    _onWebSocketMessage(e) {\n        if (e.data instanceof ArrayBuffer) {\n            this._dispatchArrayBuffer(e.data);\n        } else if (e.data instanceof Blob) {\n            let reader = new FileReader();\n            reader.onload = () => {\n                this._dispatchArrayBuffer(reader.result);\n            };\n            reader.readAsArrayBuffer(e.data);\n        } else {\n            this._status = LoaderStatus.kError;\n            let info = {code: -1, msg: 'Unsupported WebSocket message type: ' + e.data.constructor.name};\n\n            if (this._onError) {\n                this._onError(LoaderErrors.EXCEPTION, info);\n            } else {\n                throw new RuntimeException(info.msg);\n            }\n        }\n    }\n\n    _dispatchArrayBuffer(arraybuffer) {\n        let chunk = arraybuffer;\n        let byteStart = this._receivedLength;\n        this._receivedLength += chunk.byteLength;\n\n        if (this._onDataArrival) {\n            this._onDataArrival(chunk, byteStart, this._receivedLength);\n        }\n    }\n\n    _onWebSocketError(e) {\n        this._status = LoaderStatus.kError;\n\n        let info = {\n            code: e.code,\n            msg: e.message\n        };\n\n        if (this._onError) {\n            this._onError(LoaderErrors.EXCEPTION, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n\n}\n\nexport default WebSocketLoader;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport {BaseLoader, LoaderStatus, LoaderErrors} from './loader.js';\nimport {RuntimeException} from '../utils/exception.js';\n\n// For FireFox browser which supports `xhr.responseType = 'moz-chunked-arraybuffer'`\nclass MozChunkedLoader extends BaseLoader {\n\n    static isSupported() {\n        try {\n            let xhr = new XMLHttpRequest();\n            // Firefox 37- requires .open() to be called before setting responseType\n            xhr.open('GET', 'https://example.com', true);\n            xhr.responseType = 'moz-chunked-arraybuffer';\n            return (xhr.responseType === 'moz-chunked-arraybuffer');\n        } catch (e) {\n            Log.w('MozChunkedLoader', e.message);\n            return false;\n        }\n    }\n\n    constructor(seekHandler, config) {\n        super('xhr-moz-chunked-loader');\n        this.TAG = 'MozChunkedLoader';\n\n        this._seekHandler = seekHandler;\n        this._config = config;\n        this._needStash = true;\n\n        this._xhr = null;\n        this._requestAbort = false;\n        this._contentLength = null;\n        this._receivedLength = 0;\n    }\n\n    destroy() {\n        if (this.isWorking()) {\n            this.abort();\n        }\n        if (this._xhr) {\n            this._xhr.onreadystatechange = null;\n            this._xhr.onprogress = null;\n            this._xhr.onloadend = null;\n            this._xhr.onerror = null;\n            this._xhr = null;\n        }\n        super.destroy();\n    }\n\n    open(dataSource, range) {\n        this._dataSource = dataSource;\n        this._range = range;\n\n        let sourceURL = dataSource.url;\n        if (this._config.reuseRedirectedURL && dataSource.redirectedURL != undefined) {\n            sourceURL = dataSource.redirectedURL;\n        }\n\n        let seekConfig = this._seekHandler.getConfig(sourceURL, range);\n        this._requestURL = seekConfig.url;\n\n        let xhr = this._xhr = new XMLHttpRequest();\n        xhr.open('GET', seekConfig.url, true);\n        xhr.responseType = 'moz-chunked-arraybuffer';\n        xhr.onreadystatechange = this._onReadyStateChange.bind(this);\n        xhr.onprogress = this._onProgress.bind(this);\n        xhr.onloadend = this._onLoadEnd.bind(this);\n        xhr.onerror = this._onXhrError.bind(this);\n\n        // cors is auto detected and enabled by xhr\n\n        // withCredentials is disabled by default\n        if (dataSource.withCredentials && xhr['withCredentials']) {\n            xhr.withCredentials = true;\n        }\n\n        if (typeof seekConfig.headers === 'object') {\n            let headers = seekConfig.headers;\n\n            for (let key in headers) {\n                if (headers.hasOwnProperty(key)) {\n                    xhr.setRequestHeader(key, headers[key]);\n                }\n            }\n        }\n\n        this._status = LoaderStatus.kConnecting;\n        xhr.send();\n    }\n\n    abort() {\n        this._requestAbort = true;\n        if (this._xhr) {\n            this._xhr.abort();\n        }\n        this._status = LoaderStatus.kComplete;\n    }\n\n    _onReadyStateChange(e) {\n        let xhr = e.target;\n\n        if (xhr.readyState === 2) {  // HEADERS_RECEIVED\n            if (xhr.responseURL != undefined && xhr.responseURL !== this._requestURL) {\n                if (this._onURLRedirect) {\n                    let redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);\n                    this._onURLRedirect(redirectedURL);\n                }\n            }\n\n            if (xhr.status !== 0 && (xhr.status < 200 || xhr.status > 299)) {\n                this._status = LoaderStatus.kError;\n                if (this._onError) {\n                    this._onError(LoaderErrors.HTTP_STATUS_CODE_INVALID, {code: xhr.status, msg: xhr.statusText});\n                } else {\n                    throw new RuntimeException('MozChunkedLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);\n                }\n            } else {\n                this._status = LoaderStatus.kBuffering;\n            }\n        }\n    }\n\n    _onProgress(e) {\n        if (this._contentLength === null) {\n            if (e.total !== null && e.total !== 0) {\n                this._contentLength = e.total;\n                if (this._onContentLengthKnown) {\n                    this._onContentLengthKnown(this._contentLength);\n                }\n            }\n        }\n\n        let chunk = e.target.response;\n        let byteStart = this._range.from + this._receivedLength;\n        this._receivedLength += chunk.byteLength;\n\n        if (this._onDataArrival) {\n            this._onDataArrival(chunk, byteStart, this._receivedLength);\n        }\n    }\n\n    _onLoadEnd(e) {\n        if (this._requestAbort === true) {\n            this._requestAbort = false;\n            return;\n        } else if (this._status === LoaderStatus.kError) {\n            return;\n        }\n\n        this._status = LoaderStatus.kComplete;\n        if (this._onComplete) {\n            this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);\n        }\n    }\n\n    _onXhrError(e) {\n        this._status = LoaderStatus.kError;\n        let type = 0;\n        let info = null;\n\n        if (this._contentLength && e.loaded < this._contentLength) {\n            type = LoaderErrors.EARLY_EOF;\n            info = {code: -1, msg: 'Moz-Chunked stream meet Early-Eof'};\n        } else {\n            type = LoaderErrors.EXCEPTION;\n            info = {code: -1, msg: e.constructor.name + ' ' + e.type};\n        }\n\n        if (this._onError) {\n            this._onError(type, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n\n}\n\nexport default MozChunkedLoader;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport {BaseLoader, LoaderStatus, LoaderErrors} from './loader.js';\nimport {RuntimeException} from '../utils/exception.js';\n\n/* Notice: ms-stream may cause IE/Edge browser crash if seek too frequently!!!\n * The browser may crash in wininet.dll. Disable for now.\n *\n * For IE11/Edge browser by microsoft which supports `xhr.responseType = 'ms-stream'`\n * Notice that ms-stream API sucks. The buffer is always expanding along with downloading.\n *\n * We need to abort the xhr if buffer size exceeded limit size (e.g. 16 MiB), then do reconnect.\n * in order to release previous ArrayBuffer to avoid memory leak\n *\n * Otherwise, the ArrayBuffer will increase to a terrible size that equals final file size.\n */\nclass MSStreamLoader extends BaseLoader {\n\n    static isSupported() {\n        try {\n            if (typeof self.MSStream === 'undefined' || typeof self.MSStreamReader === 'undefined') {\n                return false;\n            }\n\n            let xhr = new XMLHttpRequest();\n            xhr.open('GET', 'https://example.com', true);\n            xhr.responseType = 'ms-stream';\n            return (xhr.responseType === 'ms-stream');\n        } catch (e) {\n            Log.w('MSStreamLoader', e.message);\n            return false;\n        }\n    }\n\n    constructor(seekHandler, config) {\n        super('xhr-msstream-loader');\n        this.TAG = 'MSStreamLoader';\n\n        this._seekHandler = seekHandler;\n        this._config = config;\n        this._needStash = true;\n\n        this._xhr = null;\n        this._reader = null;  // MSStreamReader\n\n        this._totalRange = null;\n        this._currentRange = null;\n\n        this._currentRequestURL = null;\n        this._currentRedirectedURL = null;\n\n        this._contentLength = null;\n        this._receivedLength = 0;\n\n        this._bufferLimit = 16 * 1024 * 1024;  // 16MB\n        this._lastTimeBufferSize = 0;\n        this._isReconnecting = false;\n    }\n\n    destroy() {\n        if (this.isWorking()) {\n            this.abort();\n        }\n        if (this._reader) {\n            this._reader.onprogress = null;\n            this._reader.onload = null;\n            this._reader.onerror = null;\n            this._reader = null;\n        }\n        if (this._xhr) {\n            this._xhr.onreadystatechange = null;\n            this._xhr = null;\n        }\n        super.destroy();\n    }\n\n    open(dataSource, range) {\n        this._internalOpen(dataSource, range, false);\n    }\n\n    _internalOpen(dataSource, range, isSubrange) {\n        this._dataSource = dataSource;\n\n        if (!isSubrange) {\n            this._totalRange = range;\n        } else {\n            this._currentRange = range;\n        }\n\n        let sourceURL = dataSource.url;\n        if (this._config.reuseRedirectedURL) {\n            if (this._currentRedirectedURL != undefined) {\n                sourceURL = this._currentRedirectedURL;\n            } else if (dataSource.redirectedURL != undefined) {\n                sourceURL = dataSource.redirectedURL;\n            }\n        }\n\n        let seekConfig = this._seekHandler.getConfig(sourceURL, range);\n        this._currentRequestURL = seekConfig.url;\n\n        let reader = this._reader = new self.MSStreamReader();\n        reader.onprogress = this._msrOnProgress.bind(this);\n        reader.onload = this._msrOnLoad.bind(this);\n        reader.onerror = this._msrOnError.bind(this);\n\n        let xhr = this._xhr = new XMLHttpRequest();\n        xhr.open('GET', seekConfig.url, true);\n        xhr.responseType = 'ms-stream';\n        xhr.onreadystatechange = this._xhrOnReadyStateChange.bind(this);\n        xhr.onerror = this._xhrOnError.bind(this);\n\n        if (dataSource.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        if (typeof seekConfig.headers === 'object') {\n            let headers = seekConfig.headers;\n\n            for (let key in headers) {\n                if (headers.hasOwnProperty(key)) {\n                    xhr.setRequestHeader(key, headers[key]);\n                }\n            }\n        }\n\n        if (this._isReconnecting) {\n            this._isReconnecting = false;\n        } else {\n            this._status = LoaderStatus.kConnecting;\n        }\n        xhr.send();\n    }\n\n    abort() {\n        this._internalAbort();\n        this._status = LoaderStatus.kComplete;\n    }\n\n    _internalAbort() {\n        if (this._reader) {\n            if (this._reader.readyState === 1) {  // LOADING\n                this._reader.abort();\n            }\n            this._reader.onprogress = null;\n            this._reader.onload = null;\n            this._reader.onerror = null;\n            this._reader = null;\n        }\n        if (this._xhr) {\n            this._xhr.abort();\n            this._xhr.onreadystatechange = null;\n            this._xhr = null;\n        }\n    }\n\n    _xhrOnReadyStateChange(e) {\n        let xhr = e.target;\n\n        if (xhr.readyState === 2) {  // HEADERS_RECEIVED\n            if (xhr.status >= 200 && xhr.status <= 299) {\n                this._status = LoaderStatus.kBuffering;\n\n                if (xhr.responseURL != undefined) {\n                    let redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);\n                    if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {\n                        this._currentRedirectedURL = redirectedURL;\n                        if (this._onURLRedirect) {\n                            this._onURLRedirect(redirectedURL);\n                        }\n                    }\n                }\n\n                let lengthHeader = xhr.getResponseHeader('Content-Length');\n                if (lengthHeader != null && this._contentLength == null) {\n                    let length = parseInt(lengthHeader);\n                    if (length > 0) {\n                        this._contentLength = length;\n                        if (this._onContentLengthKnown) {\n                            this._onContentLengthKnown(this._contentLength);\n                        }\n                    }\n                }\n            } else {\n                this._status = LoaderStatus.kError;\n                if (this._onError) {\n                    this._onError(LoaderErrors.HTTP_STATUS_CODE_INVALID, {code: xhr.status, msg: xhr.statusText});\n                } else {\n                    throw new RuntimeException('MSStreamLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);\n                }\n            }\n        } else if (xhr.readyState === 3) {  // LOADING\n            if (xhr.status >= 200 && xhr.status <= 299) {\n                this._status = LoaderStatus.kBuffering;\n\n                let msstream = xhr.response;\n                this._reader.readAsArrayBuffer(msstream);\n            }\n        }\n    }\n\n    _xhrOnError(e) {\n        this._status = LoaderStatus.kError;\n        let type = LoaderErrors.EXCEPTION;\n        let info = {code: -1, msg: e.constructor.name + ' ' + e.type};\n\n        if (this._onError) {\n            this._onError(type, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n\n    _msrOnProgress(e) {\n        let reader = e.target;\n        let bigbuffer = reader.result;\n        if (bigbuffer == null) {  // result may be null, workaround for buggy M$\n            this._doReconnectIfNeeded();\n            return;\n        }\n\n        let slice = bigbuffer.slice(this._lastTimeBufferSize);\n        this._lastTimeBufferSize = bigbuffer.byteLength;\n        let byteStart = this._totalRange.from + this._receivedLength;\n        this._receivedLength += slice.byteLength;\n\n        if (this._onDataArrival) {\n            this._onDataArrival(slice, byteStart, this._receivedLength);\n        }\n\n        if (bigbuffer.byteLength >= this._bufferLimit) {\n            Log.v(this.TAG, `MSStream buffer exceeded max size near ${byteStart + slice.byteLength}, reconnecting...`);\n            this._doReconnectIfNeeded();\n        }\n    }\n\n    _doReconnectIfNeeded() {\n        if (this._contentLength == null || this._receivedLength < this._contentLength) {\n            this._isReconnecting = true;\n            this._lastTimeBufferSize = 0;\n            this._internalAbort();\n\n            let range = {\n                from: this._totalRange.from + this._receivedLength,\n                to: -1\n            };\n            this._internalOpen(this._dataSource, range, true);\n        }\n    }\n\n    _msrOnLoad(e) {  // actually it is onComplete event\n        this._status = LoaderStatus.kComplete;\n        if (this._onComplete) {\n            this._onComplete(this._totalRange.from, this._totalRange.from + this._receivedLength - 1);\n        }\n    }\n\n    _msrOnError(e) {\n        this._status = LoaderStatus.kError;\n        let type = 0;\n        let info = null;\n\n        if (this._contentLength && this._receivedLength < this._contentLength) {\n            type = LoaderErrors.EARLY_EOF;\n            info = {code: -1, msg: 'MSStream meet Early-Eof'};\n        } else {\n            type = LoaderErrors.EARLY_EOF;\n            info = {code: -1, msg: e.constructor.name + ' ' + e.type};\n        }\n\n        if (this._onError) {\n            this._onError(type, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n}\n\nexport default MSStreamLoader;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport SpeedSampler from './speed-sampler.js';\nimport {BaseLoader, LoaderStatus, LoaderErrors} from './loader.js';\nimport {RuntimeException} from '../utils/exception.js';\n\n// Universal IO Loader, implemented by adding Range header in xhr's request header\nclass RangeLoader extends BaseLoader {\n\n    static isSupported() {\n        try {\n            let xhr = new XMLHttpRequest();\n            xhr.open('GET', 'https://example.com', true);\n            xhr.responseType = 'arraybuffer';\n            return (xhr.responseType === 'arraybuffer');\n        } catch (e) {\n            Log.w('RangeLoader', e.message);\n            return false;\n        }\n    }\n\n    constructor(seekHandler, config) {\n        super('xhr-range-loader');\n        this.TAG = 'RangeLoader';\n\n        this._seekHandler = seekHandler;\n        this._config = config;\n        this._needStash = false;\n\n        this._chunkSizeKBList = [\n            128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168, 8192\n        ];\n        this._currentChunkSizeKB = 384;\n        this._currentSpeedNormalized = 0;\n        this._zeroSpeedChunkCount = 0;\n\n        this._xhr = null;\n        this._speedSampler = new SpeedSampler();\n\n        this._requestAbort = false;\n        this._waitForTotalLength = false;\n        this._totalLengthReceived = false;\n\n        this._currentRequestURL = null;\n        this._currentRedirectedURL = null;\n        this._currentRequestRange = null;\n        this._totalLength = null;  // size of the entire file\n        this._contentLength = null;  // Content-Length of entire request range\n        this._receivedLength = 0;  // total received bytes\n        this._lastTimeLoaded = 0;  // received bytes of current request sub-range\n    }\n\n    destroy() {\n        if (this.isWorking()) {\n            this.abort();\n        }\n        if (this._xhr) {\n            this._xhr.onreadystatechange = null;\n            this._xhr.onprogress = null;\n            this._xhr.onload = null;\n            this._xhr.onerror = null;\n            this._xhr = null;\n        }\n        super.destroy();\n    }\n\n    get currentSpeed() {\n        return this._speedSampler.lastSecondKBps;\n    }\n\n    open(dataSource, range) {\n        this._dataSource = dataSource;\n        this._range = range;\n        this._status = LoaderStatus.kConnecting;\n\n        if (!this._totalLengthReceived) {\n            // We need total filesize\n            this._waitForTotalLength = true;\n            this._internalOpen(this._dataSource, {from: 0, to: -1});\n        } else {\n            // We have filesize, start loading\n            this._openSubRange();\n        }\n    }\n\n    _openSubRange() {\n        let chunkSize = this._currentChunkSizeKB * 1024;\n\n        let from = this._range.from + this._receivedLength;\n        let to = from + chunkSize;\n\n        if (this._contentLength != null) {\n            if (to - this._range.from >= this._contentLength) {\n                to = this._range.from + this._contentLength - 1;\n            }\n        }\n\n        this._currentRequestRange = {from, to};\n        this._internalOpen(this._dataSource, this._currentRequestRange);\n    }\n\n    _internalOpen(dataSource, range) {\n        this._lastTimeLoaded = 0;\n\n        let sourceURL = dataSource.url;\n        if (this._config.reuseRedirectedURL) {\n            if (this._currentRedirectedURL != undefined) {\n                sourceURL = this._currentRedirectedURL;\n            } else if (dataSource.redirectedURL != undefined) {\n                sourceURL = dataSource.redirectedURL;\n            }\n        }\n\n        let seekConfig = this._seekHandler.getConfig(sourceURL, range);\n        this._currentRequestURL = seekConfig.url;\n\n        let xhr = this._xhr = new XMLHttpRequest();\n        xhr.open('GET', seekConfig.url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.onreadystatechange = this._onReadyStateChange.bind(this);\n        xhr.onprogress = this._onProgress.bind(this);\n        xhr.onload = this._onLoad.bind(this);\n        xhr.onerror = this._onXhrError.bind(this);\n\n        if (dataSource.withCredentials && xhr['withCredentials']) {\n            xhr.withCredentials = true;\n        }\n\n        if (typeof seekConfig.headers === 'object') {\n            let headers = seekConfig.headers;\n\n            for (let key in headers) {\n                if (headers.hasOwnProperty(key)) {\n                    xhr.setRequestHeader(key, headers[key]);\n                }\n            }\n        }\n\n        xhr.send();\n    }\n\n    abort() {\n        this._requestAbort = true;\n        this._internalAbort();\n        this._status = LoaderStatus.kComplete;\n    }\n\n    _internalAbort() {\n        if (this._xhr) {\n            this._xhr.onreadystatechange = null;\n            this._xhr.onprogress = null;\n            this._xhr.onload = null;\n            this._xhr.onerror = null;\n            this._xhr.abort();\n            this._xhr = null;\n        }\n    }\n\n    _onReadyStateChange(e) {\n        let xhr = e.target;\n\n        if (xhr.readyState === 2) {  // HEADERS_RECEIVED\n            if (xhr.responseURL != undefined) {  // if the browser support this property\n                let redirectedURL = this._seekHandler.removeURLParameters(xhr.responseURL);\n                if (xhr.responseURL !== this._currentRequestURL && redirectedURL !== this._currentRedirectedURL) {\n                    this._currentRedirectedURL = redirectedURL;\n                    if (this._onURLRedirect) {\n                        this._onURLRedirect(redirectedURL);\n                    }\n                }\n            }\n\n            if ((xhr.status >= 200 && xhr.status <= 299)) {\n                if (this._waitForTotalLength) {\n                    return;\n                }\n                this._status = LoaderStatus.kBuffering;\n            } else {\n                this._status = LoaderStatus.kError;\n                if (this._onError) {\n                    this._onError(LoaderErrors.HTTP_STATUS_CODE_INVALID, {code: xhr.status, msg: xhr.statusText});\n                } else {\n                    throw new RuntimeException('RangeLoader: Http code invalid, ' + xhr.status + ' ' + xhr.statusText);\n                }\n            }\n        }\n    }\n\n    _onProgress(e) {\n        if (this._contentLength === null) {\n            let openNextRange = false;\n\n            if (this._waitForTotalLength) {\n                this._waitForTotalLength = false;\n                this._totalLengthReceived = true;\n                openNextRange = true;\n\n                let total = e.total;\n                this._internalAbort();\n                if (total != null & total !== 0) {\n                    this._totalLength = total;\n                }\n            }\n\n            // calculate currrent request range's contentLength\n            if (this._range.to === -1) {\n                this._contentLength = this._totalLength - this._range.from;\n            } else {  // to !== -1\n                this._contentLength = this._range.to - this._range.from + 1;\n            }\n\n            if (openNextRange) {\n                this._openSubRange();\n                return;\n            }\n            if (this._onContentLengthKnown) {\n                this._onContentLengthKnown(this._contentLength);\n            }\n        }\n\n        let delta = e.loaded - this._lastTimeLoaded;\n        this._lastTimeLoaded = e.loaded;\n        this._speedSampler.addBytes(delta);\n    }\n\n    _normalizeSpeed(input) {\n        let list = this._chunkSizeKBList;\n        let last = list.length - 1;\n        let mid = 0;\n        let lbound = 0;\n        let ubound = last;\n\n        if (input < list[0]) {\n            return list[0];\n        }\n\n        while (lbound <= ubound) {\n            mid = lbound + Math.floor((ubound - lbound) / 2);\n            if (mid === last || (input >= list[mid] && input < list[mid + 1])) {\n                return list[mid];\n            } else if (list[mid] < input) {\n                lbound = mid + 1;\n            } else {\n                ubound = mid - 1;\n            }\n        }\n    }\n\n    _onLoad(e) {\n        if (this._waitForTotalLength) {\n            this._waitForTotalLength = false;\n            return;\n        }\n\n        this._lastTimeLoaded = 0;\n        let KBps = this._speedSampler.lastSecondKBps;\n        if (KBps === 0) {\n            this._zeroSpeedChunkCount++;\n            if (this._zeroSpeedChunkCount >= 3) {\n                // Try get currentKBps after 3 chunks\n                KBps = this._speedSampler.currentKBps;\n            }\n        }\n\n        if (KBps !== 0) {\n            let normalized = this._normalizeSpeed(KBps);\n            if (this._currentSpeedNormalized !== normalized) {\n                this._currentSpeedNormalized = normalized;\n                this._currentChunkSizeKB = normalized;\n            }\n        }\n\n        let chunk = e.target.response;\n        let byteStart = this._range.from + this._receivedLength;\n        this._receivedLength += chunk.byteLength;\n\n        let reportComplete = false;\n\n        if (this._contentLength != null && this._receivedLength < this._contentLength) {\n            // continue load next chunk\n            this._openSubRange();\n        } else {\n            reportComplete = true;\n        }\n\n        // dispatch received chunk\n        if (this._onDataArrival) {\n            this._onDataArrival(chunk, byteStart, this._receivedLength);\n        }\n\n        if (reportComplete) {\n            this._status = LoaderStatus.kComplete;\n            if (this._onComplete) {\n                this._onComplete(this._range.from, this._range.from + this._receivedLength - 1);\n            }\n        }\n    }\n\n    _onXhrError(e) {\n        this._status = LoaderStatus.kError;\n        let type = 0;\n        let info = null;\n\n        if (this._contentLength && this._receivedLength > 0\n                                && this._receivedLength < this._contentLength) {\n            type = LoaderErrors.EARLY_EOF;\n            info = {code: -1, msg: 'RangeLoader meet Early-Eof'};\n        } else {\n            type = LoaderErrors.EXCEPTION;\n            info = {code: -1, msg: e.constructor.name + ' ' + e.type};\n        }\n\n        if (this._onError) {\n            this._onError(type, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n\n}\n\nexport default RangeLoader;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport Log from '../utils/logger.js';\nimport Browser from '../utils/browser.js';\nimport PlayerEvents from './player-events.js';\nimport Transmuxer from '../core/transmuxer.js';\nimport TransmuxingEvents from '../core/transmuxing-events.js';\nimport MSEController from '../core/mse-controller.js';\nimport MSEEvents from '../core/mse-events.js';\nimport {ErrorTypes, ErrorDetails} from './player-errors.js';\nimport {createDefaultConfig} from '../config.js';\nimport {InvalidArgumentException, IllegalStateException} from '../utils/exception.js';\n\nclass FlvPlayer {\n\n    constructor(mediaDataSource, config) {\n        this.TAG = 'FlvPlayer';\n        this._type = 'FlvPlayer';\n        this._emitter = new EventEmitter();\n\n        this._config = createDefaultConfig();\n        if (typeof config === 'object') {\n            Object.assign(this._config, config);\n        }\n\n        if (mediaDataSource.type.toLowerCase() !== 'flv') {\n            throw new InvalidArgumentException('FlvPlayer requires an flv MediaDataSource input!');\n        }\n\n        if (mediaDataSource.isLive === true) {\n            this._config.isLive = true;\n        }\n\n        this.e = {\n            onvLoadedMetadata: this._onvLoadedMetadata.bind(this),\n            onvSeeking: this._onvSeeking.bind(this),\n            onvCanPlay: this._onvCanPlay.bind(this),\n            onvStalled: this._onvStalled.bind(this),\n            onvProgress: this._onvProgress.bind(this)\n        };\n\n        if (self.performance && self.performance.now) {\n            this._now = self.performance.now.bind(self.performance);\n        } else {\n            this._now = Date.now;\n        }\n\n        this._pendingSeekTime = null;  // in seconds\n        this._requestSetTime = false;\n        this._seekpointRecord = null;\n        this._progressChecker = null;\n\n        this._mediaDataSource = mediaDataSource;\n        this._mediaElement = null;\n        this._msectl = null;\n        this._transmuxer = null;\n\n        this._mseSourceOpened = false;\n        this._hasPendingLoad = false;\n        this._receivedCanPlay = false;\n\n        this._mediaInfo = null;\n        this._statisticsInfo = null;\n\n        let chromeNeedIDRFix = (Browser.chrome &&\n                               (Browser.version.major < 50 ||\n                               (Browser.version.major === 50 && Browser.version.build < 2661)));\n        this._alwaysSeekKeyframe = (chromeNeedIDRFix || Browser.msedge || Browser.msie) ? true : false;\n\n        if (this._alwaysSeekKeyframe) {\n            this._config.accurateSeek = false;\n        }\n    }\n\n    destroy() {\n        if (this._progressChecker != null) {\n            window.clearInterval(this._progressChecker);\n            this._progressChecker = null;\n        }\n        if (this._transmuxer) {\n            this.unload();\n        }\n        if (this._mediaElement) {\n            this.detachMediaElement();\n        }\n        this.e = null;\n        this._mediaDataSource = null;\n\n        this._emitter.removeAllListeners();\n        this._emitter = null;\n    }\n\n    on(event, listener) {\n        if (event === PlayerEvents.MEDIA_INFO) {\n            if (this._mediaInfo != null) {\n                Promise.resolve().then(() => {\n                    this._emitter.emit(PlayerEvents.MEDIA_INFO, this.mediaInfo);\n                });\n            }\n        } else if (event === PlayerEvents.STATISTICS_INFO) {\n            if (this._statisticsInfo != null) {\n                Promise.resolve().then(() => {\n                    this._emitter.emit(PlayerEvents.STATISTICS_INFO, this.statisticsInfo);\n                });\n            }\n        }\n        this._emitter.addListener(event, listener);\n    }\n\n    off(event, listener) {\n        this._emitter.removeListener(event, listener);\n    }\n\n    attachMediaElement(mediaElement) {\n        this._mediaElement = mediaElement;\n        mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);\n        mediaElement.addEventListener('seeking', this.e.onvSeeking);\n        mediaElement.addEventListener('canplay', this.e.onvCanPlay);\n        mediaElement.addEventListener('stalled', this.e.onvStalled);\n        mediaElement.addEventListener('progress', this.e.onvProgress);\n\n        this._msectl = new MSEController(this._config);\n\n        this._msectl.on(MSEEvents.UPDATE_END, this._onmseUpdateEnd.bind(this));\n        this._msectl.on(MSEEvents.BUFFER_FULL, this._onmseBufferFull.bind(this));\n        this._msectl.on(MSEEvents.SOURCE_OPEN, () => {\n            this._mseSourceOpened = true;\n            if (this._hasPendingLoad) {\n                this._hasPendingLoad = false;\n                this.load();\n            }\n        });\n        this._msectl.on(MSEEvents.ERROR, (info) => {\n            this._emitter.emit(PlayerEvents.ERROR,\n                               ErrorTypes.MEDIA_ERROR,\n                               ErrorDetails.MEDIA_MSE_ERROR,\n                               info\n            );\n        });\n\n        this._msectl.attachMediaElement(mediaElement);\n\n        if (this._pendingSeekTime != null) {\n            try {\n                mediaElement.currentTime = this._pendingSeekTime;\n                this._pendingSeekTime = null;\n            } catch (e) {\n                // IE11 may throw InvalidStateError if readyState === 0\n                // We can defer set currentTime operation after loadedmetadata\n            }\n        }\n    }\n\n    detachMediaElement() {\n        if (this._mediaElement) {\n            this._msectl.detachMediaElement();\n            this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);\n            this._mediaElement.removeEventListener('seeking', this.e.onvSeeking);\n            this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);\n            this._mediaElement.removeEventListener('stalled', this.e.onvStalled);\n            this._mediaElement.removeEventListener('progress', this.e.onvProgress);\n            this._mediaElement = null;\n        }\n        if (this._msectl) {\n            this._msectl.destroy();\n            this._msectl = null;\n        }\n    }\n\n    load() {\n        if (!this._mediaElement) {\n            throw new IllegalStateException('HTMLMediaElement must be attached before load()!');\n        }\n        if (this._transmuxer) {\n            throw new IllegalStateException('FlvPlayer.load() has been called, please call unload() first!');\n        }\n        if (this._hasPendingLoad) {\n            return;\n        }\n\n        if (this._config.deferLoadAfterSourceOpen && this._mseSourceOpened === false) {\n            this._hasPendingLoad = true;\n            return;\n        }\n\n        if (this._mediaElement.readyState > 0) {\n            this._requestSetTime = true;\n            // IE11 may throw InvalidStateError if readyState === 0\n            this._mediaElement.currentTime = 0;\n        }\n\n        this._transmuxer = new Transmuxer(this._mediaDataSource, this._config);\n\n        this._transmuxer.on(TransmuxingEvents.INIT_SEGMENT, (type, is) => {\n            this._msectl.appendInitSegment(is);\n        });\n        this._transmuxer.on(TransmuxingEvents.MEDIA_SEGMENT, (type, ms) => {\n            this._msectl.appendMediaSegment(ms);\n\n            // lazyLoad check\n            if (this._config.lazyLoad && !this._config.isLive) {\n                let currentTime = this._mediaElement.currentTime;\n                if (ms.info.endDts >= (currentTime + this._config.lazyLoadMaxDuration) * 1000) {\n                    if (this._progressChecker == null) {\n                        Log.v(this.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');\n                        this._suspendTransmuxer();\n                    }\n                }\n            }\n        });\n        this._transmuxer.on(TransmuxingEvents.LOADING_COMPLETE, () => {\n            this._msectl.endOfStream();\n            this._emitter.emit(PlayerEvents.LOADING_COMPLETE);\n        });\n        this._transmuxer.on(TransmuxingEvents.RECOVERED_EARLY_EOF, () => {\n            this._emitter.emit(PlayerEvents.RECOVERED_EARLY_EOF);\n        });\n        this._transmuxer.on(TransmuxingEvents.IO_ERROR, (detail, info) => {\n            this._emitter.emit(PlayerEvents.ERROR, ErrorTypes.NETWORK_ERROR, detail, info);\n        });\n        this._transmuxer.on(TransmuxingEvents.DEMUX_ERROR, (detail, info) => {\n            this._emitter.emit(PlayerEvents.ERROR, ErrorTypes.MEDIA_ERROR, detail, {code: -1, msg: info});\n        });\n        this._transmuxer.on(TransmuxingEvents.MEDIA_INFO, (mediaInfo) => {\n            this._mediaInfo = mediaInfo;\n            this._emitter.emit(PlayerEvents.MEDIA_INFO, Object.assign({}, mediaInfo));\n        });\n        this._transmuxer.on(TransmuxingEvents.STATISTICS_INFO, (statInfo) => {\n            this._statisticsInfo = this._fillStatisticsInfo(statInfo);\n            this._emitter.emit(PlayerEvents.STATISTICS_INFO, Object.assign({}, this._statisticsInfo));\n        });\n        this._transmuxer.on(TransmuxingEvents.RECOMMEND_SEEKPOINT, (milliseconds) => {\n            if (this._mediaElement && !this._config.accurateSeek) {\n                this._requestSetTime = true;\n                this._mediaElement.currentTime = milliseconds / 1000;\n            }\n        });\n\n        this._transmuxer.open();\n    }\n\n    unload() {\n        if (this._mediaElement) {\n            this._mediaElement.pause();\n        }\n        if (this._msectl) {\n            this._msectl.seek(0);\n        }\n        if (this._transmuxer) {\n            this._transmuxer.close();\n            this._transmuxer.destroy();\n            this._transmuxer = null;\n        }\n    }\n\n    play() {\n        return this._mediaElement.play();\n    }\n\n    pause() {\n        this._mediaElement.pause();\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    get buffered() {\n        return this._mediaElement.buffered;\n    }\n\n    get duration() {\n        return this._mediaElement.duration;\n    }\n\n    get volume() {\n        return this._mediaElement.volume;\n    }\n\n    set volume(value) {\n        this._mediaElement.volume = value;\n    }\n\n    get muted() {\n        return this._mediaElement.muted;\n    }\n\n    set muted(muted) {\n        this._mediaElement.muted = muted;\n    }\n\n    get currentTime() {\n        if (this._mediaElement) {\n            return this._mediaElement.currentTime;\n        }\n        return 0;\n    }\n\n    set currentTime(seconds) {\n        if (this._mediaElement) {\n            this._internalSeek(seconds);\n        } else {\n            this._pendingSeekTime = seconds;\n        }\n    }\n\n    get mediaInfo() {\n        return Object.assign({}, this._mediaInfo);\n    }\n\n    get statisticsInfo() {\n        if (this._statisticsInfo == null) {\n            this._statisticsInfo = {};\n        }\n        this._statisticsInfo = this._fillStatisticsInfo(this._statisticsInfo);\n        return Object.assign({}, this._statisticsInfo);\n    }\n\n    _fillStatisticsInfo(statInfo) {\n        statInfo.playerType = this._type;\n\n        if (!(this._mediaElement instanceof HTMLVideoElement)) {\n            return statInfo;\n        }\n\n        let hasQualityInfo = true;\n        let decoded = 0;\n        let dropped = 0;\n\n        if (this._mediaElement.getVideoPlaybackQuality) {\n            let quality = this._mediaElement.getVideoPlaybackQuality();\n            decoded = quality.totalVideoFrames;\n            dropped = quality.droppedVideoFrames;\n        } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {\n            decoded = this._mediaElement.webkitDecodedFrameCount;\n            dropped = this._mediaElement.webkitDroppedFrameCount;\n        } else {\n            hasQualityInfo = false;\n        }\n\n        if (hasQualityInfo) {\n            statInfo.decodedFrames = decoded;\n            statInfo.droppedFrames = dropped;\n        }\n\n        return statInfo;\n    }\n\n    _onmseUpdateEnd() {\n        if (!this._config.lazyLoad || this._config.isLive) {\n            return;\n        }\n\n        let buffered = this._mediaElement.buffered;\n        let currentTime = this._mediaElement.currentTime;\n        let currentRangeStart = 0;\n        let currentRangeEnd = 0;\n\n        for (let i = 0; i < buffered.length; i++) {\n            let start = buffered.start(i);\n            let end = buffered.end(i);\n            if (start <= currentTime && currentTime < end) {\n                currentRangeStart = start;\n                currentRangeEnd = end;\n                break;\n            }\n        }\n\n        if (currentRangeEnd >= currentTime + this._config.lazyLoadMaxDuration && this._progressChecker == null) {\n            Log.v(this.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task');\n            this._suspendTransmuxer();\n        }\n    }\n\n    _onmseBufferFull() {\n        Log.v(this.TAG, 'MSE SourceBuffer is full, suspend transmuxing task');\n        if (this._progressChecker == null) {\n            this._suspendTransmuxer();\n        }\n    }\n\n    _suspendTransmuxer() {\n        if (this._transmuxer) {\n            this._transmuxer.pause();\n\n            if (this._progressChecker == null) {\n                this._progressChecker = window.setInterval(this._checkProgressAndResume.bind(this), 1000);\n            }\n        }\n    }\n\n    _checkProgressAndResume() {\n        let currentTime = this._mediaElement.currentTime;\n        let buffered = this._mediaElement.buffered;\n\n        let needResume = false;\n\n        for (let i = 0; i < buffered.length; i++) {\n            let from = buffered.start(i);\n            let to = buffered.end(i);\n            if (currentTime >= from && currentTime < to) {\n                if (currentTime >= to - this._config.lazyLoadRecoverDuration) {\n                    needResume = true;\n                }\n                break;\n            }\n        }\n\n        if (needResume) {\n            window.clearInterval(this._progressChecker);\n            this._progressChecker = null;\n            if (needResume) {\n                Log.v(this.TAG, 'Continue loading from paused position');\n                this._transmuxer.resume();\n            }\n        }\n    }\n\n    _isTimepointBuffered(seconds) {\n        let buffered = this._mediaElement.buffered;\n\n        for (let i = 0; i < buffered.length; i++) {\n            let from = buffered.start(i);\n            let to = buffered.end(i);\n            if (seconds >= from && seconds < to) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    _internalSeek(seconds) {\n        let directSeek = this._isTimepointBuffered(seconds);\n\n        let directSeekBegin = false;\n        let directSeekBeginTime = 0;\n\n        if (seconds < 1.0 && this._mediaElement.buffered.length > 0) {\n            let videoBeginTime = this._mediaElement.buffered.start(0);\n            if ((videoBeginTime < 1.0 && seconds < videoBeginTime) || Browser.safari) {\n                directSeekBegin = true;\n                // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid\n                directSeekBeginTime = Browser.safari ? 0.1 : videoBeginTime;\n            }\n        }\n\n        if (directSeekBegin) {  // seek to video begin, set currentTime directly if beginPTS buffered\n            this._requestSetTime = true;\n            this._mediaElement.currentTime = directSeekBeginTime;\n        }  else if (directSeek) {  // buffered position\n            if (!this._alwaysSeekKeyframe) {\n                this._requestSetTime = true;\n                this._mediaElement.currentTime = seconds;\n            } else {\n                let idr = this._msectl.getNearestKeyframe(Math.floor(seconds * 1000));\n                this._requestSetTime = true;\n                if (idr != null) {\n                    this._mediaElement.currentTime = idr.dts / 1000;\n                } else {\n                    this._mediaElement.currentTime = seconds;\n                }\n            }\n            if (this._progressChecker != null) {\n                this._checkProgressAndResume();\n            }\n        } else {\n            if (this._progressChecker != null) {\n                window.clearInterval(this._progressChecker);\n                this._progressChecker = null;\n            }\n            this._msectl.seek(seconds);\n            this._transmuxer.seek(Math.floor(seconds * 1000));  // in milliseconds\n            // no need to set mediaElement.currentTime if non-accurateSeek,\n            // just wait for the recommend_seekpoint callback\n            if (this._config.accurateSeek) {\n                this._requestSetTime = true;\n                this._mediaElement.currentTime = seconds;\n            }\n        }\n    }\n\n    _checkAndApplyUnbufferedSeekpoint() {\n        if (this._seekpointRecord) {\n            if (this._seekpointRecord.recordTime <= this._now() - 100) {\n                let target = this._mediaElement.currentTime;\n                this._seekpointRecord = null;\n                if (!this._isTimepointBuffered(target)) {\n                    if (this._progressChecker != null) {\n                        window.clearTimeout(this._progressChecker);\n                        this._progressChecker = null;\n                    }\n                    // .currentTime is consists with .buffered timestamp\n                    // Chrome/Edge use DTS, while FireFox/Safari use PTS\n                    this._msectl.seek(target);\n                    this._transmuxer.seek(Math.floor(target * 1000));\n                    // set currentTime if accurateSeek, or wait for recommend_seekpoint callback\n                    if (this._config.accurateSeek) {\n                        this._requestSetTime = true;\n                        this._mediaElement.currentTime = target;\n                    }\n                }\n            } else {\n                window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);\n            }\n        }\n    }\n\n    _checkAndResumeStuckPlayback(stalled) {\n        let media = this._mediaElement;\n        if (stalled || !this._receivedCanPlay || media.readyState < 2) {  // HAVE_CURRENT_DATA\n            let buffered = media.buffered;\n            if (buffered.length > 0 && media.currentTime < buffered.start(0)) {\n                Log.w(this.TAG, `Playback seems stuck at ${media.currentTime}, seek to ${buffered.start(0)}`);\n                this._requestSetTime = true;\n                this._mediaElement.currentTime = buffered.start(0);\n                this._mediaElement.removeEventListener('progress', this.e.onvProgress);\n            }\n        } else {\n            // Playback didn't stuck, remove progress event listener\n            this._mediaElement.removeEventListener('progress', this.e.onvProgress);\n        }\n    }\n\n    _onvLoadedMetadata(e) {\n        if (this._pendingSeekTime != null) {\n            this._mediaElement.currentTime = this._pendingSeekTime;\n            this._pendingSeekTime = null;\n        }\n    }\n\n    _onvSeeking(e) {  // handle seeking request from browser's progress bar\n        let target = this._mediaElement.currentTime;\n        let buffered = this._mediaElement.buffered;\n\n        if (this._requestSetTime) {\n            this._requestSetTime = false;\n            return;\n        }\n\n        if (target < 1.0 && buffered.length > 0) {\n            // seek to video begin, set currentTime directly if beginPTS buffered\n            let videoBeginTime = buffered.start(0);\n            if ((videoBeginTime < 1.0 && target < videoBeginTime) || Browser.safari) {\n                this._requestSetTime = true;\n                // also workaround for Safari: Seek to 0 may cause video stuck, use 0.1 to avoid\n                this._mediaElement.currentTime = Browser.safari ? 0.1 : videoBeginTime;\n                return;\n            }\n        }\n\n        if (this._isTimepointBuffered(target)) {\n            if (this._alwaysSeekKeyframe) {\n                let idr = this._msectl.getNearestKeyframe(Math.floor(target * 1000));\n                if (idr != null) {\n                    this._requestSetTime = true;\n                    this._mediaElement.currentTime = idr.dts / 1000;\n                }\n            }\n            if (this._progressChecker != null) {\n                this._checkProgressAndResume();\n            }\n            return;\n        }\n\n        this._seekpointRecord = {\n            seekPoint: target,\n            recordTime: this._now()\n        };\n        window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);\n    }\n\n    _onvCanPlay(e) {\n        this._receivedCanPlay = true;\n        this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);\n    }\n\n    _onvStalled(e) {\n        this._checkAndResumeStuckPlayback(true);\n    }\n\n    _onvProgress(e) {\n        this._checkAndResumeStuckPlayback();\n    }\n\n}\n\nexport default FlvPlayer;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport PlayerEvents from './player-events.js';\nimport {createDefaultConfig} from '../config.js';\nimport {InvalidArgumentException, IllegalStateException} from '../utils/exception.js';\n\n// Player wrapper for browser's native player (HTMLVideoElement) without MediaSource src. \nclass NativePlayer {\n\n    constructor(mediaDataSource, config) {\n        this.TAG = 'NativePlayer';\n        this._type = 'NativePlayer';\n        this._emitter = new EventEmitter();\n\n        this._config = createDefaultConfig();\n        if (typeof config === 'object') {\n            Object.assign(this._config, config);\n        }\n\n        if (mediaDataSource.type.toLowerCase() === 'flv') {\n            throw new InvalidArgumentException('NativePlayer does\\'t support flv MediaDataSource input!');\n        }\n        if (mediaDataSource.hasOwnProperty('segments')) {\n            throw new InvalidArgumentException(`NativePlayer(${mediaDataSource.type}) doesn't support multipart playback!`);\n        }\n\n        this.e = {\n            onvLoadedMetadata: this._onvLoadedMetadata.bind(this)\n        };\n\n        this._pendingSeekTime = null;\n        this._statisticsReporter = null;\n\n        this._mediaDataSource = mediaDataSource;\n        this._mediaElement = null;\n    }\n\n    destroy() {\n        if (this._mediaElement) {\n            this.unload();\n            this.detachMediaElement();\n        }\n        this.e = null;\n        this._mediaDataSource = null;\n        this._emitter.removeAllListeners();\n        this._emitter = null;\n    }\n\n    on(event, listener) {\n        if (event === PlayerEvents.MEDIA_INFO) {\n            if (this._mediaElement != null && this._mediaElement.readyState !== 0) {  // HAVE_NOTHING\n                Promise.resolve().then(() => {\n                    this._emitter.emit(PlayerEvents.MEDIA_INFO, this.mediaInfo);\n                });\n            }\n        } else if (event === PlayerEvents.STATISTICS_INFO) {\n            if (this._mediaElement != null && this._mediaElement.readyState !== 0) {\n                Promise.resolve().then(() => {\n                    this._emitter.emit(PlayerEvents.STATISTICS_INFO, this.statisticsInfo);\n                });\n            }\n        }\n        this._emitter.addListener(event, listener);\n    }\n\n    off(event, listener) {\n        this._emitter.removeListener(event, listener);\n    }\n\n    attachMediaElement(mediaElement) {\n        this._mediaElement = mediaElement;\n        mediaElement.addEventListener('loadedmetadata', this.e.onvLoadedMetadata);\n\n        if (this._pendingSeekTime != null) {\n            try {\n                mediaElement.currentTime = this._pendingSeekTime;\n                this._pendingSeekTime = null;\n            } catch (e) {\n                // IE11 may throw InvalidStateError if readyState === 0\n                // Defer set currentTime operation after loadedmetadata\n            }\n        }\n    }\n\n    detachMediaElement() {\n        if (this._mediaElement) {\n            this._mediaElement.src = '';\n            this._mediaElement.removeAttribute('src');\n            this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata);\n            this._mediaElement = null;\n        }\n        if (this._statisticsReporter != null) {\n            window.clearInterval(this._statisticsReporter);\n            this._statisticsReporter = null;\n        }\n    }\n\n    load() {\n        if (!this._mediaElement) {\n            throw new IllegalStateException('HTMLMediaElement must be attached before load()!');\n        }\n        this._mediaElement.src = this._mediaDataSource.url;\n\n        if (this._mediaElement.readyState > 0) {\n            this._mediaElement.currentTime = 0;\n        }\n\n        this._mediaElement.preload = 'auto';\n        this._mediaElement.load();\n        this._statisticsReporter = window.setInterval(\n            this._reportStatisticsInfo.bind(this),\n        this._config.statisticsInfoReportInterval);\n    }\n\n    unload() {\n        if (this._mediaElement) {\n            this._mediaElement.src = '';\n            this._mediaElement.removeAttribute('src');\n        }\n        if (this._statisticsReporter != null) {\n            window.clearInterval(this._statisticsReporter);\n            this._statisticsReporter = null;\n        }\n    }\n\n    play() {\n        return this._mediaElement.play();\n    }\n\n    pause() {\n        this._mediaElement.pause();\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    get buffered() {\n        return this._mediaElement.buffered;\n    }\n\n    get duration() {\n        return this._mediaElement.duration;\n    }\n\n    get volume() {\n        return this._mediaElement.volume;\n    }\n\n    set volume(value) {\n        this._mediaElement.volume = value;\n    }\n\n    get muted() {\n        return this._mediaElement.muted;\n    }\n\n    set muted(muted) {\n        this._mediaElement.muted = muted;\n    }\n\n    get currentTime() {\n        if (this._mediaElement) {\n            return this._mediaElement.currentTime;\n        }\n        return 0;\n    }\n\n    set currentTime(seconds) {\n        if (this._mediaElement) {\n            this._mediaElement.currentTime = seconds;\n        } else {\n            this._pendingSeekTime = seconds;\n        }\n    }\n\n    get mediaInfo() {\n        let mediaPrefix = (this._mediaElement instanceof HTMLAudioElement) ? 'audio/' : 'video/';\n        let info = {\n            mimeType: mediaPrefix + this._mediaDataSource.type\n        };\n        if (this._mediaElement) {\n            info.duration = Math.floor(this._mediaElement.duration * 1000);\n            if (this._mediaElement instanceof HTMLVideoElement) {\n                info.width = this._mediaElement.videoWidth;\n                info.height = this._mediaElement.videoHeight;\n            }\n        }\n        return info;\n    }\n\n    get statisticsInfo() {\n        let info = {\n            playerType: this._type,\n            url: this._mediaDataSource.url\n        };\n\n        if (!(this._mediaElement instanceof HTMLVideoElement)) {\n            return info;\n        }\n\n        let hasQualityInfo = true;\n        let decoded = 0;\n        let dropped = 0;\n\n        if (this._mediaElement.getVideoPlaybackQuality) {\n            let quality = this._mediaElement.getVideoPlaybackQuality();\n            decoded = quality.totalVideoFrames;\n            dropped = quality.droppedVideoFrames;\n        } else if (this._mediaElement.webkitDecodedFrameCount != undefined) {\n            decoded = this._mediaElement.webkitDecodedFrameCount;\n            dropped = this._mediaElement.webkitDroppedFrameCount;\n        } else {\n            hasQualityInfo = false;\n        }\n\n        if (hasQualityInfo) {\n            info.decodedFrames = decoded;\n            info.droppedFrames = dropped;\n        }\n        \n        return info;\n    }\n\n    _onvLoadedMetadata(e) {\n        if (this._pendingSeekTime != null) {\n            this._mediaElement.currentTime = this._pendingSeekTime;\n            this._pendingSeekTime = null;\n        }\n        this._emitter.emit(PlayerEvents.MEDIA_INFO, this.mediaInfo);\n    }\n\n    _reportStatisticsInfo() {\n        this._emitter.emit(PlayerEvents.STATISTICS_INFO, this.statisticsInfo);\n    }\n\n}\n\nexport default NativePlayer;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {LoaderErrors} from '../io/loader.js';\nimport DemuxErrors from '../demux/demux-errors.js';\n\nexport const ErrorTypes = {\n    NETWORK_ERROR: 'NetworkError',\n    MEDIA_ERROR: 'MediaError',\n    OTHER_ERROR: 'OtherError'\n};\n\nexport const ErrorDetails = {\n    NETWORK_EXCEPTION: LoaderErrors.EXCEPTION,\n    NETWORK_STATUS_CODE_INVALID: LoaderErrors.HTTP_STATUS_CODE_INVALID,\n    NETWORK_TIMEOUT: LoaderErrors.CONNECTING_TIMEOUT,\n    NETWORK_UNRECOVERABLE_EARLY_EOF: LoaderErrors.UNRECOVERABLE_EARLY_EOF,\n\n    MEDIA_MSE_ERROR: 'MediaMSEError',\n\n    MEDIA_FORMAT_ERROR: DemuxErrors.FORMAT_ERROR,\n    MEDIA_FORMAT_UNSUPPORTED: DemuxErrors.FORMAT_UNSUPPORTED,\n    MEDIA_CODEC_UNSUPPORTED: DemuxErrors.CODEC_UNSUPPORTED\n};","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst PlayerEvents = {\n    ERROR: 'error',\n    LOADING_COMPLETE: 'loading_complete',\n    RECOVERED_EARLY_EOF: 'recovered_early_eof',\n    MEDIA_INFO: 'media_info',\n    STATISTICS_INFO: 'statistics_info'\n};\n\nexport default PlayerEvents;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * This file is modified from dailymotion's hls.js library (hls.js/src/helper/aac.js)\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass AAC {\n\n    static getSilentFrame(codec, channelCount) {\n        if (codec === 'mp4a.40.2') {\n            // handle LC-AAC\n            if (channelCount === 1) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);\n            } else if (channelCount === 2) {\n                return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);\n            } else if (channelCount === 3) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);\n            } else if (channelCount === 4) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);\n            } else if (channelCount === 5) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);\n            } else if (channelCount === 6) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);\n            }\n        } else {\n            // handle HE-AAC (mp4a.40.5 / mp4a.40.29)\n            if (channelCount === 1) {\n                // ffmpeg -y -f lavfi -i \"aevalsrc=0:d=0.05\" -c:a libfdk_aac -profile:a aac_he -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x4e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x1c, 0x6, 0xf1, 0xc1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n            } else if (channelCount === 2) {\n                // ffmpeg -y -f lavfi -i \"aevalsrc=0|0:d=0.05\" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n            } else if (channelCount === 3) {\n                // ffmpeg -y -f lavfi -i \"aevalsrc=0|0|0:d=0.05\" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n            }\n        }\n        return null;\n    }\n\n}\n\nexport default AAC;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * This file is derived from dailymotion's hls.js library (hls.js/src/remux/mp4-generator.js)\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n//  MP4 boxes generator for ISO BMFF (ISO Base Media File Format, defined in ISO/IEC 14496-12)\nclass MP4 {\n\n    static init() {\n        MP4.types = {\n            avc1: [], avcC: [], btrt: [], dinf: [],\n            dref: [], esds: [], ftyp: [], hdlr: [],\n            mdat: [], mdhd: [], mdia: [], mfhd: [],\n            minf: [], moof: [], moov: [], mp4a: [],\n            mvex: [], mvhd: [], sdtp: [], stbl: [],\n            stco: [], stsc: [], stsd: [], stsz: [],\n            stts: [], tfdt: [], tfhd: [], traf: [],\n            trak: [], trun: [], trex: [], tkhd: [],\n            vmhd: [], smhd: [], '.mp3': []\n        };\n\n        for (let name in MP4.types) {\n            if (MP4.types.hasOwnProperty(name)) {\n                MP4.types[name] = [\n                    name.charCodeAt(0),\n                    name.charCodeAt(1),\n                    name.charCodeAt(2),\n                    name.charCodeAt(3)\n                ];\n            }\n        }\n\n        let constants = MP4.constants = {};\n\n        constants.FTYP = new Uint8Array([\n            0x69, 0x73, 0x6F, 0x6D,  // major_brand: isom\n            0x0,  0x0,  0x0,  0x1,   // minor_version: 0x01\n            0x69, 0x73, 0x6F, 0x6D,  // isom\n            0x61, 0x76, 0x63, 0x31   // avc1\n        ]);\n\n        constants.STSD_PREFIX = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01   // entry_count\n        ]);\n\n        constants.STTS = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // entry_count\n        ]);\n\n        constants.STSC = constants.STCO = constants.STTS;\n\n        constants.STSZ = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // sample_size\n            0x00, 0x00, 0x00, 0x00   // sample_count\n        ]);\n\n        constants.HDLR_VIDEO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x76, 0x69, 0x64, 0x65,  // handler_type: 'vide'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x56, 0x69, 0x64, 0x65,\n            0x6F, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: VideoHandler\n        ]);\n\n        constants.HDLR_AUDIO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x73, 0x6F, 0x75, 0x6E,  // handler_type: 'soun'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x53, 0x6F, 0x75, 0x6E,\n            0x64, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: SoundHandler\n        ]);\n\n        constants.DREF = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01,  // entry_count\n            0x00, 0x00, 0x00, 0x0C,  // entry_size\n            0x75, 0x72, 0x6C, 0x20,  // type 'url '\n            0x00, 0x00, 0x00, 0x01   // version(0) + flags\n        ]);\n\n        // Sound media header\n        constants.SMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // balance(2) + reserved(2)\n        ]);\n\n        // video media header\n        constants.VMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x01,  // version(0) + flags\n            0x00, 0x00,              // graphicsmode: 2 bytes\n            0x00, 0x00, 0x00, 0x00,  // opcolor: 3 * 2 bytes\n            0x00, 0x00\n        ]);\n    }\n\n    // Generate a box\n    static box(type) {\n        let size = 8;\n        let result = null;\n        let datas = Array.prototype.slice.call(arguments, 1);\n        let arrayCount = datas.length;\n\n        for (let i = 0; i < arrayCount; i++) {\n            size += datas[i].byteLength;\n        }\n\n        result = new Uint8Array(size);\n        result[0] = (size >>> 24) & 0xFF;  // size\n        result[1] = (size >>> 16) & 0xFF;\n        result[2] = (size >>>  8) & 0xFF;\n        result[3] = (size) & 0xFF;\n\n        result.set(type, 4);  // type\n\n        let offset = 8;\n        for (let i = 0; i < arrayCount; i++) {  // data body\n            result.set(datas[i], offset);\n            offset += datas[i].byteLength;\n        }\n\n        return result;\n    }\n\n    // emit ftyp & moov\n    static generateInitSegment(meta) {\n        let ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);\n        let moov = MP4.moov(meta);\n\n        let result = new Uint8Array(ftyp.byteLength + moov.byteLength);\n        result.set(ftyp, 0);\n        result.set(moov, ftyp.byteLength);\n        return result;\n    }\n\n    // Movie metadata box\n    static moov(meta) {\n        let mvhd = MP4.mvhd(meta.timescale, meta.duration);\n        let trak = MP4.trak(meta);\n        let mvex = MP4.mvex(meta);\n        return MP4.box(MP4.types.moov, mvhd, trak, mvex);\n    }\n\n    // Movie header box\n    static mvhd(timescale, duration) {\n        return MP4.box(MP4.types.mvhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>>  8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>>  8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x01, 0x00, 0x00,  // Preferred rate: 1.0\n            0x01, 0x00, 0x00, 0x00,  // PreferredVolume(1.0, 2bytes) + reserved(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 + 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            0x00, 0x00, 0x00, 0x00,  // ----begin pre_defined 6 * 4 bytes----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // ----end pre_defined 6 * 4 bytes----\n            0xFF, 0xFF, 0xFF, 0xFF   // next_track_ID\n        ]));\n    }\n\n    // Track box\n    static trak(meta) {\n        return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));\n    }\n\n    // Track header box\n    static tkhd(meta) {\n        let trackId = meta.id, duration = meta.duration;\n        let width = meta.presentWidth, height = meta.presentHeight;\n\n        return MP4.box(MP4.types.tkhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x07,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (trackId >>> 24) & 0xFF,  // track_ID: 4 bytes\n            (trackId >>> 16) & 0xFF,\n            (trackId >>>  8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 bytes\n            (duration >>> 24) & 0xFF, // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>>  8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // layer(2bytes) + alternate_group(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // volume(2bytes) + reserved(2bytes)\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            (width >>> 8) & 0xFF,    // width and height\n            (width) & 0xFF,\n            0x00, 0x00,\n            (height >>> 8) & 0xFF,\n            (height) & 0xFF,\n            0x00, 0x00\n        ]));\n    }\n\n    // Media Box\n    static mdia(meta) {\n        return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta));\n    }\n\n    // Media header box\n    static mdhd(meta) {\n        let timescale = meta.timescale;\n        let duration = meta.duration;\n        return MP4.box(MP4.types.mdhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>>  8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>>  8) & 0xFF,\n            (duration) & 0xFF,\n            0x55, 0xC4,             // language: und (undetermined)\n            0x00, 0x00              // pre_defined = 0\n        ]));\n    }\n\n    // Media handler reference box\n    static hdlr(meta) {\n        let data = null;\n        if (meta.type === 'audio') {\n            data = MP4.constants.HDLR_AUDIO;\n        } else {\n            data = MP4.constants.HDLR_VIDEO;\n        }\n        return MP4.box(MP4.types.hdlr, data);\n    }\n\n    // Media infomation box\n    static minf(meta) {\n        let xmhd = null;\n        if (meta.type === 'audio') {\n            xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);\n        } else {\n            xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);\n        }\n        return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));\n    }\n\n    // Data infomation box\n    static dinf() {\n        let result = MP4.box(MP4.types.dinf,\n            MP4.box(MP4.types.dref, MP4.constants.DREF)\n        );\n        return result;\n    }\n\n    // Sample table box\n    static stbl(meta) {\n        let result = MP4.box(MP4.types.stbl,  // type: stbl\n            MP4.stsd(meta),  // Sample Description Table\n            MP4.box(MP4.types.stts, MP4.constants.STTS),  // Time-To-Sample\n            MP4.box(MP4.types.stsc, MP4.constants.STSC),  // Sample-To-Chunk\n            MP4.box(MP4.types.stsz, MP4.constants.STSZ),  // Sample size\n            MP4.box(MP4.types.stco, MP4.constants.STCO)   // Chunk offset\n        ); \n        return result; \n    }\n\n    // Sample description box\n    static stsd(meta) {\n        if (meta.type === 'audio') {\n            if (meta.codec === 'mp3') {\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp3(meta));\n            }\n            // else: aac -> mp4a\n            return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));\n        } else {\n            return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));\n        }\n    }\n\n    static mp3(meta) {\n        let channelCount = meta.channelCount;\n        let sampleRate = meta.audioSampleRate;\n\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            0x00, 0x00, 0x00, 0x01,  // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, channelCount,      // channelCount(2)\n            0x00, 0x10,              // sampleSize(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            (sampleRate >>> 8) & 0xFF,  // Audio sample rate\n            (sampleRate) & 0xFF,\n            0x00, 0x00\n        ]);\n\n        return MP4.box(MP4.types['.mp3'], data);\n    }\n\n    static mp4a(meta) {\n        let channelCount = meta.channelCount;\n        let sampleRate = meta.audioSampleRate;\n\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            0x00, 0x00, 0x00, 0x01,  // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, channelCount,      // channelCount(2)\n            0x00, 0x10,              // sampleSize(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            (sampleRate >>> 8) & 0xFF,  // Audio sample rate\n            (sampleRate) & 0xFF,\n            0x00, 0x00\n        ]);\n\n        return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));\n    }\n\n    static esds(meta) {\n        let config = meta.config || [];\n        let configSize = config.length;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version 0 + flags\n\n            0x03,                    // descriptor_type\n            0x17 + configSize,       // length3\n            0x00, 0x01,              // es_id\n            0x00,                    // stream_priority\n\n            0x04,                    // descriptor_type\n            0x0F + configSize,       // length\n            0x40,                    // codec: mpeg4_audio\n            0x15,                    // stream_type: Audio\n            0x00, 0x00, 0x00,        // buffer_size\n            0x00, 0x00, 0x00, 0x00,  // maxBitrate\n            0x00, 0x00, 0x00, 0x00,  // avgBitrate\n\n            0x05                     // descriptor_type\n        ].concat([\n            configSize\n        ]).concat(\n            config\n        ).concat([\n            0x06, 0x01, 0x02         // GASpecificConfig\n        ]));\n        return MP4.box(MP4.types.esds, data);\n    }\n\n    static avc1(meta) {\n        let avcc = meta.avcc;\n        let width = meta.codecWidth, height = meta.codecHeight;\n\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            0x00, 0x00, 0x00, 0x01,  // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00,  // pre_defined(2) + reserved(2)\n            0x00, 0x00, 0x00, 0x00,  // pre_defined: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            (width >>> 8) & 0xFF,    // width: 2 bytes\n            (width) & 0xFF,\n            (height >>> 8) & 0xFF,   // height: 2 bytes\n            (height) & 0xFF,\n            0x00, 0x48, 0x00, 0x00,  // horizresolution: 4 bytes\n            0x00, 0x48, 0x00, 0x00,  // vertresolution: 4 bytes\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 bytes\n            0x00, 0x01,              // frame_count\n            0x0A,                    // strlen\n            0x78, 0x71, 0x71, 0x2F,  // compressorname: 32 bytes\n            0x66, 0x6C, 0x76, 0x2E,\n            0x6A, 0x73, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00,\n            0x00, 0x18,              // depth\n            0xFF, 0xFF               // pre_defined = -1\n        ]);\n        return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc));\n    }\n\n    // Movie Extends box\n    static mvex(meta) {\n        return MP4.box(MP4.types.mvex, MP4.trex(meta));\n    }\n\n    // Track Extends box\n    static trex(meta) {\n        let trackId = meta.id;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>>  8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x01,  // default_sample_description_index\n            0x00, 0x00, 0x00, 0x00,  // default_sample_duration\n            0x00, 0x00, 0x00, 0x00,  // default_sample_size\n            0x00, 0x01, 0x00, 0x01   // default_sample_flags\n        ]);\n        return MP4.box(MP4.types.trex, data);\n    }\n\n    // Movie fragment box\n    static moof(track, baseMediaDecodeTime) {\n        return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime));\n    }\n\n    static mfhd(sequenceNumber) {\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,\n            (sequenceNumber >>> 24) & 0xFF,  // sequence_number: int32\n            (sequenceNumber >>> 16) & 0xFF,\n            (sequenceNumber >>>  8) & 0xFF,\n            (sequenceNumber) & 0xFF\n        ]);\n        return MP4.box(MP4.types.mfhd, data);\n    }\n\n    // Track fragment box\n    static traf(track, baseMediaDecodeTime) {\n        let trackId = track.id;\n\n        // Track fragment header box\n        let tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>>  8) & 0xFF,\n            (trackId) & 0xFF\n        ]));\n        // Track Fragment Decode Time\n        let tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (baseMediaDecodeTime >>> 24) & 0xFF,  // baseMediaDecodeTime: int32\n            (baseMediaDecodeTime >>> 16) & 0xFF,\n            (baseMediaDecodeTime >>>  8) & 0xFF,\n            (baseMediaDecodeTime) & 0xFF\n        ]));\n        let sdtp = MP4.sdtp(track);\n        let trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);\n\n        return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);\n    }\n\n    // Sample Dependency Type box\n    static sdtp(track) {\n        let samples = track.samples || [];\n        let sampleCount = samples.length;\n        let data = new Uint8Array(4 + sampleCount);\n        // 0~4 bytes: version(0) & flags\n        for (let i = 0; i < sampleCount; i++) {\n            let flags = samples[i].flags;\n            data[i + 4] = (flags.isLeading << 6)    // is_leading: 2 (bit)\n                        | (flags.dependsOn << 4)    // sample_depends_on\n                        | (flags.isDependedOn << 2) // sample_is_depended_on\n                        | (flags.hasRedundancy);    // sample_has_redundancy\n        }\n        return MP4.box(MP4.types.sdtp, data);\n    }\n\n    // Track fragment run box\n    static trun(track, offset) {\n        let samples = track.samples || [];\n        let sampleCount = samples.length;\n        let dataSize = 12 + 16 * sampleCount;\n        let data = new Uint8Array(dataSize);\n        offset += 8 + dataSize;\n\n        data.set([\n            0x00, 0x00, 0x0F, 0x01,      // version(0) & flags\n            (sampleCount >>> 24) & 0xFF, // sample_count\n            (sampleCount >>> 16) & 0xFF,\n            (sampleCount >>>  8) & 0xFF,\n            (sampleCount) & 0xFF,\n            (offset >>> 24) & 0xFF,      // data_offset\n            (offset >>> 16) & 0xFF,\n            (offset >>>  8) & 0xFF,\n            (offset) & 0xFF\n        ], 0);\n\n        for (let i = 0; i < sampleCount; i++) {\n            let duration = samples[i].duration;\n            let size = samples[i].size;\n            let flags = samples[i].flags;\n            let cts = samples[i].cts;\n            data.set([\n                (duration >>> 24) & 0xFF,  // sample_duration\n                (duration >>> 16) & 0xFF,\n                (duration >>>  8) & 0xFF,\n                (duration) & 0xFF,\n                (size >>> 24) & 0xFF,      // sample_size\n                (size >>> 16) & 0xFF,\n                (size >>>  8) & 0xFF,\n                (size) & 0xFF,\n                (flags.isLeading << 2) | flags.dependsOn,  // sample_flags\n                (flags.isDependedOn << 6) | (flags.hasRedundancy << 4) | flags.isNonSync,\n                0x00, 0x00,                // sample_degradation_priority\n                (cts >>> 24) & 0xFF,       // sample_composition_time_offset\n                (cts >>> 16) & 0xFF,\n                (cts >>>  8) & 0xFF,\n                (cts) & 0xFF\n            ], 12 + 16 * i);\n        }\n        return MP4.box(MP4.types.trun, data);\n    }\n\n    static mdat(data) {\n        return MP4.box(MP4.types.mdat, data);\n    }\n\n}\n\nMP4.init();\n\nexport default MP4;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../utils/logger.js';\nimport MP4 from './mp4-generator.js';\nimport AAC from './aac-silent.js';\nimport Browser from '../utils/browser.js';\nimport {SampleInfo, MediaSegmentInfo, MediaSegmentInfoList} from '../core/media-segment-info.js';\nimport {IllegalStateException} from '../utils/exception.js';\n\n\n// Fragmented mp4 remuxer\nclass MP4Remuxer {\n\n    constructor(config) {\n        this.TAG = 'MP4Remuxer';\n\n        this._config = config;\n        this._isLive = (config.isLive === true) ? true : false;\n\n        this._dtsBase = -1;\n        this._dtsBaseInited = false;\n        this._audioDtsBase = Infinity;\n        this._videoDtsBase = Infinity;\n        this._audioNextDts = undefined;\n        this._videoNextDts = undefined;\n\n        this._audioMeta = null;\n        this._videoMeta = null;\n\n        this._audioSegmentInfoList = new MediaSegmentInfoList('audio');\n        this._videoSegmentInfoList = new MediaSegmentInfoList('video');\n\n        this._onInitSegment = null;\n        this._onMediaSegment = null;\n\n        // Workaround for chrome < 50: Always force first sample as a Random Access Point in media segment\n        // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412\n        this._forceFirstIDR = (Browser.chrome &&\n                              (Browser.version.major < 50 ||\n                              (Browser.version.major === 50 && Browser.version.build < 2661))) ? true : false;\n\n        // Workaround for IE11/Edge: Fill silent aac frame after keyframe-seeking\n        // Make audio beginDts equals with video beginDts, in order to fix seek freeze\n        this._fillSilentAfterSeek = (Browser.msedge || Browser.msie);\n\n        // While only FireFox supports 'audio/mp4, codecs=\"mp3\"', use 'audio/mpeg' for chrome, safari, ...\n        this._mp3UseMpegAudio = !Browser.firefox;\n\n        this._fillAudioTimestampGap = this._config.fixAudioTimestampGap;\n    }\n\n    destroy() {\n        this._dtsBase = -1;\n        this._dtsBaseInited = false;\n        this._audioMeta = null;\n        this._videoMeta = null;\n        this._audioSegmentInfoList.clear();\n        this._audioSegmentInfoList = null;\n        this._videoSegmentInfoList.clear();\n        this._videoSegmentInfoList = null;\n        this._onInitSegment = null;\n        this._onMediaSegment = null;\n    }\n\n    bindDataSource(producer) {\n        producer.onDataAvailable = this.remux.bind(this);\n        producer.onTrackMetadata = this._onTrackMetadataReceived.bind(this);\n        return this;\n    }\n\n    /* prototype: function onInitSegment(type: string, initSegment: ArrayBuffer): void\n       InitSegment: {\n           type: string,\n           data: ArrayBuffer,\n           codec: string,\n           container: string\n       }\n    */\n    get onInitSegment() {\n        return this._onInitSegment;\n    }\n\n    set onInitSegment(callback) {\n        this._onInitSegment = callback;\n    }\n\n    /* prototype: function onMediaSegment(type: string, mediaSegment: MediaSegment): void\n       MediaSegment: {\n           type: string,\n           data: ArrayBuffer,\n           sampleCount: int32\n           info: MediaSegmentInfo\n       }\n    */\n    get onMediaSegment() {\n        return this._onMediaSegment;\n    }\n\n    set onMediaSegment(callback) {\n        this._onMediaSegment = callback;\n    }\n\n    insertDiscontinuity() {\n        this._audioNextDts = this._videoNextDts = undefined;\n    }\n\n    seek(originalDts) {\n        this._videoSegmentInfoList.clear();\n        this._audioSegmentInfoList.clear();\n    }\n\n    remux(audioTrack, videoTrack) {\n        if (!this._onMediaSegment) {\n            throw new IllegalStateException('MP4Remuxer: onMediaSegment callback must be specificed!');\n        }\n        if (!this._dtsBaseInited) {\n            this._calculateDtsBase(audioTrack, videoTrack);\n        }\n        this._remuxVideo(videoTrack);\n        this._remuxAudio(audioTrack);\n    }\n\n    _onTrackMetadataReceived(type, metadata) {\n        let metabox = null;\n\n        let container = 'mp4';\n        let codec = metadata.codec;\n\n        if (type === 'audio') {\n            this._audioMeta = metadata;\n            if (metadata.codec === 'mp3' && this._mp3UseMpegAudio) {\n                // 'audio/mpeg' for MP3 audio track\n                container = 'mpeg';\n                codec = '';\n                metabox = new Uint8Array();\n            } else {\n                // 'audio/mp4, codecs=\"codec\"'\n                metabox = MP4.generateInitSegment(metadata);\n            }\n        } else if (type === 'video') {\n            this._videoMeta = metadata;\n            metabox = MP4.generateInitSegment(metadata);\n        } else {\n            return;\n        }\n\n        // dispatch metabox (Initialization Segment)\n        if (!this._onInitSegment) {\n            throw new IllegalStateException('MP4Remuxer: onInitSegment callback must be specified!');\n        }\n        this._onInitSegment(type, {\n            type: type,\n            data: metabox.buffer,\n            codec: codec,\n            container: `${type}/${container}`,\n            mediaDuration: metadata.duration  // in timescale 1000 (milliseconds)\n        });\n    }\n\n    _calculateDtsBase(audioTrack, videoTrack) {\n        if (this._dtsBaseInited) {\n            return;\n        }\n\n        if (audioTrack.samples && audioTrack.samples.length) {\n            this._audioDtsBase = audioTrack.samples[0].dts;\n        }\n        if (videoTrack.samples && videoTrack.samples.length) {\n            this._videoDtsBase = videoTrack.samples[0].dts;\n        }\n\n        this._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase);\n        this._dtsBaseInited = true;\n    }\n\n    _remuxAudio(audioTrack) {\n        if (this._audioMeta == null) {\n            return;\n        }\n\n        let track = audioTrack;\n        let samples = track.samples;\n        let dtsCorrection = undefined;\n        let firstDts = -1, lastDts = -1, lastPts = -1;\n        let refSampleDuration = this._audioMeta.refSampleDuration;\n\n        let mpegRawTrack = this._audioMeta.codec === 'mp3' && this._mp3UseMpegAudio;\n        let firstSegmentAfterSeek = this._dtsBaseInited && this._audioNextDts === undefined;\n\n        let insertPrefixSilentFrame = false;\n\n        if (!samples || samples.length === 0) {\n            return;\n        }\n\n        let offset = 0;\n        let mdatbox = null;\n        let mdatBytes = 0;\n\n        // calculate initial mdat size\n        if (mpegRawTrack) {\n            // for raw mpeg buffer\n            offset = 0;\n            mdatBytes = track.length;\n        } else {\n            // for fmp4 mdat box\n            offset = 8;  // size + type\n            mdatBytes = 8 + track.length;\n        }\n\n        let firstSampleOriginalDts = samples[0].dts - this._dtsBase;\n\n        // calculate dtsCorrection\n        if (this._audioNextDts) {\n            dtsCorrection = firstSampleOriginalDts - this._audioNextDts;\n        } else {  // this._audioNextDts == undefined\n            if (this._audioSegmentInfoList.isEmpty()) {\n                dtsCorrection = 0;\n                if (this._fillSilentAfterSeek && !this._videoSegmentInfoList.isEmpty()) {\n                    if (this._audioMeta.originalCodec !== 'mp3') {\n                        insertPrefixSilentFrame = true;\n                    }\n                }\n            } else {\n                let lastSample = this._audioSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);\n                if (lastSample != null) {\n                    let distance = (firstSampleOriginalDts - (lastSample.originalDts + lastSample.duration));\n                    if (distance <= 3) {\n                        distance = 0;\n                    }\n                    let expectedDts = lastSample.dts + lastSample.duration + distance;\n                    dtsCorrection = firstSampleOriginalDts - expectedDts;\n                } else { // lastSample == null, cannot found\n                    dtsCorrection = 0;\n                }\n            }\n        }\n\n        if (insertPrefixSilentFrame) {\n            // align audio segment beginDts to match with current video segment's beginDts\n            let firstSampleDts = firstSampleOriginalDts - dtsCorrection;\n            let videoSegment = this._videoSegmentInfoList.getLastSegmentBefore(firstSampleOriginalDts);\n            if (videoSegment != null && videoSegment.beginDts < firstSampleDts) {\n                let silentUnit = AAC.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);\n                if (silentUnit) {\n                    let dts = videoSegment.beginDts;\n                    let silentFrameDuration = firstSampleDts - videoSegment.beginDts;\n                    Log.v(this.TAG, `InsertPrefixSilentAudio: dts: ${dts}, duration: ${silentFrameDuration}`);\n                    samples.unshift({unit: silentUnit, dts: dts, pts: dts});\n                    mdatBytes += silentUnit.byteLength;\n                }  // silentUnit == null: Cannot generate, skip\n            } else {\n                insertPrefixSilentFrame = false;\n            }\n        }\n\n        let mp4Samples = [];\n\n        // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples\n        for (let i = 0; i < samples.length; i++) {\n            let sample = samples[i];\n            let unit = sample.unit;\n            let originalDts = sample.dts - this._dtsBase;\n            let dts = originalDts - dtsCorrection;\n\n            if (firstDts === -1) {\n                firstDts = dts;\n            }\n\n            let sampleDuration = 0;\n\n            if (i !== samples.length - 1) {\n                let nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;\n                sampleDuration = nextDts - dts;\n            } else {  // the last sample\n                if (mp4Samples.length >= 1) {  // use second last sample duration\n                    sampleDuration = mp4Samples[mp4Samples.length - 1].duration;\n                } else {  // the only one sample, use reference sample duration\n                    sampleDuration = Math.floor(refSampleDuration);\n                }\n            }\n\n            let needFillSilentFrames = false;\n            let silentFrames = null;\n\n            // Silent frame generation, if large timestamp gap detected && config.fixAudioTimestampGap\n            if (sampleDuration > refSampleDuration * 1.5 && this._audioMeta.codec !== 'mp3' && this._fillAudioTimestampGap && !Browser.safari) {\n                // We need to insert silent frames to fill timestamp gap\n                needFillSilentFrames = true;\n                let delta = Math.abs(sampleDuration - refSampleDuration);\n                let frameCount = Math.ceil(delta / refSampleDuration);\n                let currentDts = dts + refSampleDuration;  // Notice: in float\n\n                Log.w(this.TAG, 'Large audio timestamp gap detected, may cause AV sync to drift. ' +\n                                'Silent frames will be generated to avoid unsync.\\n' +\n                                `dts: ${dts + sampleDuration} ms, expected: ${dts + Math.round(refSampleDuration)} ms, ` +\n                                `delta: ${Math.round(delta)} ms, generate: ${frameCount} frames`);\n\n                let silentUnit = AAC.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount);\n                if (silentUnit == null) {\n                    Log.w(this.TAG, 'Unable to generate silent frame for ' +\n                                    `${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`);\n                    // Repeat last frame\n                    silentUnit = unit;\n                }\n                silentFrames = [];\n\n                for (let j = 0; j < frameCount; j++) {\n                    let intDts = Math.round(currentDts);  // round to integer\n                    if (silentFrames.length > 0) {\n                        // Set previous frame sample duration\n                        let previousFrame = silentFrames[silentFrames.length - 1];\n                        previousFrame.duration = intDts - previousFrame.dts;\n                    }\n                    let frame = {\n                        dts: intDts,\n                        pts: intDts,\n                        cts: 0,\n                        unit: silentUnit,\n                        size: silentUnit.byteLength,\n                        duration: 0,  // wait for next sample\n                        originalDts: originalDts,\n                        flags: {\n                            isLeading: 0,\n                            dependsOn: 1,\n                            isDependedOn: 0,\n                            hasRedundancy: 0\n                        }\n                    };\n                    silentFrames.push(frame);\n                    mdatBytes += unit.byteLength;\n                    currentDts += refSampleDuration;\n                }\n\n                // last frame: align end time to next frame dts\n                let lastFrame = silentFrames[silentFrames.length - 1];\n                lastFrame.duration = dts + sampleDuration - lastFrame.dts;\n\n                // silentFrames.forEach((frame) => {\n                //     Log.w(this.TAG, `SilentAudio: dts: ${frame.dts}, duration: ${frame.duration}`);\n                // });\n\n                // Set correct sample duration for current frame\n                sampleDuration = Math.round(refSampleDuration);\n            }\n\n            mp4Samples.push({\n                dts: dts,\n                pts: dts,\n                cts: 0,\n                unit: sample.unit,\n                size: sample.unit.byteLength,\n                duration: sampleDuration,\n                originalDts: originalDts,\n                flags: {\n                    isLeading: 0,\n                    dependsOn: 1,\n                    isDependedOn: 0,\n                    hasRedundancy: 0\n                }\n            });\n\n            if (needFillSilentFrames) {\n                // Silent frames should be inserted after wrong-duration frame\n                mp4Samples.push.apply(mp4Samples, silentFrames);\n            }\n        }\n\n        // allocate mdatbox\n        if (mpegRawTrack) {\n            // allocate for raw mpeg buffer\n            mdatbox = new Uint8Array(mdatBytes);\n        } else {\n            // allocate for fmp4 mdat box\n            mdatbox = new Uint8Array(mdatBytes);\n            // size field\n            mdatbox[0] = (mdatBytes >>> 24) & 0xFF;\n            mdatbox[1] = (mdatBytes >>> 16) & 0xFF;\n            mdatbox[2] = (mdatBytes >>>  8) & 0xFF;\n            mdatbox[3] = (mdatBytes) & 0xFF;\n            // type field (fourCC)\n            mdatbox.set(MP4.types.mdat, 4);\n        }\n\n        // Write samples into mdatbox\n        for (let i = 0; i < mp4Samples.length; i++) {\n            let unit = mp4Samples[i].unit;\n            mdatbox.set(unit, offset);\n            offset += unit.byteLength;\n        }\n\n        let latest = mp4Samples[mp4Samples.length - 1];\n        lastDts = latest.dts + latest.duration;\n        this._audioNextDts = lastDts;\n\n        // fill media segment info & add to info list\n        let info = new MediaSegmentInfo();\n        info.beginDts = firstDts;\n        info.endDts = lastDts;\n        info.beginPts = firstDts;\n        info.endPts = lastDts;\n        info.originalBeginDts = mp4Samples[0].originalDts;\n        info.originalEndDts = latest.originalDts + latest.duration;\n        info.firstSample = new SampleInfo(mp4Samples[0].dts,\n                                          mp4Samples[0].pts,\n                                          mp4Samples[0].duration,\n                                          mp4Samples[0].originalDts,\n                                          false);\n        info.lastSample = new SampleInfo(latest.dts,\n                                         latest.pts,\n                                         latest.duration,\n                                         latest.originalDts,\n                                         false);\n        if (!this._isLive) {\n            this._audioSegmentInfoList.append(info);\n        }\n\n        track.samples = mp4Samples;\n        track.sequenceNumber++;\n\n        let moofbox = null;\n\n        if (mpegRawTrack) {\n            // Generate empty buffer, because useless for raw mpeg\n            moofbox = new Uint8Array();\n        } else {\n            // Generate moof for fmp4 segment\n            moofbox = MP4.moof(track, firstDts);\n        }\n\n        track.samples = [];\n        track.length = 0;\n\n        let segment = {\n            type: 'audio',\n            data: this._mergeBoxes(moofbox, mdatbox).buffer,\n            sampleCount: mp4Samples.length,\n            info: info\n        };\n\n        if (mpegRawTrack && firstSegmentAfterSeek) {\n            // For MPEG audio stream in MSE, if seeking occurred, before appending new buffer\n            // We need explicitly set timestampOffset to the desired point in timeline for mpeg SourceBuffer.\n            segment.timestampOffset = firstDts;\n        }\n\n        this._onMediaSegment('audio', segment);\n    }\n\n    _remuxVideo(videoTrack) {\n        if (this._videoMeta == null) {\n            return;\n        }\n\n        let track = videoTrack;\n        let samples = track.samples;\n        let dtsCorrection = undefined;\n        let firstDts = -1, lastDts = -1;\n        let firstPts = -1, lastPts = -1;\n\n        if (!samples || samples.length === 0) {\n            return;\n        }\n\n        let offset = 8;\n        let mdatBytes = 8 + videoTrack.length;\n        let mdatbox = new Uint8Array(mdatBytes);\n        mdatbox[0] = (mdatBytes >>> 24) & 0xFF;\n        mdatbox[1] = (mdatBytes >>> 16) & 0xFF;\n        mdatbox[2] = (mdatBytes >>>  8) & 0xFF;\n        mdatbox[3] = (mdatBytes) & 0xFF;\n        mdatbox.set(MP4.types.mdat, 4);\n\n        let firstSampleOriginalDts = samples[0].dts - this._dtsBase;\n\n        // calculate dtsCorrection\n        if (this._videoNextDts) {\n            dtsCorrection = firstSampleOriginalDts - this._videoNextDts;\n        } else {  // this._videoNextDts == undefined\n            if (this._videoSegmentInfoList.isEmpty()) {\n                dtsCorrection = 0;\n            } else {\n                let lastSample = this._videoSegmentInfoList.getLastSampleBefore(firstSampleOriginalDts);\n                if (lastSample != null) {\n                    let distance = (firstSampleOriginalDts - (lastSample.originalDts + lastSample.duration));\n                    if (distance <= 3) {\n                        distance = 0;\n                    }\n                    let expectedDts = lastSample.dts + lastSample.duration + distance;\n                    dtsCorrection = firstSampleOriginalDts - expectedDts;\n                } else { // lastSample == null, cannot found\n                    dtsCorrection = 0;\n                }\n            }\n        }\n\n        let info = new MediaSegmentInfo();\n        let mp4Samples = [];\n\n        // Correct dts for each sample, and calculate sample duration. Then output to mp4Samples\n        for (let i = 0; i < samples.length; i++) {\n            let sample = samples[i];\n            let originalDts = sample.dts - this._dtsBase;\n            let isKeyframe = sample.isKeyframe;\n            let dts = originalDts - dtsCorrection;\n            let cts = sample.cts;\n            let pts = dts + cts;\n\n            if (firstDts === -1) {\n                firstDts = dts;\n                firstPts = pts;\n            }\n\n            let sampleDuration = 0;\n\n            if (i !== samples.length - 1) {\n                let nextDts = samples[i + 1].dts - this._dtsBase - dtsCorrection;\n                sampleDuration = nextDts - dts;\n            } else {  // the last sample\n                if (mp4Samples.length >= 1) {  // use second last sample duration\n                    sampleDuration = mp4Samples[mp4Samples.length - 1].duration;\n                } else {  // the only one sample, use reference sample duration\n                    sampleDuration = Math.floor(this._videoMeta.refSampleDuration);\n                }\n            }\n\n            if (isKeyframe) {\n                let syncPoint = new SampleInfo(dts, pts, sampleDuration, sample.dts, true);\n                syncPoint.fileposition = sample.fileposition;\n                info.appendSyncPoint(syncPoint);\n            }\n\n            mp4Samples.push({\n                dts: dts,\n                pts: pts,\n                cts: cts,\n                units: sample.units,\n                size: sample.length,\n                isKeyframe: isKeyframe,\n                duration: sampleDuration,\n                originalDts: originalDts,\n                flags: {\n                    isLeading: 0,\n                    dependsOn: isKeyframe ? 2 : 1,\n                    isDependedOn: isKeyframe ? 1 : 0,\n                    hasRedundancy: 0,\n                    isNonSync: isKeyframe ? 0 : 1\n                }\n            });\n        }\n\n        // Write samples into mdatbox\n        for (let i = 0; i < mp4Samples.length; i++) {\n            let units = mp4Samples[i].units;\n            while (units.length) {\n                let unit = units.shift();\n                let data = unit.data;\n                mdatbox.set(data, offset);\n                offset += data.byteLength;\n            }\n        }\n\n        let latest = mp4Samples[mp4Samples.length - 1];\n        lastDts = latest.dts + latest.duration;\n        lastPts = latest.pts + latest.duration;\n        this._videoNextDts = lastDts;\n\n        // fill media segment info & add to info list\n        info.beginDts = firstDts;\n        info.endDts = lastDts;\n        info.beginPts = firstPts;\n        info.endPts = lastPts;\n        info.originalBeginDts = mp4Samples[0].originalDts;\n        info.originalEndDts = latest.originalDts + latest.duration;\n        info.firstSample = new SampleInfo(mp4Samples[0].dts,\n                                          mp4Samples[0].pts,\n                                          mp4Samples[0].duration,\n                                          mp4Samples[0].originalDts,\n                                          mp4Samples[0].isKeyframe);\n        info.lastSample = new SampleInfo(latest.dts,\n                                         latest.pts,\n                                         latest.duration,\n                                         latest.originalDts,\n                                         latest.isKeyframe);\n        if (!this._isLive) {\n            this._videoSegmentInfoList.append(info);\n        }\n\n        track.samples = mp4Samples;\n        track.sequenceNumber++;\n\n        // workaround for chrome < 50: force first sample as a random access point\n        // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412\n        if (this._forceFirstIDR) {\n            let flags = mp4Samples[0].flags;\n            flags.dependsOn = 2;\n            flags.isNonSync = 0;\n        }\n\n        let moofbox = MP4.moof(track, firstDts);\n        track.samples = [];\n        track.length = 0;\n\n        this._onMediaSegment('video', {\n            type: 'video',\n            data: this._mergeBoxes(moofbox, mdatbox).buffer,\n            sampleCount: mp4Samples.length,\n            info: info\n        });\n    }\n\n    _mergeBoxes(moof, mdat) {\n        let result = new Uint8Array(moof.byteLength + mdat.byteLength);\n        result.set(moof, 0);\n        result.set(mdat, moof.byteLength);\n        return result;\n    }\n\n}\n\nexport default MP4Remuxer;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet Browser = {};\n\nfunction detect() {\n    // modified from jquery-browser-plugin\n\n    let ua = self.navigator.userAgent.toLowerCase();\n\n    let match = /(edge)\\/([\\w.]+)/.exec(ua) ||\n        /(opr)[\\/]([\\w.]+)/.exec(ua) ||\n        /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(iemobile)[\\/]([\\w.]+)/.exec(ua) ||\n        /(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n        /(msie) ([\\w.]+)/.exec(ua) ||\n        ua.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(ua) ||\n        ua.indexOf('compatible') < 0 && /(firefox)[ \\/]([\\w.]+)/.exec(ua) ||\n        [];\n\n    let platform_match = /(ipad)/.exec(ua) ||\n        /(ipod)/.exec(ua) ||\n        /(windows phone)/.exec(ua) ||\n        /(iphone)/.exec(ua) ||\n        /(kindle)/.exec(ua) ||\n        /(android)/.exec(ua) ||\n        /(windows)/.exec(ua) ||\n        /(mac)/.exec(ua) ||\n        /(linux)/.exec(ua) ||\n        /(cros)/.exec(ua) ||\n        [];\n\n    let matched = {\n        browser: match[5] || match[3] || match[1] || '',\n        version: match[2] || match[4] || '0',\n        majorVersion: match[4] || match[2] || '0',\n        platform: platform_match[0] || ''\n    };\n\n    let browser = {};\n    if (matched.browser) {\n        browser[matched.browser] = true;\n\n        let versionArray = matched.majorVersion.split('.');\n        browser.version = {\n            major: parseInt(matched.majorVersion, 10),\n            string: matched.version\n        };\n        if (versionArray.length > 1) {\n            browser.version.minor = parseInt(versionArray[1], 10);\n        }\n        if (versionArray.length > 2) {\n            browser.version.build = parseInt(versionArray[2], 10);\n        }\n    }\n\n    if (matched.platform) {\n        browser[matched.platform] = true;\n    }\n\n    if (browser.chrome || browser.opr || browser.safari) {\n        browser.webkit = true;\n    }\n\n    // MSIE. IE11 has 'rv' identifer\n    if (browser.rv || browser.iemobile) {\n        if (browser.rv) {\n            delete browser.rv;\n        }\n        let msie = 'msie';\n        matched.browser = msie;\n        browser[msie] = true;\n    }\n\n    // Microsoft Edge\n    if (browser.edge) {\n        delete browser.edge;\n        let msedge = 'msedge';\n        matched.browser = msedge;\n        browser[msedge] = true;\n    }\n\n    // Opera 15+\n    if (browser.opr) {\n        let opera = 'opera';\n        matched.browser = opera;\n        browser[opera] = true;\n    }\n\n    // Stock android browsers are marked as Safari\n    if (browser.safari && browser.android) {\n        let android = 'android';\n        matched.browser = android;\n        browser[android] = true;\n    }\n\n    browser.name = matched.browser;\n    browser.platform = matched.platform;\n\n    for (let key in Browser) {\n        if (Browser.hasOwnProperty(key)) {\n            delete Browser[key];\n        }\n    }\n    Object.assign(Browser, browser);\n}\n\ndetect();\n\nexport default Browser;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class RuntimeException {\n\n    constructor(message) {\n        this._message = message;\n    }\n\n    get name() {\n        return 'RuntimeException';\n    }\n\n    get message() {\n        return this._message;\n    }\n\n    toString() {\n        return this.name + ': ' + this.message;\n    }\n\n}\n\nexport class IllegalStateException extends RuntimeException {\n\n    constructor(message) {\n        super(message);\n    }\n\n    get name() {\n        return 'IllegalStateException';\n    }\n\n}\n\nexport class InvalidArgumentException extends RuntimeException {\n\n    constructor(message) {\n        super(message);\n    }\n\n    get name() {\n        return 'InvalidArgumentException';\n    }\n\n}\n\nexport class NotImplementedException extends RuntimeException {\n\n    constructor(message) {\n        super(message);\n    }\n\n    get name() {\n        return 'NotImplementedException';\n    }\n\n}\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\n\nclass Log {\n\n    static e(tag, msg) {\n        if (!tag || Log.FORCE_GLOBAL_TAG)\n            tag = Log.GLOBAL_TAG;\n\n        let str = `[${tag}] > ${msg}`;\n\n        if (Log.ENABLE_CALLBACK) {\n            Log.emitter.emit('log', 'error', str);\n        }\n\n        if (!Log.ENABLE_ERROR) {\n            return;\n        }\n\n        if (console.error) {\n            console.error(str);\n        } else if (console.warn) {\n            console.warn(str);\n        } else {\n            console.log(str);\n        }\n    }\n\n    static i(tag, msg) {\n        if (!tag || Log.FORCE_GLOBAL_TAG)\n            tag = Log.GLOBAL_TAG;\n\n        let str = `[${tag}] > ${msg}`;\n\n        if (Log.ENABLE_CALLBACK) {\n            Log.emitter.emit('log', 'info', str);\n        }\n\n        if (!Log.ENABLE_INFO) {\n            return;\n        }\n\n        if (console.info) {\n            console.info(str);\n        } else {\n            console.log(str);\n        }\n    }\n\n    static w(tag, msg) {\n        if (!tag || Log.FORCE_GLOBAL_TAG)\n            tag = Log.GLOBAL_TAG;\n\n        let str = `[${tag}] > ${msg}`;\n\n        if (Log.ENABLE_CALLBACK) {\n            Log.emitter.emit('log', 'warn', str);\n        }\n\n        if (!Log.ENABLE_WARN) {\n            return;\n        }\n\n        if (console.warn) {\n            console.warn(str);\n        } else {\n            console.log(str);\n        }\n    }\n\n    static d(tag, msg) {\n        if (!tag || Log.FORCE_GLOBAL_TAG)\n            tag = Log.GLOBAL_TAG;\n\n        let str = `[${tag}] > ${msg}`;\n\n        if (Log.ENABLE_CALLBACK) {\n            Log.emitter.emit('log', 'debug', str);\n        }\n\n        if (!Log.ENABLE_DEBUG) {\n            return;\n        }\n\n        if (console.debug) {\n            console.debug(str);\n        } else {\n            console.log(str);\n        }\n    }\n\n    static v(tag, msg) {\n        if (!tag || Log.FORCE_GLOBAL_TAG)\n            tag = Log.GLOBAL_TAG;\n\n        let str = `[${tag}] > ${msg}`;\n\n        if (Log.ENABLE_CALLBACK) {\n            Log.emitter.emit('log', 'verbose', str);\n        }\n\n        if (!Log.ENABLE_VERBOSE) {\n            return;\n        }\n\n        console.log(str);\n    }\n\n}\n\nLog.GLOBAL_TAG = 'flv.js';\nLog.FORCE_GLOBAL_TAG = false;\nLog.ENABLE_ERROR = true;\nLog.ENABLE_INFO = true;\nLog.ENABLE_WARN = true;\nLog.ENABLE_DEBUG = true;\nLog.ENABLE_VERBOSE = true;\n\nLog.ENABLE_CALLBACK = false;\n\nLog.emitter = new EventEmitter();\n\nexport default Log;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventEmitter from 'events';\nimport Log from './logger.js';\n\nclass LoggingControl {\n\n    static get forceGlobalTag() {\n        return Log.FORCE_GLOBAL_TAG;\n    }\n\n    static set forceGlobalTag(enable) {\n        Log.FORCE_GLOBAL_TAG = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get globalTag() {\n        return Log.GLOBAL_TAG;\n    }\n\n    static set globalTag(tag) {\n        Log.GLOBAL_TAG = tag;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableAll() {\n        return Log.ENABLE_VERBOSE\n            && Log.ENABLE_DEBUG\n            && Log.ENABLE_INFO\n            && Log.ENABLE_WARN\n            && Log.ENABLE_ERROR;\n    }\n\n    static set enableAll(enable) {\n        Log.ENABLE_VERBOSE = enable;\n        Log.ENABLE_DEBUG = enable;\n        Log.ENABLE_INFO = enable;\n        Log.ENABLE_WARN = enable;\n        Log.ENABLE_ERROR = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableDebug() {\n        return Log.ENABLE_DEBUG;\n    }\n\n    static set enableDebug(enable) {\n        Log.ENABLE_DEBUG = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableVerbose() {\n        return Log.ENABLE_VERBOSE;\n    }\n\n    static set enableVerbose(enable) {\n        Log.ENABLE_VERBOSE = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableInfo() {\n        return Log.ENABLE_INFO;\n    }\n\n    static set enableInfo(enable) {\n        Log.ENABLE_INFO = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableWarn() {\n        return Log.ENABLE_WARN;\n    }\n\n    static set enableWarn(enable) {\n        Log.ENABLE_WARN = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static get enableError() {\n        return Log.ENABLE_ERROR;\n    }\n\n    static set enableError(enable) {\n        Log.ENABLE_ERROR = enable;\n        LoggingControl._notifyChange();\n    }\n\n    static getConfig() {\n        return {\n            globalTag: Log.GLOBAL_TAG,\n            forceGlobalTag: Log.FORCE_GLOBAL_TAG,\n            enableVerbose: Log.ENABLE_VERBOSE,\n            enableDebug: Log.ENABLE_DEBUG,\n            enableInfo: Log.ENABLE_INFO,\n            enableWarn: Log.ENABLE_WARN,\n            enableError: Log.ENABLE_ERROR,\n            enableCallback: Log.ENABLE_CALLBACK\n        };\n    }\n\n    static applyConfig(config) {\n        Log.GLOBAL_TAG = config.globalTag;\n        Log.FORCE_GLOBAL_TAG = config.forceGlobalTag;\n        Log.ENABLE_VERBOSE = config.enableVerbose;\n        Log.ENABLE_DEBUG = config.enableDebug;\n        Log.ENABLE_INFO = config.enableInfo;\n        Log.ENABLE_WARN = config.enableWarn;\n        Log.ENABLE_ERROR = config.enableError;\n        Log.ENABLE_CALLBACK = config.enableCallback;\n    }\n\n    static _notifyChange() {\n        let emitter = LoggingControl.emitter;\n\n        if (emitter.listenerCount('change') > 0) {\n            let config = LoggingControl.getConfig();\n            emitter.emit('change', config);\n        }\n    }\n\n    static registerListener(listener) {\n        LoggingControl.emitter.addListener('change', listener);\n    }\n\n    static removeListener(listener) {\n        LoggingControl.emitter.removeListener('change', listener);\n    }\n\n    static addLogListener(listener) {\n        Log.emitter.addListener('log', listener);\n        if (Log.emitter.listenerCount('log') > 0) {\n            Log.ENABLE_CALLBACK = true;\n            LoggingControl._notifyChange();\n        }\n    }\n\n    static removeLogListener(listener) {\n        Log.emitter.removeListener('log', listener);\n        if (Log.emitter.listenerCount('log') === 0) {\n            Log.ENABLE_CALLBACK = false;\n            LoggingControl._notifyChange();\n        }\n    }\n\n}\n\nLoggingControl.emitter = new EventEmitter();\n\nexport default LoggingControl;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass Polyfill {\n\n    static install() {\n        // ES6 Object.setPrototypeOf\n        Object.setPrototypeOf = Object.setPrototypeOf || function (obj, proto) {\n            obj.__proto__ = proto;\n            return obj;\n        };\n\n        // ES6 Object.assign\n        Object.assign = Object.assign || function (target) {\n            if (target === undefined || target === null) {\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            let output = Object(target);\n            for (let i = 1; i < arguments.length; i++) {\n                let source = arguments[i];\n                if (source !== undefined && source !== null) {\n                    for (let key in source) {\n                        if (source.hasOwnProperty(key)) {\n                            output[key] = source[key];\n                        }\n                    }\n                }\n            }\n            return output;\n        };\n\n        // ES6 Promise (missing support in IE11)\n        if (typeof self.Promise !== 'function') {\n            require('es6-promise').polyfill();\n        }\n    }\n\n}\n\nPolyfill.install();\n\nexport default Polyfill;","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * This file is derived from C++ project libWinTF8 (https://github.com/m13253/libWinTF8)\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction checkContinuation(uint8array, start, checkLength) {\n    let array = uint8array;\n    if (start + checkLength < array.length) {\n        while (checkLength--) {\n            if ((array[++start] & 0xC0) !== 0x80)\n                return false;\n        }\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction decodeUTF8(uint8array) {\n    let out = [];\n    let input = uint8array;\n    let i = 0;\n    let length = uint8array.length;\n\n    while (i < length) {\n        if (input[i] < 0x80) {\n            out.push(String.fromCharCode(input[i]));\n            ++i;\n            continue;\n        } else if (input[i] < 0xC0) {\n            // fallthrough\n        } else if (input[i] < 0xE0) {\n            if (checkContinuation(input, i, 1)) {\n                let ucs4 = (input[i] & 0x1F) << 6 | (input[i + 1] & 0x3F);\n                if (ucs4 >= 0x80) {\n                    out.push(String.fromCharCode(ucs4 & 0xFFFF));\n                    i += 2;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF0) {\n            if (checkContinuation(input, i, 2)) {\n                let ucs4 = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;\n                if (ucs4 >= 0x800 && (ucs4 & 0xF800) !== 0xD800) {\n                    out.push(String.fromCharCode(ucs4 & 0xFFFF));\n                    i += 3;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF8) {\n            if (checkContinuation(input, i, 3)) {\n                let ucs4 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12\n                         | (input[i + 2] & 0x3F) << 6 | (input[i + 3] & 0x3F);\n                if (ucs4 > 0x10000 && ucs4 < 0x110000) {\n                    ucs4 -= 0x10000;\n                    out.push(String.fromCharCode((ucs4 >>> 10) | 0xD800));\n                    out.push(String.fromCharCode((ucs4 & 0x3FF) | 0xDC00));\n                    i += 4;\n                    continue;\n                }\n            }\n        }\n        out.push(String.fromCharCode(0xFFFD));\n        ++i;\n    }\n\n    return out.join('');\n}\n\nexport default decodeUTF8;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9fYnJvd3Nlci1wYWNrQDYuMC4yQGJyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIm5vZGVfbW9kdWxlcy9fZXM2LXByb21pc2VANC4xLjFAZXM2LXByb21pc2UvZGlzdC9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9fZXZlbnRzQDEuMS4xQGV2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvX3Byb2Nlc3NAMC4xMS4xMEBwcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvX3dlYndvcmtpZnlAMS40LjBAd2Vid29ya2lmeS9pbmRleC5qcyIsInNyYy9jb25maWcuanMiLCJzcmMvY29yZS9mZWF0dXJlcy5qcyIsInNyYy9jb3JlL21lZGlhLWluZm8uanMiLCJzcmMvY29yZS9tZWRpYS1zZWdtZW50LWluZm8uanMiLCJzcmMvY29yZS9tc2UtY29udHJvbGxlci5qcyIsInNyYy9jb3JlL21zZS1ldmVudHMuanMiLCJzcmMvY29yZS90cmFuc211eGVyLmpzIiwic3JjL2NvcmUvdHJhbnNtdXhpbmctY29udHJvbGxlci5qcyIsInNyYy9jb3JlL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyIsInNyYy9jb3JlL3RyYW5zbXV4aW5nLXdvcmtlci5qcyIsInNyYy9kZW11eC9hbWYtcGFyc2VyLmpzIiwic3JjL2RlbXV4L2RlbXV4LWVycm9ycy5qcyIsInNyYy9kZW11eC9leHAtZ29sb21iLmpzIiwic3JjL2RlbXV4L2Zsdi1kZW11eGVyLmpzIiwic3JjL2RlbXV4L3Nwcy1wYXJzZXIuanMiLCJzcmMvZmx2LmpzIiwic3JjL2luZGV4LmpzIiwic3JjL2lvL2ZldGNoLXN0cmVhbS1sb2FkZXIuanMiLCJzcmMvaW8vaW8tY29udHJvbGxlci5qcyIsInNyYy9pby9sb2FkZXIuanMiLCJzcmMvaW8vcGFyYW0tc2Vlay1oYW5kbGVyLmpzIiwic3JjL2lvL3JhbmdlLXNlZWstaGFuZGxlci5qcyIsInNyYy9pby9zcGVlZC1zYW1wbGVyLmpzIiwic3JjL2lvL3dlYnNvY2tldC1sb2FkZXIuanMiLCJzcmMvaW8veGhyLW1vei1jaHVua2VkLWxvYWRlci5qcyIsInNyYy9pby94aHItbXNzdHJlYW0tbG9hZGVyLmpzIiwic3JjL2lvL3hoci1yYW5nZS1sb2FkZXIuanMiLCJzcmMvcGxheWVyL2Zsdi1wbGF5ZXIuanMiLCJzcmMvcGxheWVyL25hdGl2ZS1wbGF5ZXIuanMiLCJzcmMvcGxheWVyL3BsYXllci1lcnJvcnMuanMiLCJzcmMvcGxheWVyL3BsYXllci1ldmVudHMuanMiLCJzcmMvcmVtdXgvYWFjLXNpbGVudC5qcyIsInNyYy9yZW11eC9tcDQtZ2VuZXJhdG9yLmpzIiwic3JjL3JlbXV4L21wNC1yZW11eGVyLmpzIiwic3JjL3V0aWxzL2Jyb3dzZXIuanMiLCJzcmMvdXRpbHMvZXhjZXB0aW9uLmpzIiwic3JjL3V0aWxzL2xvZ2dlci5qcyIsInNyYy91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMiLCJzcmMvdXRpbHMvcG9seWZpbGwuanMiLCJzcmMvdXRpbHMvdXRmOC1jb252LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFlBQVAsQ0FBb0IsT0FBTyxNQUEzQixDQUFUO0FBQ0EseUJBQUssQ0FBTDtBQUNBO0FBQ0g7QUFDSjtBQUNKLFNBVE0sTUFTQSxJQUFJLE1BQU0sQ0FBTixJQUFXLElBQWYsRUFBcUI7QUFDeEIsZ0JBQUksa0JBQWtCLEtBQWxCLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCLENBQUosRUFBb0M7QUFDaEMsb0JBQUksUUFBTyxDQUFDLE1BQU0sQ0FBTixJQUFXLEdBQVosS0FBb0IsRUFBcEIsR0FBeUIsQ0FBQyxNQUFNLElBQUksQ0FBVixJQUFlLElBQWhCLEtBQXlCLEVBQWxELEdBQ0EsQ0FBQyxNQUFNLElBQUksQ0FBVixJQUFlLElBQWhCLEtBQXlCLENBRHpCLEdBQzhCLE1BQU0sSUFBSSxDQUFWLElBQWUsSUFEeEQ7QUFFQSxvQkFBSSxRQUFPLE9BQVAsSUFBa0IsUUFBTyxRQUE3QixFQUF1QztBQUNuQyw2QkFBUSxPQUFSO0FBQ0Esd0JBQUksSUFBSixDQUFTLE9BQU8sWUFBUCxDQUFxQixVQUFTLEVBQVYsR0FBZ0IsTUFBcEMsQ0FBVDtBQUNBLHdCQUFJLElBQUosQ0FBUyxPQUFPLFlBQVAsQ0FBcUIsUUFBTyxLQUFSLEdBQWlCLE1BQXJDLENBQVQ7QUFDQSx5QkFBSyxDQUFMO0FBQ0E7QUFDSDtBQUNKO0FBQ0o7QUFDRCxZQUFJLElBQUosQ0FBUyxPQUFPLFlBQVAsQ0FBb0IsTUFBcEIsQ0FBVDtBQUNBLFVBQUUsQ0FBRjtBQUNIOztBQUVELFdBQU8sSUFBSSxJQUFKLENBQVMsRUFBVCxDQUFQO0FBQ0g7O2tCQUVjLFUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICA0LjEuMVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5FUzZQcm9taXNlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG52YXIgX2lzQXJyYXkgPSB1bmRlZmluZWQ7XG5pZiAoQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG59IGVsc2Uge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxudmFyIGxlbiA9IDA7XG52YXIgdmVydHhOZXh0ID0gdW5kZWZpbmVkO1xudmFyIGN1c3RvbVNjaGVkdWxlckZuID0gdW5kZWZpbmVkO1xuXG52YXIgYXNhcCA9IGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICBxdWV1ZVtsZW5dID0gY2FsbGJhY2s7XG4gIHF1ZXVlW2xlbiArIDFdID0gYXJnO1xuICBsZW4gKz0gMjtcbiAgaWYgKGxlbiA9PT0gMikge1xuICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICBpZiAoY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgIGN1c3RvbVNjaGVkdWxlckZuKGZsdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5mdW5jdGlvbiBzZXRBc2FwKGFzYXBGbikge1xuICBhc2FwID0gYXNhcEZuO1xufVxuXG52YXIgYnJvd3NlcldpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xudmFyIGJyb3dzZXJHbG9iYWwgPSBicm93c2VyV2luZG93IHx8IHt9O1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICh7fSkudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdW5kZWZpbmVkO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cztcblxuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gIGlmIChfc3RhdGUpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gX2FyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pKCk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZXNvbHZlKDEpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgxKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlc29sdmVcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gdmFsdWUgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgYHZhbHVlYFxuKi9cbmZ1bmN0aW9uIHJlc29sdmUkMShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG52YXIgR0VUX1RIRU5fRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGhlbihwcm9taXNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgIHJldHVybiBHRVRfVEhFTl9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4kJDEsIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuJCQxLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4kJDEsIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiQkMSA9PT0gR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgICBHRVRfVEhFTl9FUlJPUi5lcnJvciA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0aGVuJCQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoZW4kJDEpKSB7XG4gICAgICBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgfSBlbHNlIGlmIChvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIGdldFRoZW4odmFsdWUpKTtcbiAgfSBlbHNlIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gIH1cblxuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRDtcblxuICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgYXNhcChwdWJsaXNoLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuICBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEO1xuICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgYXNhcChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBfc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICB2YXIgbGVuZ3RoID0gX3N1YnNjcmliZXJzLmxlbmd0aDtcblxuICBwYXJlbnQuX29uZXJyb3IgPSBudWxsO1xuXG4gIF9zdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSA9IG9uUmVqZWN0aW9uO1xuXG4gIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgIGFzYXAocHVibGlzaCwgcGFyZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjaGlsZCA9IHVuZGVmaW5lZCxcbiAgICAgIGNhbGxiYWNrID0gdW5kZWZpbmVkLFxuICAgICAgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbn1cblxuZnVuY3Rpb24gRXJyb3JPYmplY3QoKSB7XG4gIHRoaXMuZXJyb3IgPSBudWxsO1xufVxuXG52YXIgVFJZX0NBVENIX0VSUk9SID0gbmV3IEVycm9yT2JqZWN0KCk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgcmV0dXJuIFRSWV9DQVRDSF9FUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgdmFsdWUgPSB1bmRlZmluZWQsXG4gICAgICBlcnJvciA9IHVuZGVmaW5lZCxcbiAgICAgIHN1Y2NlZWRlZCA9IHVuZGVmaW5lZCxcbiAgICAgIGZhaWxlZCA9IHVuZGVmaW5lZDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgdmFsdWUuZXJyb3IgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICB9XG59XG5cbnZhciBpZCA9IDA7XG5mdW5jdGlvbiBuZXh0SWQoKSB7XG4gIHJldHVybiBpZCsrO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gIHByb21pc2VbUFJPTUlTRV9JRF0gPSBpZCsrO1xuICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xufVxuXG5mdW5jdGlvbiBFbnVtZXJhdG9yJDEoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICB0aGlzLl9lbnVtZXJhdGUoaW5wdXQpO1xuICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KHRoaXMucHJvbWlzZSwgdmFsaWRhdGlvbkVycm9yKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRpb25FcnJvcigpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG59XG5cbkVudW1lcmF0b3IkMS5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgfVxufTtcblxuRW51bWVyYXRvciQxLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgdmFyIHJlc29sdmUkJDEgPSBjLnJlc29sdmU7XG5cbiAgaWYgKHJlc29sdmUkJDEgPT09IHJlc29sdmUkMSkge1xuICAgIHZhciBfdGhlbiA9IGdldFRoZW4oZW50cnkpO1xuXG4gICAgaWYgKF90aGVuID09PSB0aGVuICYmIGVudHJ5Ll9zdGF0ZSAhPT0gUEVORElORykge1xuICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgX3RoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgfSBlbHNlIGlmIChjID09PSBQcm9taXNlJDIpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobm9vcCk7XG4gICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbiAocmVzb2x2ZSQkMSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSQkMShlbnRyeSk7XG4gICAgICB9KSwgaSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlJCQxKGVudHJ5KSwgaSk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IkMS5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yJDEucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiAocHJvbWlzZSwgaSkge1xuICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gIH0pO1xufTtcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gYWxsJDEoZW50cmllcykge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IkMSh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZSQxKGVudHJpZXMpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkoZW50cmllcykpIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkIGByZWFzb25gLlxuICBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIENvZGUgaGVyZSBkb2Vzbid0IHJ1biBiZWNhdXNlIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkIVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnV0hPT1BTJ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZWplY3RcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gcmVhc29uIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBnaXZlbiBgcmVhc29uYC5cbiovXG5mdW5jdGlvbiByZWplY3QkMShyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5mdW5jdGlvbiBQcm9taXNlJDIocmVzb2x2ZXIpIHtcbiAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlJDIgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICB9XG59XG5cblByb21pc2UkMi5hbGwgPSBhbGwkMTtcblByb21pc2UkMi5yYWNlID0gcmFjZSQxO1xuUHJvbWlzZSQyLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlJDIucmVqZWN0ID0gcmVqZWN0JDE7XG5Qcm9taXNlJDIuX3NldFNjaGVkdWxlciA9IHNldFNjaGVkdWxlcjtcblByb21pc2UkMi5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlJDIuX2FzYXAgPSBhc2FwO1xuXG5Qcm9taXNlJDIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSQyLFxuXG4gIC8qKlxuICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIENoYWluaW5nXG4gICAgLS0tLS0tLS1cbiAgXG4gICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gIFxuICAgIGBgYGpzXG4gICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgfSk7XG4gIFxuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICAgIH0pO1xuICAgIGBgYFxuICAgIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBBc3NpbWlsYXRpb25cbiAgICAtLS0tLS0tLS0tLS1cbiAgXG4gICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgXG4gICAgYGBganNcbiAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgU2ltcGxlIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgcmVzdWx0O1xuICBcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfVxuICAgIGBgYFxuICBcbiAgICBFcnJiYWNrIEV4YW1wbGVcbiAgXG4gICAgYGBganNcbiAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBQcm9taXNlIEV4YW1wbGU7XG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgLy8gc3VjY2Vzc1xuICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAtLS0tLS0tLS0tLS0tLVxuICBcbiAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gIFxuICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgYXV0aG9yLCBib29rcztcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEVycmJhY2sgRXhhbXBsZVxuICBcbiAgICBgYGBqc1xuICBcbiAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG4gIFxuICAgIH1cbiAgXG4gICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgXG4gICAgfVxuICBcbiAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIFByb21pc2UgRXhhbXBsZTtcbiAgXG4gICAgYGBgamF2YXNjcmlwdFxuICAgIGZpbmRBdXRob3IoKS5cbiAgICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgfSk7XG4gICAgYGBgXG4gIFxuICAgIEBtZXRob2QgdGhlblxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuICB0aGVuOiB0aGVuLFxuXG4gIC8qKlxuICAgIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBcbiAgICBgYGBqc1xuICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgIH1cbiAgXG4gICAgLy8gc3luY2hyb25vdXNcbiAgICB0cnkge1xuICAgICAgZmluZEF1dGhvcigpO1xuICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgIH1cbiAgXG4gICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBjYXRjaFxuICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG4gICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICB9XG59O1xuXG4vKmdsb2JhbCBzZWxmKi9cbmZ1bmN0aW9uIHBvbHlmaWxsJDEoKSB7XG4gICAgdmFyIGxvY2FsID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvY2FsID0gZ2xvYmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gICAgaWYgKFApIHtcbiAgICAgICAgdmFyIHByb21pc2VUb1N0cmluZyA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9taXNlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzZVRvU3RyaW5nID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9jYWwuUHJvbWlzZSA9IFByb21pc2UkMjtcbn1cblxuLy8gU3RyYW5nZSBjb21wYXQuLlxuUHJvbWlzZSQyLnBvbHlmaWxsID0gcG9seWZpbGwkMTtcblByb21pc2UkMi5Qcm9taXNlID0gUHJvbWlzZSQyO1xuXG5yZXR1cm4gUHJvbWlzZSQyO1xuXG59KSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lczYtcHJvbWlzZS5tYXBcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgYnVuZGxlRm4gPSBhcmd1bWVudHNbM107XG52YXIgc291cmNlcyA9IGFyZ3VtZW50c1s0XTtcbnZhciBjYWNoZSA9IGFyZ3VtZW50c1s1XTtcblxudmFyIHN0cmluZ2lmeSA9IEpTT04uc3RyaW5naWZ5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIHZhciB3a2V5O1xuICAgIHZhciBjYWNoZUtleXMgPSBPYmplY3Qua2V5cyhjYWNoZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNhY2hlS2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGNhY2hlS2V5c1tpXTtcbiAgICAgICAgdmFyIGV4cCA9IGNhY2hlW2tleV0uZXhwb3J0cztcbiAgICAgICAgLy8gVXNpbmcgYmFiZWwgYXMgYSB0cmFuc3BpbGVyIHRvIHVzZSBlc21vZHVsZSwgdGhlIGV4cG9ydCB3aWxsIGFsd2F5c1xuICAgICAgICAvLyBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZGVmYXVsdCBleHBvcnQgYXMgYSBwcm9wZXJ0eSBvZiBpdC4gVG8gZW5zdXJlXG4gICAgICAgIC8vIHRoZSBleGlzdGluZyBhcGkgYW5kIGJhYmVsIGVzbW9kdWxlIGV4cG9ydHMgYXJlIGJvdGggc3VwcG9ydGVkIHdlXG4gICAgICAgIC8vIGNoZWNrIGZvciBib3RoXG4gICAgICAgIGlmIChleHAgPT09IGZuIHx8IGV4cCAmJiBleHAuZGVmYXVsdCA9PT0gZm4pIHtcbiAgICAgICAgICAgIHdrZXkgPSBrZXk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghd2tleSkge1xuICAgICAgICB3a2V5ID0gTWF0aC5mbG9vcihNYXRoLnBvdygxNiwgOCkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7XG4gICAgICAgIHZhciB3Y2FjaGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWNoZUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY2FjaGVLZXlzW2ldO1xuICAgICAgICAgICAgd2NhY2hlW2tleV0gPSBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlc1t3a2V5XSA9IFtcbiAgICAgICAgICAgIEZ1bmN0aW9uKFsncmVxdWlyZScsJ21vZHVsZScsJ2V4cG9ydHMnXSwgJygnICsgZm4gKyAnKShzZWxmKScpLFxuICAgICAgICAgICAgd2NhY2hlXG4gICAgICAgIF07XG4gICAgfVxuICAgIHZhciBza2V5ID0gTWF0aC5mbG9vcihNYXRoLnBvdygxNiwgOCkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7XG5cbiAgICB2YXIgc2NhY2hlID0ge307IHNjYWNoZVt3a2V5XSA9IHdrZXk7XG4gICAgc291cmNlc1tza2V5XSA9IFtcbiAgICAgICAgRnVuY3Rpb24oWydyZXF1aXJlJ10sIChcbiAgICAgICAgICAgIC8vIHRyeSB0byBjYWxsIGRlZmF1bHQgaWYgZGVmaW5lZCB0byBhbHNvIHN1cHBvcnQgYmFiZWwgZXNtb2R1bGVcbiAgICAgICAgICAgIC8vIGV4cG9ydHNcbiAgICAgICAgICAgICd2YXIgZiA9IHJlcXVpcmUoJyArIHN0cmluZ2lmeSh3a2V5KSArICcpOycgK1xuICAgICAgICAgICAgJyhmLmRlZmF1bHQgPyBmLmRlZmF1bHQgOiBmKShzZWxmKTsnXG4gICAgICAgICkpLFxuICAgICAgICBzY2FjaGVcbiAgICBdO1xuXG4gICAgdmFyIHdvcmtlclNvdXJjZXMgPSB7fTtcbiAgICByZXNvbHZlU291cmNlcyhza2V5KTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVTb3VyY2VzKGtleSkge1xuICAgICAgICB3b3JrZXJTb3VyY2VzW2tleV0gPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGRlcFBhdGggaW4gc291cmNlc1trZXldWzFdKSB7XG4gICAgICAgICAgICB2YXIgZGVwS2V5ID0gc291cmNlc1trZXldWzFdW2RlcFBhdGhdO1xuICAgICAgICAgICAgaWYgKCF3b3JrZXJTb3VyY2VzW2RlcEtleV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlU291cmNlcyhkZXBLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNyYyA9ICcoJyArIGJ1bmRsZUZuICsgJykoeydcbiAgICAgICAgKyBPYmplY3Qua2V5cyh3b3JrZXJTb3VyY2VzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShrZXkpICsgJzpbJ1xuICAgICAgICAgICAgICAgICsgc291cmNlc1trZXldWzBdXG4gICAgICAgICAgICAgICAgKyAnLCcgKyBzdHJpbmdpZnkoc291cmNlc1trZXldWzFdKSArICddJ1xuICAgICAgICAgICAgO1xuICAgICAgICB9KS5qb2luKCcsJylcbiAgICAgICAgKyAnfSx7fSxbJyArIHN0cmluZ2lmeShza2V5KSArICddKSdcbiAgICA7XG5cbiAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMO1xuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmJhcmUpIHsgcmV0dXJuIGJsb2I7IH1cbiAgICB2YXIgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVcmwpO1xuICAgIHdvcmtlci5vYmplY3RVUkwgPSB3b3JrZXJVcmw7XG4gICAgcmV0dXJuIHdvcmtlcjtcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgZW5hYmxlV29ya2VyOiBmYWxzZSxcbiAgICBlbmFibGVTdGFzaEJ1ZmZlcjogdHJ1ZSxcbiAgICBzdGFzaEluaXRpYWxTaXplOiB1bmRlZmluZWQsXG5cbiAgICBpc0xpdmU6IGZhbHNlLFxuXG4gICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgbGF6eUxvYWRNYXhEdXJhdGlvbjogMyAqIDYwLFxuICAgIGxhenlMb2FkUmVjb3ZlckR1cmF0aW9uOiAzMCxcbiAgICBkZWZlckxvYWRBZnRlclNvdXJjZU9wZW46IHRydWUsXG5cbiAgICAvLyBhdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlcjogZGVmYXVsdCBhcyBmYWxzZSwgbGVhdmUgdW5zcGVjaWZpZWRcbiAgICBhdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb246IDMgKiA2MCxcbiAgICBhdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb246IDIgKiA2MCxcblxuICAgIHN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWw6IDYwMCxcblxuICAgIGZpeEF1ZGlvVGltZXN0YW1wR2FwOiB0cnVlLFxuXG4gICAgYWNjdXJhdGVTZWVrOiBmYWxzZSxcbiAgICBzZWVrVHlwZTogJ3JhbmdlJywgIC8vIFtyYW5nZSwgcGFyYW0sIGN1c3RvbV1cbiAgICBzZWVrUGFyYW1TdGFydDogJ2JzdGFydCcsXG4gICAgc2Vla1BhcmFtRW5kOiAnYmVuZCcsXG4gICAgcmFuZ2VMb2FkWmVyb1N0YXJ0OiBmYWxzZSxcbiAgICBjdXN0b21TZWVrSGFuZGxlcjogdW5kZWZpbmVkLFxuICAgIHJldXNlUmVkaXJlY3RlZFVSTDogZmFsc2VcbiAgICAvLyByZWZlcnJlclBvbGljeTogbGVhdmUgYXMgdW5zcGVjaWZpZWRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q29uZmlnKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnKTtcbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IElPQ29udHJvbGxlciBmcm9tICcuLi9pby9pby1jb250cm9sbGVyLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdENvbmZpZ30gZnJvbSAnLi4vY29uZmlnLmpzJztcblxuY2xhc3MgRmVhdHVyZXMge1xuXG4gICAgc3RhdGljIHN1cHBvcnRNU0VIMjY0UGxheWJhY2soKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuTWVkaWFTb3VyY2UgJiZcbiAgICAgICAgICAgICAgIHdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUUsbXA0YS40MC4yXCInKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc3VwcG9ydE5ldHdvcmtTdHJlYW1JTygpIHtcbiAgICAgICAgbGV0IGlvY3RsID0gbmV3IElPQ29udHJvbGxlcih7fSwgY3JlYXRlRGVmYXVsdENvbmZpZygpKTtcbiAgICAgICAgbGV0IGxvYWRlclR5cGUgPSBpb2N0bC5sb2FkZXJUeXBlO1xuICAgICAgICBpb2N0bC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBsb2FkZXJUeXBlID09ICdmZXRjaC1zdHJlYW0tbG9hZGVyJyB8fCBsb2FkZXJUeXBlID09ICd4aHItbW96LWNodW5rZWQtbG9hZGVyJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TmV0d29ya0xvYWRlclR5cGVOYW1lKCkge1xuICAgICAgICBsZXQgaW9jdGwgPSBuZXcgSU9Db250cm9sbGVyKHt9LCBjcmVhdGVEZWZhdWx0Q29uZmlnKCkpO1xuICAgICAgICBsZXQgbG9hZGVyVHlwZSA9IGlvY3RsLmxvYWRlclR5cGU7XG4gICAgICAgIGlvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgcmV0dXJuIGxvYWRlclR5cGU7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1cHBvcnROYXRpdmVNZWRpYVBsYXliYWNrKG1pbWVUeXBlKSB7XG4gICAgICAgIGlmIChGZWF0dXJlcy52aWRlb0VsZW1lbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBGZWF0dXJlcy52aWRlb0VsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FuUGxheSA9IEZlYXR1cmVzLnZpZGVvRWxlbWVudC5jYW5QbGF5VHlwZShtaW1lVHlwZSk7XG4gICAgICAgIHJldHVybiBjYW5QbGF5ID09PSAncHJvYmFibHknIHx8IGNhblBsYXkgPT0gJ21heWJlJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RmVhdHVyZUxpc3QoKSB7XG4gICAgICAgIGxldCBmZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIG1zZUZsdlBsYXliYWNrOiBmYWxzZSxcbiAgICAgICAgICAgIG1zZUxpdmVGbHZQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuZXR3b3JrU3RyZWFtSU86IGZhbHNlLFxuICAgICAgICAgICAgbmV0d29ya0xvYWRlck5hbWU6ICcnLFxuICAgICAgICAgICAgbmF0aXZlTVA0SDI2NFBsYXliYWNrOiBmYWxzZSxcbiAgICAgICAgICAgIG5hdGl2ZVdlYm1WUDhQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuYXRpdmVXZWJtVlA5UGxheWJhY2s6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZmVhdHVyZXMubXNlRmx2UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TVNFSDI2NFBsYXliYWNrKCk7XG4gICAgICAgIGZlYXR1cmVzLm5ldHdvcmtTdHJlYW1JTyA9IEZlYXR1cmVzLnN1cHBvcnROZXR3b3JrU3RyZWFtSU8oKTtcbiAgICAgICAgZmVhdHVyZXMubmV0d29ya0xvYWRlck5hbWUgPSBGZWF0dXJlcy5nZXROZXR3b3JrTG9hZGVyVHlwZU5hbWUoKTtcbiAgICAgICAgZmVhdHVyZXMubXNlTGl2ZUZsdlBsYXliYWNrID0gZmVhdHVyZXMubXNlRmx2UGxheWJhY2sgJiYgZmVhdHVyZXMubmV0d29ya1N0cmVhbUlPO1xuICAgICAgICBmZWF0dXJlcy5uYXRpdmVNUDRIMjY0UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaygndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyMDAxRSwgbXA0YS40MC4yXCInKTtcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlV2VibVZQOFBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOC4wLCB2b3JiaXNcIicpO1xuICAgICAgICBmZWF0dXJlcy5uYXRpdmVXZWJtVlA5UGxheWJhY2sgPSBGZWF0dXJlcy5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaygndmlkZW8vd2VibTsgY29kZWNzPVwidnA5XCInKTtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmVzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBNZWRpYUluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWltZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhc0F1ZGlvID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNWaWRlbyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9EYXRhUmF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9EYXRhUmF0ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLmNocm9tYUZvcm1hdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FyTnVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zYXJEZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbnVsbDsgIC8vIE1lZGlhSW5mb1tdXG4gICAgICAgIHRoaXMuc2VnbWVudENvdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNLZXlmcmFtZXNJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMua2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgIH1cblxuICAgIGlzQ29tcGxldGUoKSB7XG4gICAgICAgIGxldCBhdWRpb0luZm9Db21wbGV0ZSA9ICh0aGlzLmhhc0F1ZGlvID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaGFzQXVkaW8gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvU2FtcGxlUmF0ZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ICE9IG51bGwpO1xuXG4gICAgICAgIGxldCB2aWRlb0luZm9Db21wbGV0ZSA9ICh0aGlzLmhhc1ZpZGVvID09PSBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaGFzVmlkZW8gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZmlsZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hyb21hRm9ybWF0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FyTnVtICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2FyRGVuICE9IG51bGwpO1xuXG4gICAgICAgIC8vIGtleWZyYW1lc0luZGV4IG1heSBub3QgYmUgcHJlc2VudFxuICAgICAgICByZXR1cm4gdGhpcy5taW1lVHlwZSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICB0aGlzLmR1cmF0aW9uICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgdGhpcy5oYXNLZXlmcmFtZXNJbmRleCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICBhdWRpb0luZm9Db21wbGV0ZSAmJlxuICAgICAgICAgICAgICAgdmlkZW9JbmZvQ29tcGxldGU7XG4gICAgfVxuXG4gICAgaXNTZWVrYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzS2V5ZnJhbWVzSW5kZXggPT09IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0TmVhcmVzdEtleWZyYW1lKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAodGhpcy5rZXlmcmFtZXNJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMua2V5ZnJhbWVzSW5kZXg7XG4gICAgICAgIGxldCBrZXlmcmFtZUlkeCA9IHRoaXMuX3NlYXJjaCh0YWJsZS50aW1lcywgbWlsbGlzZWNvbmRzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGtleWZyYW1lSWR4LFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiB0YWJsZS50aW1lc1trZXlmcmFtZUlkeF0sXG4gICAgICAgICAgICBmaWxlcG9zaXRpb246IHRhYmxlLmZpbGVwb3NpdGlvbnNba2V5ZnJhbWVJZHhdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3NlYXJjaChsaXN0LCB2YWx1ZSkge1xuICAgICAgICBsZXQgaWR4ID0gMDtcblxuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAodmFsdWUgPCBsaXN0WzBdKSB7XG4gICAgICAgICAgICBpZHggPSAwO1xuICAgICAgICAgICAgbGJvdW5kID0gdWJvdW5kICsgMTsgIC8vIHNraXAgc2VhcmNoXG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAodmFsdWUgPj0gbGlzdFttaWRdICYmIHZhbHVlIDwgbGlzdFttaWQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXSA8IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZHg7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhSW5mbzsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gUmVwcmVzZW50cyBhbiBtZWRpYSBzYW1wbGUgKGF1ZGlvIC8gdmlkZW8pXG5leHBvcnQgY2xhc3MgU2FtcGxlSW5mbyB7XG5cbiAgICBjb25zdHJ1Y3RvcihkdHMsIHB0cywgZHVyYXRpb24sIG9yaWdpbmFsRHRzLCBpc1N5bmMpIHtcbiAgICAgICAgdGhpcy5kdHMgPSBkdHM7XG4gICAgICAgIHRoaXMucHRzID0gcHRzO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMub3JpZ2luYWxEdHMgPSBvcmlnaW5hbER0cztcbiAgICAgICAgdGhpcy5pc1N5bmNQb2ludCA9IGlzU3luYztcbiAgICAgICAgdGhpcy5maWxlcG9zaXRpb24gPSBudWxsO1xuICAgIH1cblxufVxuXG4vLyBNZWRpYSBTZWdtZW50IGNvbmNlcHQgaXMgZGVmaW5lZCBpbiBNZWRpYSBTb3VyY2UgRXh0ZW5zaW9ucyBzcGVjLlxuLy8gUGFydGljdWxhcmx5IGluIElTTyBCTUZGIGZvcm1hdCwgYW4gTWVkaWEgU2VnbWVudCBjb250YWlucyBhIG1vb2YgYm94IGZvbGxvd2VkIGJ5IGEgbWRhdCBib3guXG5leHBvcnQgY2xhc3MgTWVkaWFTZWdtZW50SW5mbyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iZWdpbkR0cyA9IDA7XG4gICAgICAgIHRoaXMuZW5kRHRzID0gMDtcbiAgICAgICAgdGhpcy5iZWdpblB0cyA9IDA7XG4gICAgICAgIHRoaXMuZW5kUHRzID0gMDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEJlZ2luRHRzID0gMDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZER0cyA9IDA7XG4gICAgICAgIHRoaXMuc3luY1BvaW50cyA9IFtdOyAgICAgLy8gU2FtcGxlSW5mb1tuXSwgZm9yIHZpZGVvIElEUiBmcmFtZXMgb25seVxuICAgICAgICB0aGlzLmZpcnN0U2FtcGxlID0gbnVsbDsgIC8vIFNhbXBsZUluZm9cbiAgICAgICAgdGhpcy5sYXN0U2FtcGxlID0gbnVsbDsgICAvLyBTYW1wbGVJbmZvXG4gICAgfVxuXG4gICAgYXBwZW5kU3luY1BvaW50KHNhbXBsZUluZm8pIHsgIC8vIGFsc28gY2FsbGVkIFJhbmRvbSBBY2Nlc3MgUG9pbnRcbiAgICAgICAgc2FtcGxlSW5mby5pc1N5bmNQb2ludCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3luY1BvaW50cy5wdXNoKHNhbXBsZUluZm8pO1xuICAgIH1cblxufVxuXG4vLyBPcmRlcmVkIGxpc3QgZm9yIHJlY29yZGluZyB2aWRlbyBJRFIgZnJhbWVzLCBzb3J0ZWQgYnkgb3JpZ2luYWxEdHNcbmV4cG9ydCBjbGFzcyBJRFJTYW1wbGVMaXN0IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9saXN0ID0gW107XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBhcHBlbmRBcnJheShzeW5jUG9pbnRzKSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fbGlzdDtcblxuICAgICAgICBpZiAoc3luY1BvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDAgJiYgc3luY1BvaW50c1swXS5vcmlnaW5hbER0cyA8IGxpc3RbbGlzdC5sZW5ndGggLSAxXS5vcmlnaW5hbER0cykge1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobGlzdCwgc3luY1BvaW50cyk7XG4gICAgfVxuXG4gICAgZ2V0TGFzdFN5bmNQb2ludEJlZm9yZUR0cyhkdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgaWYgKGR0cyA8IGxpc3RbMF0uZHRzKSB7XG4gICAgICAgICAgICBpZHggPSAwO1xuICAgICAgICAgICAgbGJvdW5kID0gdWJvdW5kICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChkdHMgPj0gbGlzdFttaWRdLmR0cyAmJiBkdHMgPCBsaXN0W21pZCArIDFdLmR0cykpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXS5kdHMgPCBkdHMpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0W2lkeF07XG4gICAgfVxuXG59XG5cbi8vIERhdGEgc3RydWN0dXJlIGZvciByZWNvcmRpbmcgaW5mb3JtYXRpb24gb2YgbWVkaWEgc2VnbWVudHMgaW4gc2luZ2xlIHRyYWNrLlxuZXhwb3J0IGNsYXNzIE1lZGlhU2VnbWVudEluZm9MaXN0IHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uID0gLTE7ICAvLyBjYWNoZWQgbGFzdCBpbnNlcnQgbG9jYXRpb25cbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSAtMTtcbiAgICB9XG5cbiAgICBfc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0yO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGxldCBpZHggPSAwO1xuXG4gICAgICAgIGlmIChvcmlnaW5hbEJlZ2luRHRzIDwgbGlzdFswXS5vcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgICAgICBpZHggPSAtMTtcbiAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAob3JpZ2luYWxCZWdpbkR0cyA+IGxpc3RbbWlkXS5sYXN0U2FtcGxlLm9yaWdpbmFsRHRzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcmlnaW5hbEJlZ2luRHRzIDwgbGlzdFttaWQgKyAxXS5vcmlnaW5hbEJlZ2luRHRzKSkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBtaWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXS5vcmlnaW5hbEJlZ2luRHRzIDwgb3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbiAgICBfc2VhcmNoTmVhcmVzdFNlZ21lbnRBZnRlcihvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSArIDE7XG4gICAgfVxuXG4gICAgYXBwZW5kKG1lZGlhU2VnbWVudEluZm8pIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBsZXQgbXNpID0gbWVkaWFTZWdtZW50SW5mbztcbiAgICAgICAgbGV0IGxhc3RBcHBlbmRJZHggPSB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb247XG4gICAgICAgIGxldCBpbnNlcnRJZHggPSAwO1xuXG4gICAgICAgIGlmIChsYXN0QXBwZW5kSWR4ICE9PSAtMSAmJiBsYXN0QXBwZW5kSWR4IDwgbGlzdC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zaS5vcmlnaW5hbEJlZ2luRHRzID49IGxpc3RbbGFzdEFwcGVuZElkeF0ubGFzdFNhbXBsZS5vcmlnaW5hbER0cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChsYXN0QXBwZW5kSWR4ID09PSBsaXN0Lmxlbmd0aCAtIDEpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobGFzdEFwcGVuZElkeCA8IGxpc3QubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNpLm9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0W2xhc3RBcHBlbmRJZHggKyAxXS5vcmlnaW5hbEJlZ2luRHRzKSkpIHtcbiAgICAgICAgICAgIGluc2VydElkeCA9IGxhc3RBcHBlbmRJZHggKyAxOyAgLy8gdXNlIGNhY2hlZCBsb2NhdGlvbiBpZHhcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRJZHggPSB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShtc2kub3JpZ2luYWxCZWdpbkR0cykgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uID0gaW5zZXJ0SWR4O1xuICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpbnNlcnRJZHgsIDAsIG1zaSk7XG4gICAgfVxuXG4gICAgZ2V0TGFzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICAgICAgfSBlbHNlIHsgIC8vIC0xXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhc3RTYW1wbGVCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgc2VnbWVudCA9IHRoaXMuZ2V0TGFzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGlmIChzZWdtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50Lmxhc3RTYW1wbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldExhc3RTeW5jUG9pbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cykge1xuICAgICAgICBsZXQgc2VnbWVudElkeCA9IHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpO1xuICAgICAgICBsZXQgc3luY1BvaW50cyA9IHRoaXMuX2xpc3Rbc2VnbWVudElkeF0uc3luY1BvaW50cztcbiAgICAgICAgd2hpbGUgKHN5bmNQb2ludHMubGVuZ3RoID09PSAwICYmIHNlZ21lbnRJZHggPiAwKSB7XG4gICAgICAgICAgICBzZWdtZW50SWR4LS07XG4gICAgICAgICAgICBzeW5jUG9pbnRzID0gdGhpcy5fbGlzdFtzZWdtZW50SWR4XS5zeW5jUG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzeW5jUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzeW5jUG9pbnRzW3N5bmNQb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCBNU0VFdmVudHMgZnJvbSAnLi9tc2UtZXZlbnRzLmpzJztcbmltcG9ydCB7U2FtcGxlSW5mbywgSURSU2FtcGxlTGlzdH0gZnJvbSAnLi9tZWRpYS1zZWdtZW50LWluZm8uanMnO1xuaW1wb3J0IHtJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIE1lZGlhIFNvdXJjZSBFeHRlbnNpb25zIGNvbnRyb2xsZXJcbmNsYXNzIE1TRUNvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ01TRUNvbnRyb2xsZXInO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmlzTGl2ZSAmJiB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBGb3IgbGl2ZSBzdHJlYW0sIGRvIGF1dG8gY2xlYW51cCBieSBkZWZhdWx0XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgb25Tb3VyY2VPcGVuOiB0aGlzLl9vblNvdXJjZU9wZW4uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlRW5kZWQ6IHRoaXMuX29uU291cmNlRW5kZWQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQ2xvc2U6IHRoaXMuX29uU291cmNlQ2xvc2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQnVmZmVyRXJyb3I6IHRoaXMuX29uU291cmNlQnVmZmVyRXJyb3IuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uU291cmNlQnVmZmVyVXBkYXRlRW5kOiB0aGlzLl9vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQgPSBbXTtcbiAgICAgICAgdGhpcy5fbWltZVR5cGVzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zb3VyY2VCdWZmZXJzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzID0ge1xuICAgICAgICAgICAgdmlkZW86IG51bGwsXG4gICAgICAgICAgICBhdWRpbzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHMgPSB7XG4gICAgICAgICAgICB2aWRlbzogW10sXG4gICAgICAgICAgICBhdWRpbzogW11cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBbXSxcbiAgICAgICAgICAgIGF1ZGlvOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9pZHJMaXN0ID0gbmV3IElEUlNhbXBsZUxpc3QoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50IHx8IHRoaXMuX21lZGlhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaE1lZGlhRWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgYXR0YWNoTWVkaWFFbGVtZW50KG1lZGlhRWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01lZGlhU291cmNlIGhhcyBiZWVuIGF0dGFjaGVkIHRvIGFuIEhUTUxNZWRpYUVsZW1lbnQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1zID0gdGhpcy5fbWVkaWFTb3VyY2UgPSBuZXcgd2luZG93Lk1lZGlhU291cmNlKCk7XG4gICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLmUub25Tb3VyY2VFbmRlZCk7XG4gICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5lLm9uU291cmNlQ2xvc2UpO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG1lZGlhRWxlbWVudDtcbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLl9tZWRpYVNvdXJjZSk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5zcmMgPSB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTDtcbiAgICB9XG5cbiAgICBkZXRhY2hNZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgbGV0IG1zID0gdGhpcy5fbWVkaWFTb3VyY2U7XG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3NvdXJjZUJ1ZmZlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBwZW5kaW5nIHNlZ21lbnRzIHNob3VsZCBiZSBkaXNjYXJkXG4gICAgICAgICAgICAgICAgbGV0IHBzID0gdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdO1xuICAgICAgICAgICAgICAgIHBzLnNwbGljZSgwLCBwcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEluaXRTZWdtZW50c1t0eXBlXSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXMucmVhZHlTdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zLnJlbW92ZVNvdXJjZUJ1ZmZlcihzYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWltZVR5cGVzW3R5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1zLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5lLm9uU291cmNlRW5kZWQpO1xuICAgICAgICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLmUub25Tb3VyY2VDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9pZHJMaXN0LmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMKSB7XG4gICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRJbml0U2VnbWVudChpbml0U2VnbWVudCwgZGVmZXJyZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYVNvdXJjZSB8fCB0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIC8vIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiByZXF1aXJlcyBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbidcbiAgICAgICAgICAgIC8vIHNvIHdlIGRlZmVyIHRoZSBzb3VyY2VidWZmZXIgY3JlYXRpb24sIHVudGlsIHNvdXJjZW9wZW4gZXZlbnQgdHJpZ2dlcmVkXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoaXMgSW5pdFNlZ21lbnQgaXMgaW4gdGhlIGZyb250IG9mIHBlbmRpbmcgc2VnbWVudHMgcXVldWVcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1tpbml0U2VnbWVudC50eXBlXS5wdXNoKGluaXRTZWdtZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpcyA9IGluaXRTZWdtZW50O1xuICAgICAgICBsZXQgbWltZVR5cGUgPSBgJHtpcy5jb250YWluZXJ9YDtcbiAgICAgICAgaWYgKGlzLmNvZGVjICYmIGlzLmNvZGVjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1pbWVUeXBlICs9IGA7Y29kZWNzPSR7aXMuY29kZWN9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaXJzdEluaXRTZWdtZW50ID0gZmFsc2U7XG5cbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdSZWNlaXZlZCBJbml0aWFsaXphdGlvbiBTZWdtZW50LCBtaW1lVHlwZTogJyArIG1pbWVUeXBlKTtcbiAgICAgICAgdGhpcy5fbGFzdEluaXRTZWdtZW50c1tpcy50eXBlXSA9IGlzO1xuXG4gICAgICAgIGlmIChtaW1lVHlwZSAhPT0gdGhpcy5fbWltZVR5cGVzW2lzLnR5cGVdKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21pbWVUeXBlc1tpcy50eXBlXSkgeyAgLy8gZW1wdHksIGZpcnN0IGNoYW5jZSBjcmVhdGUgc291cmNlYnVmZmVyXG4gICAgICAgICAgICAgICAgZmlyc3RJbml0U2VnbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1tpcy50eXBlXSA9IHRoaXMuX21lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5lLm9uU291cmNlQnVmZmVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLmUub25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KE1TRUV2ZW50cy5FUlJPUiwge2NvZGU6IGVycm9yLmNvZGUsIG1zZzogZXJyb3IubWVzc2FnZX0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgYE5vdGljZTogJHtpcy50eXBlfSBtaW1lVHlwZSBjaGFuZ2VkLCBvcmlnaW46ICR7dGhpcy5fbWltZVR5cGVzW2lzLnR5cGVdfSwgdGFyZ2V0OiAke21pbWVUeXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWltZVR5cGVzW2lzLnR5cGVdID0gbWltZVR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmVycmVkKSB7XG4gICAgICAgICAgICAvLyBkZWZlcnJlZCBtZWFucyB0aGlzIEluaXRTZWdtZW50IGhhcyBiZWVuIHB1c2hlZCB0byBwZW5kaW5nU2VnbWVudHMgcXVldWVcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1tpcy50eXBlXS5wdXNoKGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZpcnN0SW5pdFNlZ21lbnQpIHsgIC8vIGFwcGVuZCBpbW1lZGlhdGVseSBvbmx5IGlmIGluaXQgc2VnbWVudCBpbiBzdWJzZXF1ZW5jZVxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvdXJjZUJ1ZmZlcnNbaXMudHlwZV0gJiYgIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbaXMudHlwZV0udXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kb0FwcGVuZFNlZ21lbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJyb3dzZXIuc2FmYXJpICYmIGlzLmNvbnRhaW5lciA9PT0gJ2F1ZGlvL21wZWcnICYmIGlzLm1lZGlhRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAvLyAnYXVkaW8vbXBlZycgdHJhY2sgdW5kZXIgU2FmYXJpIG1heSBjYXVzZSBNZWRpYUVsZW1lbnQncyBkdXJhdGlvbiB0byBiZSBOYU5cbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IGNvcnJlY3QgTWVkaWFTb3VyY2UuZHVyYXRpb24gdG8gbWFrZSBwcm9ncmVzcyBiYXIgc2Vla2FibGUsIGFuZCByZXBvcnQgcmlnaHQgZHVyYXRpb25cbiAgICAgICAgICAgIHRoaXMuX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uID0gaXMubWVkaWFEdXJhdGlvbiAvIDEwMDA7ICAvLyBpbiBzZWNvbmRzXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmRNZWRpYVNlZ21lbnQobWVkaWFTZWdtZW50KSB7XG4gICAgICAgIGxldCBtcyA9IG1lZGlhU2VnbWVudDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW21zLnR5cGVdLnB1c2gobXMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIgJiYgdGhpcy5fbmVlZENsZWFudXBTb3VyY2VCdWZmZXIoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9DbGVhbnVwU291cmNlQnVmZmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW21zLnR5cGVdO1xuICAgICAgICBpZiAoc2IgJiYgIXNiLnVwZGF0aW5nICYmICF0aGlzLl9oYXNQZW5kaW5nUmVtb3ZlUmFuZ2VzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsoc2Vjb25kcykge1xuICAgICAgICAvLyByZW1vdmUgYWxsIGFwcGVuZGVkIGJ1ZmZlcnNcbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWJvcnQgY3VycmVudCBidWZmZXIgYXBwZW5kIGFsZ29yaXRobVxuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiByYW5nZSByZW1vdmFsIGFsZ29yaXRobSBpcyBydW5uaW5nLCBJbnZhbGlkU3RhdGVFcnJvciB3aWxsIGJlIHRocm93ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGl0LlxuICAgICAgICAgICAgICAgICAgICBzYi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElEUkxpc3Qgc2hvdWxkIGJlIGNsZWFyXG4gICAgICAgICAgICB0aGlzLl9pZHJMaXN0LmNsZWFyKCk7XG5cbiAgICAgICAgICAgIC8vIHBlbmRpbmcgc2VnbWVudHMgc2hvdWxkIGJlIGRpc2NhcmRcbiAgICAgICAgICAgIGxldCBwcyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXTtcbiAgICAgICAgICAgIHBzLnNwbGljZSgwLCBwcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBQYXJlbnQgTWVkaWFTb3VyY2Ugb2JqZWN0IGhhcyBiZWVuIGRldGFjaGVkIGZyb20gSFRNTE1lZGlhRWxlbWVudFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZWNvcmQgcmFuZ2VzIHRvIGJlIHJlbW92ZSBmcm9tIFNvdXJjZUJ1ZmZlclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYi5idWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHNiLmJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgIGxldCBlbmQgPSBzYi5idWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXS5wdXNoKHtzdGFydCwgZW5kfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHNiIGlzIG5vdCB1cGRhdGluZywgbGV0J3MgcmVtb3ZlIHJhbmdlcyBub3chXG4gICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9SZW1vdmVSYW5nZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2FmYXJpIDEwIG1heSBnZXQgSW52YWxpZFN0YXRlRXJyb3IgaW4gdGhlIGxhdGVyIGFwcGVuZEJ1ZmZlcigpIGFmdGVyIFNvdXJjZUJ1ZmZlci5yZW1vdmUoKSBjYWxsXG4gICAgICAgICAgICAvLyBJbnRlcm5hbCBwYXJzZXIncyBzdGF0ZSBtYXkgYmUgaW52YWxpZCBhdCB0aGlzIHRpbWUuIFJlLWFwcGVuZCBsYXN0IEluaXRTZWdtZW50IHRvIHdvcmthcm91bmQuXG4gICAgICAgICAgICAvLyBSZWxhdGVkIGlzc3VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU5MjMwXG4gICAgICAgICAgICBpZiAoQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEluaXRTZWdtZW50ID0gdGhpcy5fbGFzdEluaXRTZWdtZW50c1t0eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXS5wdXNoKGxhc3RJbml0U2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZE9mU3RyZWFtKCkge1xuICAgICAgICBsZXQgbXMgPSB0aGlzLl9tZWRpYVNvdXJjZTtcbiAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVycztcbiAgICAgICAgaWYgKCFtcyB8fCBtcy5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIGlmIChtcyAmJiBtcy5yZWFkeVN0YXRlID09PSAnY2xvc2VkJyAmJiB0aGlzLl9oYXNQZW5kaW5nU2VnbWVudHMoKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIE1lZGlhU291cmNlIGhhc24ndCB0dXJuZWQgaW50byBvcGVuIHN0YXRlLCBhbmQgdGhlcmUncmUgcGVuZGluZyBzZWdtZW50c1xuICAgICAgICAgICAgICAgIC8vIE1hcmsgcGVuZGluZyBlbmRPZlN0cmVhbSwgZGVmZXIgY2FsbCB1bnRpbCBhbGwgcGVuZGluZyBzZWdtZW50cyBhcHBlbmRlZCBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYi52aWRlbyAmJiBzYi52aWRlby51cGRhdGluZyB8fCBzYi5hdWRpbyAmJiBzYi5hdWRpby51cGRhdGluZykge1xuICAgICAgICAgICAgLy8gSWYgYW55IHNvdXJjZWJ1ZmZlciBpcyB1cGRhdGluZywgZGVmZXIgZW5kT2ZTdHJlYW0gb3BlcmF0aW9uXG4gICAgICAgICAgICAvLyBTZWUgX29uU291cmNlQnVmZmVyVXBkYXRlRW5kKClcbiAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdFb3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0VvcyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gTm90aWZ5IG1lZGlhIGRhdGEgbG9hZGluZyBjb21wbGV0ZVxuICAgICAgICAgICAgLy8gVGhpcyBpcyBoZWxwZnVsIGZvciBjb3JyZWN0aW5nIHRvdGFsIGR1cmF0aW9uIHRvIG1hdGNoIGxhc3QgbWVkaWEgc2VnbWVudFxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIE1lZGlhRWxlbWVudCdzIGVuZGVkIGV2ZW50IG1heSBub3QgYmUgdHJpZ2dlcmVkXG4gICAgICAgICAgICBtcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TmVhcmVzdEtleWZyYW1lKGR0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRyTGlzdC5nZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzKGR0cyk7XG4gICAgfVxuXG4gICAgX25lZWRDbGVhbnVwU291cmNlQnVmZmVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fc291cmNlQnVmZmVycykge1xuICAgICAgICAgICAgbGV0IHNiID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChzYikge1xuICAgICAgICAgICAgICAgIGxldCBidWZmZXJlZCA9IHNiLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgICAgIGlmIChidWZmZXJlZC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBidWZmZXJlZC5zdGFydCgwKSA+PSB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfZG9DbGVhbnVwU291cmNlQnVmZmVyKCkge1xuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJ1ZmZlcmVkID0gc2IuYnVmZmVyZWQ7XG4gICAgICAgICAgICAgICAgbGV0IGRvUmVtb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kID0gYnVmZmVyZWQuZW5kKGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA8PSBjdXJyZW50VGltZSAmJiBjdXJyZW50VGltZSA8IGVuZCArIDMpIHsgIC8vIHBhZGRpbmcgMyBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBzdGFydCA+PSB0aGlzLl9jb25maWcuYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9SZW1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVFbmQgPSBjdXJyZW50VGltZSAtIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXS5wdXNoKHtzdGFydDogc3RhcnQsIGVuZDogcmVtb3ZlRW5kfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kIDwgY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV0ucHVzaCh7c3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRvUmVtb3ZlICYmICFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kb1JlbW92ZVJhbmdlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCkge1xuICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzO1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUgPT09IDAgfHwgdGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSAhPT0gJ29wZW4nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzYi52aWRlbyAmJiBzYi52aWRlby51cGRhdGluZykgfHwgKHNiLmF1ZGlvICYmIHNiLmF1ZGlvLnVwZGF0aW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLl9tZWRpYVNvdXJjZS5kdXJhdGlvbjtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPiAwICYmIChpc05hTihjdXJyZW50KSB8fCB0YXJnZXQgPiBjdXJyZW50KSkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBVcGRhdGUgTWVkaWFTb3VyY2UgZHVyYXRpb24gZnJvbSAke2N1cnJlbnR9IHRvICR7dGFyZ2V0fWApO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UuZHVyYXRpb24gPSB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbiA9IDA7XG4gICAgfVxuXG4gICAgX2RvUmVtb3ZlUmFuZ2VzKCkge1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSB8fCB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdHlwZV07XG4gICAgICAgICAgICB3aGlsZSAocmFuZ2VzLmxlbmd0aCAmJiAhc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2UgPSByYW5nZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzYi5yZW1vdmUocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZG9BcHBlbmRTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IHBlbmRpbmdTZWdtZW50cyA9IHRoaXMuX3BlbmRpbmdTZWdtZW50cztcblxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHBlbmRpbmdTZWdtZW50cykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdIHx8IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0udXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBlbmRpbmdTZWdtZW50c1t0eXBlXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnQgPSBwZW5kaW5nU2VnbWVudHNbdHlwZV0uc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWdtZW50LnRpbWVzdGFtcE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgTVBFRyBhdWRpbyBzdHJlYW0gaW4gTVNFLCBpZiB1bmJ1ZmZlcmVkLXNlZWtpbmcgb2NjdXJyZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCBleHBsaWNpdGx5IHNldCB0aW1lc3RhbXBPZmZzZXQgdG8gdGhlIGRlc2lyZWQgcG9pbnQgaW4gdGltZWxpbmUgZm9yIG1wZWcgU291cmNlQnVmZmVyLlxuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE9mZnNldCA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0udGltZXN0YW1wT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0T2Zmc2V0ID0gc2VnbWVudC50aW1lc3RhbXBPZmZzZXQgLyAxMDAwOyAgLy8gaW4gc2Vjb25kc1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IE1hdGguYWJzKGN1cnJlbnRPZmZzZXQgLSB0YXJnZXRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPiAwLjEpIHsgIC8vIElmIHRpbWUgZGVsdGEgPiAxMDBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBVcGRhdGUgTVBFRyBhdWRpbyB0aW1lc3RhbXBPZmZzZXQgZnJvbSAke2N1cnJlbnRPZmZzZXR9IHRvICR7dGFyZ2V0T2Zmc2V0fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXS50aW1lc3RhbXBPZmZzZXQgPSB0YXJnZXRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNlZ21lbnQudGltZXN0YW1wT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghc2VnbWVudC5kYXRhIHx8IHNlZ21lbnQuZGF0YS5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlbXB0eSBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXS5hcHBlbmRCdWZmZXIoc2VnbWVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAndmlkZW8nICYmIHNlZ21lbnQuaGFzT3duUHJvcGVydHkoJ2luZm8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faWRyTGlzdC5hcHBlbmRBcnJheShzZWdtZW50LmluZm8uc3luY1BvaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbdHlwZV0udW5zaGlmdChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDIyKSB7ICAvLyBRdW90YUV4Y2VlZGVkRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIE5vdGljZSB0aGF0IEZpcmVGb3ggbWF5IG5vdCB0aHJvdyBRdW90YUV4Y2VlZGVkRXJyb3IgaWYgU291cmNlQnVmZmVyIGlzIGZ1bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEN1cnJlbnRseSB3ZSBjYW4gb25seSBkbyBsYXp5LWxvYWQgdG8gYXZvaWQgU291cmNlQnVmZmVyIGJlY29tZSBzY2F0dGVyZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTb3VyY2VCdWZmZXIgZXZpY3Rpb24gcG9saWN5IG1heSBiZSBjaGFuZ2VkIGluIGZ1dHVyZSB2ZXJzaW9uIG9mIEZpcmVGb3guXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogUmVsYXRlZCBpc3N1ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjc5ODg1XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjgwMDIzXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwb3J0IGJ1ZmZlciBmdWxsLCBhYm9ydCBuZXR3b3JrIElPXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzQnVmZmVyRnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuQlVGRkVSX0ZVTEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNCdWZmZXJGdWxsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuRVJST1IsIHtjb2RlOiBlcnJvci5jb2RlLCBtc2c6IGVycm9yLm1lc3NhZ2V9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblNvdXJjZU9wZW4oKSB7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnTWVkaWFTb3VyY2Ugb25Tb3VyY2VPcGVuJyk7XG4gICAgICAgIHRoaXMuX21lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgLy8gZGVmZXJyZWQgc291cmNlYnVmZmVyIGNyZWF0aW9uIC8gaW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwZW5kaW5ncyA9IHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0O1xuICAgICAgICAgICAgd2hpbGUgKHBlbmRpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gcGVuZGluZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEluaXRTZWdtZW50KHNlZ21lbnQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZXJlIG1heSBiZSBzb21lIHBlbmRpbmcgbWVkaWEgc2VnbWVudHMsIGFwcGVuZCB0aGVtXG4gICAgICAgIGlmICh0aGlzLl9oYXNQZW5kaW5nU2VnbWVudHMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuU09VUkNFX09QRU4pO1xuICAgIH1cblxuICAgIF9vblNvdXJjZUVuZGVkKCkge1xuICAgICAgICAvLyBmaXJlZCBvbiBlbmRPZlN0cmVhbVxuICAgICAgICBMb2cudih0aGlzLlRBRywgJ01lZGlhU291cmNlIG9uU291cmNlRW5kZWQnKTtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VDbG9zZSgpIHtcbiAgICAgICAgLy8gZmlyZWQgb24gZGV0YWNoaW5nIGZyb20gbWVkaWEgZWxlbWVudFxuICAgICAgICBMb2cudih0aGlzLlRBRywgJ01lZGlhU291cmNlIG9uU291cmNlQ2xvc2UnKTtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlICYmIHRoaXMuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5lLm9uU291cmNlT3Blbik7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMuZS5vblNvdXJjZUVuZGVkKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5lLm9uU291cmNlQ2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hhc1BlbmRpbmdTZWdtZW50cygpIHtcbiAgICAgICAgbGV0IHBzID0gdGhpcy5fcGVuZGluZ1NlZ21lbnRzO1xuICAgICAgICByZXR1cm4gcHMudmlkZW8ubGVuZ3RoID4gMCB8fCBwcy5hdWRpby5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIF9oYXNQZW5kaW5nUmVtb3ZlUmFuZ2VzKCkge1xuICAgICAgICBsZXQgcHJyID0gdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcztcbiAgICAgICAgcmV0dXJuIHByci52aWRlby5sZW5ndGggPiAwIHx8IHByci5hdWRpby5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIF9vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1JlbW92ZVJhbmdlcygpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2hhc1BlbmRpbmdTZWdtZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb0FwcGVuZFNlZ21lbnRzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faGFzUGVuZGluZ0Vvcykge1xuICAgICAgICAgICAgdGhpcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChNU0VFdmVudHMuVVBEQVRFX0VORCk7XG4gICAgfVxuXG4gICAgX29uU291cmNlQnVmZmVyRXJyb3IoZSkge1xuICAgICAgICBMb2cuZSh0aGlzLlRBRywgYFNvdXJjZUJ1ZmZlciBFcnJvcjogJHtlfWApO1xuICAgICAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwsIGp1c3QgaWdub3JlIGl0XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1TRUNvbnRyb2xsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IE1TRUV2ZW50cyA9IHtcbiAgICBFUlJPUjogJ2Vycm9yJyxcbiAgICBTT1VSQ0VfT1BFTjogJ3NvdXJjZV9vcGVuJyxcbiAgICBVUERBVEVfRU5EOiAndXBkYXRlX2VuZCcsXG4gICAgQlVGRkVSX0ZVTEw6ICdidWZmZXJfZnVsbCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1TRUV2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdDb250cm9sbGVyIGZyb20gJy4vdHJhbnNtdXhpbmctY29udHJvbGxlci5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdFdmVudHMgZnJvbSAnLi90cmFuc211eGluZy1ldmVudHMuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nV29ya2VyIGZyb20gJy4vdHJhbnNtdXhpbmctd29ya2VyLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi9tZWRpYS1pbmZvLmpzJztcblxuY2xhc3MgVHJhbnNtdXhlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdUcmFuc211eGVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZVdvcmtlciAmJiB0eXBlb2YgKFdvcmtlcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCB3b3JrID0gcmVxdWlyZSgnd2Vid29ya2lmeScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IHdvcmsoVHJhbnNtdXhpbmdXb3JrZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlckRlc3Ryb3lpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2luaXQnLCBwYXJhbTogW21lZGlhRGF0YVNvdXJjZSwgY29uZmlnXX0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZDogdGhpcy5fb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5yZWdpc3Rlckxpc3RlbmVyKHRoaXMuZS5vbkxvZ2dpbmdDb25maWdDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2xvZ2dpbmdfY29uZmlnJywgcGFyYW06IExvZ2dpbmdDb250cm9sLmdldENvbmZpZygpfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCAnRXJyb3Igd2hpbGUgaW5pdGlhbGl6ZSB0cmFuc211eGluZyB3b3JrZXIsIGZhbGxiYWNrIHRvIGlubGluZSB0cmFuc211eGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBUcmFuc211eGluZ0NvbnRyb2xsZXIobWVkaWFEYXRhU291cmNlLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGxldCBjdGwgPSB0aGlzLl9jb250cm9sbGVyO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLCB0aGlzLl9vbklPRXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIHRoaXMuX29uRGVtdXhFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHRoaXMuX29uSW5pdFNlZ21lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgdGhpcy5fb25NZWRpYVNlZ21lbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgdGhpcy5fb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCB0aGlzLl9vbk1lZGlhSW5mby5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuX29uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgdGhpcy5fb25SZWNvbW1lbmRTZWVrcG9pbnQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dvcmtlckRlc3Ryb3lpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXJEZXN0cm95aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2Rlc3Ryb3knfSk7XG4gICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wucmVtb3ZlTGlzdGVuZXIodGhpcy5lLm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgaGFzV29ya2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ya2VyICE9IG51bGw7XG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdzdGFydCd9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ3N0b3AnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnc2VlaycsIHBhcmFtOiBtaWxsaXNlY29uZHN9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc2VlayhtaWxsaXNlY29uZHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncGF1c2UnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncmVzdW1lJ30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkluaXRTZWdtZW50KHR5cGUsIGluaXRTZWdtZW50KSB7XG4gICAgICAgIC8vIGRvIGFzeW5jIGludm9rZVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHR5cGUsIGluaXRTZWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTWVkaWFTZWdtZW50KHR5cGUsIG1lZGlhU2VnbWVudCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0eXBlLCBtZWRpYVNlZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgbWVkaWFJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uU3RhdGlzdGljc0luZm8oc3RhdGlzdGljc0luZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCBzdGF0aXN0aWNzSW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbklPRXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbkRlbXV4RXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vblJlY29tbWVuZFNlZWtwb2ludChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQoY29uZmlnKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnbG9nZ2luZ19jb25maWcnLCBwYXJhbTogY29uZmlnfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Xb3JrZXJNZXNzYWdlKGUpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBlLmRhdGE7XG4gICAgICAgIGxldCBkYXRhID0gbWVzc2FnZS5kYXRhO1xuXG4gICAgICAgIGlmIChtZXNzYWdlLm1zZyA9PT0gJ2Rlc3Ryb3llZCcgfHwgdGhpcy5fd29ya2VyRGVzdHJveWluZykge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyRGVzdHJveWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5tc2cpIHtcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5UOlxuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YS50eXBlLCBkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5MT0FESU5HX0NPTVBMRVRFOlxuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk86XG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGRhdGEsIE1lZGlhSW5mby5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTzpcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQobWVzc2FnZS5tc2csIGRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhLnR5cGUsIGRhdGEuaW5mbyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xvZ2NhdF9jYWxsYmFjayc6XG4gICAgICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgZGF0YS50eXBlLCBkYXRhLmxvZ2NhdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zbXV4ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IE1lZGlhSW5mbyBmcm9tICcuL21lZGlhLWluZm8uanMnO1xuaW1wb3J0IEZMVkRlbXV4ZXIgZnJvbSAnLi4vZGVtdXgvZmx2LWRlbXV4ZXIuanMnO1xuaW1wb3J0IE1QNFJlbXV4ZXIgZnJvbSAnLi4vcmVtdXgvbXA0LXJlbXV4ZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4uL2RlbXV4L2RlbXV4LWVycm9ycy5qcyc7XG5pbXBvcnQgSU9Db250cm9sbGVyIGZyb20gJy4uL2lvL2lvLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4vdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcbmltcG9ydCB7TG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4uL2lvL2xvYWRlci5qcyc7XG5cbi8vIFRyYW5zbXV4aW5nIChJTywgRGVtdXhpbmcsIFJlbXV4aW5nKSBjb250cm9sbGVyLCB3aXRoIG11bHRpcGFydCBzdXBwb3J0XG5jbGFzcyBUcmFuc211eGluZ0NvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IobWVkaWFEYXRhU291cmNlLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnVHJhbnNtdXhpbmdDb250cm9sbGVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgLy8gdHJlYXQgc2luZ2xlIHBhcnQgbWVkaWEgYXMgbXVsdGlwYXJ0IG1lZGlhLCB3aGljaCBoYXMgb25seSBvbmUgc2VnbWVudFxuICAgICAgICBpZiAoIW1lZGlhRGF0YVNvdXJjZS5zZWdtZW50cykge1xuICAgICAgICAgICAgbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzID0gW3tcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbWVkaWFEYXRhU291cmNlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpbGVzaXplOiBtZWRpYURhdGFTb3VyY2UuZmlsZXNpemUsXG4gICAgICAgICAgICAgICAgdXJsOiBtZWRpYURhdGFTb3VyY2UudXJsXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGwgaW4gZGVmYXVsdCBJTyBwYXJhbXMgaWYgbm90IGV4aXN0c1xuICAgICAgICBpZiAodHlwZW9mIG1lZGlhRGF0YVNvdXJjZS5jb3JzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS5jb3JzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgbWVkaWFEYXRhU291cmNlLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbWVkaWFEYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRvdGFsRHVyYXRpb24gPSAwO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50KSA9PiB7XG4gICAgICAgICAgICAvLyB0aW1lc3RhbXBCYXNlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjYWxjdWxhdGUgdG90YWwgZHVyYXRpb25cbiAgICAgICAgICAgIHNlZ21lbnQudGltZXN0YW1wQmFzZSA9IHRvdGFsRHVyYXRpb247XG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uICs9IHNlZ21lbnQuZHVyYXRpb247XG4gICAgICAgICAgICAvLyBwYXJhbXMgbmVlZGVkIGJ5IElPQ29udHJvbGxlclxuICAgICAgICAgICAgc2VnbWVudC5jb3JzID0gbWVkaWFEYXRhU291cmNlLmNvcnM7XG4gICAgICAgICAgICBzZWdtZW50LndpdGhDcmVkZW50aWFscyA9IG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICAvLyByZWZlcnJlciBwb2xpY3kgY29udHJvbCwgaWYgZXhpc3RcbiAgICAgICAgICAgIGlmIChjb25maWcucmVmZXJyZXJQb2xpY3kpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50LnJlZmVycmVyUG9saWN5ID0gY29uZmlnLnJlZmVycmVyUG9saWN5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzTmFOKHRvdGFsRHVyYXRpb24pICYmIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbiAhPT0gdG90YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlLmR1cmF0aW9uID0gdG90YWxEdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW11eGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW9jdGwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcikge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pb2N0bCkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faW9jdGwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQoMCk7XG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9sb2FkU2VnbWVudChzZWdtZW50SW5kZXgsIG9wdGlvbmFsRnJvbSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4ID0gc2VnbWVudEluZGV4O1xuICAgICAgICBsZXQgZGF0YVNvdXJjZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1tzZWdtZW50SW5kZXhdO1xuXG4gICAgICAgIGxldCBpb2N0bCA9IHRoaXMuX2lvY3RsID0gbmV3IElPQ29udHJvbGxlcihkYXRhU291cmNlLCB0aGlzLl9jb25maWcsIHNlZ21lbnRJbmRleCk7XG4gICAgICAgIGlvY3RsLm9uRXJyb3IgPSB0aGlzLl9vbklPRXhjZXB0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uU2Vla2VkID0gdGhpcy5fb25JT1NlZWtlZC5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vbkNvbXBsZXRlID0gdGhpcy5fb25JT0NvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uUmVkaXJlY3QgPSB0aGlzLl9vbklPUmVkaXJlY3QuYmluZCh0aGlzKTtcbiAgICAgICAgaW9jdGwub25SZWNvdmVyZWRFYXJseUVvZiA9IHRoaXMuX29uSU9SZWNvdmVyZWRFYXJseUVvZi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25hbEZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5faW9jdGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW9jdGwub25EYXRhQXJyaXZhbCA9IHRoaXMuX29uSW5pdENodW5rQXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW9jdGwub3BlbihvcHRpb25hbEZyb20pO1xuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5faW9jdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhdXNlKCkgeyAgLy8gdGFrZSBhIHJlc3RcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsICYmIHRoaXMuX2lvY3RsLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bC5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy5faW9jdGwgJiYgdGhpcy5faW9jdGwuaXNQYXVzZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwucmVzdW1lKCk7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8gPT0gbnVsbCB8fCAhdGhpcy5fbWVkaWFJbmZvLmlzU2Vla2FibGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRhcmdldFNlZ21lbnRJbmRleCA9IHRoaXMuX3NlYXJjaFNlZ21lbnRJbmRleENvbnRhaW5zKG1pbGxpc2Vjb25kcyk7XG5cbiAgICAgICAgaWYgKHRhcmdldFNlZ21lbnRJbmRleCA9PT0gdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCkge1xuICAgICAgICAgICAgLy8gaW50cmEtc2VnbWVudCBzZWVraW5nXG4gICAgICAgICAgICBsZXQgc2VnbWVudEluZm8gPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbdGFyZ2V0U2VnbWVudEluZGV4XTtcblxuICAgICAgICAgICAgaWYgKHNlZ21lbnRJbmZvID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgc2VnbWVudCBsb2FkaW5nIHN0YXJ0ZWQsIGJ1dCBtZWRpYWluZm8gaGFzbid0IHJlY2VpdmVkIHlldFxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBtZXRhZGF0YSBsb2FkZWQsIHRoZW4gc2VlayB0byBleHBlY3RlZCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleWZyYW1lID0gc2VnbWVudEluZm8uZ2V0TmVhcmVzdEtleWZyYW1lKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKGtleWZyYW1lLm1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW9jdGwuc2VlayhrZXlmcmFtZS5maWxlcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vIFdpbGwgYmUgcmVzb2x2ZWQgaW4gX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwoKVxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0ga2V5ZnJhbWUubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3Jvc3Mtc2VnbWVudCBzZWVraW5nXG4gICAgICAgICAgICBsZXQgdGFyZ2V0U2VnbWVudEluZm8gPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbdGFyZ2V0U2VnbWVudEluZGV4XTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldFNlZ21lbnRJbmZvID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBzZWdtZW50IGhhc24ndCBiZWVuIGxvYWRlZC4gV2UgbmVlZCBtZXRhZGF0YSB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgdGltZVxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQodGFyZ2V0U2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHdhaXQgZm9yIHRoZSBtZXRhZGF0YSBsb2FkZWQsIHRoZW4gc2VlayB0byBleHBlY3RlZCBwb3NpdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRhcmdldCBzZWdtZW50J3MgbWV0YWRhdGEsIGRpcmVjdCBzZWVrIHRvIHRhcmdldCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGxldCBrZXlmcmFtZSA9IHRhcmdldFNlZ21lbnRJbmZvLmdldE5lYXJlc3RLZXlmcmFtZShtaWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW11eGVyLnNlZWsobWlsbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW11eGVyLmluc2VydERpc2NvbnRpbnVpdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLnJlc2V0TWVkaWFJbmZvKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci50aW1lc3RhbXBCYXNlID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU2VnbWVudCh0YXJnZXRTZWdtZW50SW5kZXgsIGtleWZyYW1lLmZpbGVwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQgPSBrZXlmcmFtZS5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0YXJnZXRTZWdtZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgfVxuXG4gICAgX3NlYXJjaFNlZ21lbnRJbmRleENvbnRhaW5zKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHM7XG4gICAgICAgIGxldCBpZHggPSBzZWdtZW50cy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtaWxsaXNlY29uZHMgPCBzZWdtZW50c1tpXS50aW1lc3RhbXBCYXNlKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbiAgICBfb25Jbml0Q2h1bmtBcnJpdmFsKGRhdGEsIGJ5dGVTdGFydCkge1xuICAgICAgICBsZXQgcHJvYmVEYXRhID0gbnVsbDtcbiAgICAgICAgbGV0IGNvbnN1bWVkID0gMDtcblxuICAgICAgICBpZiAoYnl0ZVN0YXJ0ID4gMCkge1xuICAgICAgICAgICAgLy8gSU9Db250cm9sbGVyIHNlZWtlZCBpbW1lZGlhdGVseSBhZnRlciBvcGVuZWQsIGJ5dGVTdGFydCA+IDAgY2FsbGJhY2sgbWF5IHJlY2VpdmVkXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2lvY3RsKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1t0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4XS50aW1lc3RhbXBCYXNlO1xuXG4gICAgICAgICAgICBjb25zdW1lZCA9IHRoaXMuX2RlbXV4ZXIucGFyc2VDaHVua3MoZGF0YSwgYnl0ZVN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIGlmICgocHJvYmVEYXRhID0gRkxWRGVtdXhlci5wcm9iZShkYXRhKSkubWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyBjcmVhdGUgbmV3IEZMVkRlbXV4ZXJcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBuZXcgRkxWRGVtdXhlcihwcm9iZURhdGEsIHRoaXMuX2NvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVtdXhlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIgPSBuZXcgTVA0UmVtdXhlcih0aGlzLl9jb25maWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWRzID0gdGhpcy5fbWVkaWFEYXRhU291cmNlO1xuICAgICAgICAgICAgaWYgKG1kcy5kdXJhdGlvbiAhPSB1bmRlZmluZWQgJiYgIWlzTmFOKG1kcy5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLm92ZXJyaWRlZER1cmF0aW9uID0gbWRzLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZHMuaGFzQXVkaW8gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub3ZlcnJpZGVkSGFzQXVkaW8gPSBtZHMuaGFzQXVkaW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1kcy5oYXNWaWRlbyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vdmVycmlkZWRIYXNWaWRlbyA9IG1kcy5oYXNWaWRlbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci50aW1lc3RhbXBCYXNlID0gbWRzLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdLnRpbWVzdGFtcEJhc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub25FcnJvciA9IHRoaXMuX29uRGVtdXhFeGNlcHRpb24uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub25NZWRpYUluZm8gPSB0aGlzLl9vbk1lZGlhSW5mby5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2RlbXV4ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAuYmluZERhdGFTb3VyY2UodGhpcy5faW9jdGxcbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyLm9uSW5pdFNlZ21lbnQgPSB0aGlzLl9vblJlbXV4ZXJJbml0U2VnbWVudEFycml2YWwuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIub25NZWRpYVNlZ21lbnQgPSB0aGlzLl9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIGNvbnN1bWVkID0gdGhpcy5fZGVtdXhlci5wYXJzZUNodW5rcyhkYXRhLCBieXRlU3RhcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvYmVEYXRhID0gbnVsbDtcbiAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCAnTm9uLUZMViwgVW5zdXBwb3J0ZWQgbWVkaWEgdHlwZSEnKTtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCBEZW11eEVycm9ycy5GT1JNQVRfVU5TVVBQT1JURUQsICdOb24tRkxWLCBVbnN1cHBvcnRlZCBtZWRpYSB0eXBlJyk7XG5cbiAgICAgICAgICAgIGNvbnN1bWVkID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25zdW1lZDtcbiAgICB9XG5cbiAgICBfb25NZWRpYUluZm8obWVkaWFJbmZvKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gU3RvcmUgZmlyc3Qgc2VnbWVudCdzIG1lZGlhaW5mbyBhcyBnbG9iYWwgbWVkaWFJbmZvXG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBPYmplY3QuYXNzaWduKHt9LCBtZWRpYUluZm8pO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmtleWZyYW1lc0luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRDb3VudCA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcy5fbWVkaWFJbmZvLCBNZWRpYUluZm8ucHJvdG90eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWdtZW50SW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihzZWdtZW50SW5mbywgTWVkaWFJbmZvLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5zZWdtZW50c1t0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4XSA9IHNlZ21lbnRJbmZvO1xuXG4gICAgICAgIC8vIG5vdGlmeSBtZWRpYUluZm8gdXBkYXRlXG4gICAgICAgIHRoaXMuX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8odGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVrKHRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbklPU2Vla2VkKCkge1xuICAgICAgICB0aGlzLl9yZW11eGVyLmluc2VydERpc2NvbnRpbnVpdHkoKTtcbiAgICB9XG5cbiAgICBfb25JT0NvbXBsZXRlKGV4dHJhRGF0YSkge1xuICAgICAgICBsZXQgc2VnbWVudEluZGV4ID0gZXh0cmFEYXRhO1xuICAgICAgICBsZXQgbmV4dFNlZ21lbnRJbmRleCA9IHNlZ21lbnRJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKG5leHRTZWdtZW50SW5kZXggPCB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl9sb2FkU2VnbWVudChuZXh0U2VnbWVudEluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5MT0FESU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbklPUmVkaXJlY3QocmVkaXJlY3RlZFVSTCkge1xuICAgICAgICBsZXQgc2VnbWVudEluZGV4ID0gdGhpcy5faW9jdGwuZXh0cmFEYXRhO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbc2VnbWVudEluZGV4XS5yZWRpcmVjdGVkVVJMID0gcmVkaXJlY3RlZFVSTDtcbiAgICB9XG5cbiAgICBfb25JT1JlY292ZXJlZEVhcmx5RW9mKCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRik7XG4gICAgfVxuXG4gICAgX29uSU9FeGNlcHRpb24odHlwZSwgaW5mbykge1xuICAgICAgICBMb2cuZSh0aGlzLlRBRywgYElPRXhjZXB0aW9uOiB0eXBlID0gJHt0eXBlfSwgY29kZSA9ICR7aW5mby5jb2RlfSwgbXNnID0gJHtpbmZvLm1zZ31gKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLCB0eXBlLCBpbmZvKTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9vbkRlbXV4RXhjZXB0aW9uKHR5cGUsIGluZm8pIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBEZW11eEV4Y2VwdGlvbjogdHlwZSA9ICR7dHlwZX0sIGluZm8gPSAke2luZm99YCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdHlwZSwgaW5mbyk7XG4gICAgfVxuXG4gICAgX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbCh0eXBlLCBpbml0U2VnbWVudCkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuSU5JVF9TRUdNRU5ULCB0eXBlLCBpbml0U2VnbWVudCk7XG4gICAgfVxuXG4gICAgX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwodHlwZSwgbWVkaWFTZWdtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gTWVkaWEgc2VnbWVudHMgYWZ0ZXIgbmV3LXNlZ21lbnQgY3Jvc3Mtc2Vla2luZyBzaG91bGQgYmUgZHJvcHBlZC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgdHlwZSwgbWVkaWFTZWdtZW50KTtcblxuICAgICAgICAvLyBSZXNvbHZlIHBlbmRpbmcgc2Vla1BvaW50XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCAhPSBudWxsICYmIHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgIGxldCBzeW5jUG9pbnRzID0gbWVkaWFTZWdtZW50LmluZm8uc3luY1BvaW50cztcbiAgICAgICAgICAgIGxldCBzZWVrcG9pbnQgPSB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludDtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gU2FmYXJpOiBQYXNzIFBUUyBmb3IgcmVjb21tZW5kX3NlZWtwb2ludFxuICAgICAgICAgICAgaWYgKEJyb3dzZXIuc2FmYXJpICYmIHN5bmNQb2ludHMubGVuZ3RoID4gMCAmJiBzeW5jUG9pbnRzWzBdLm9yaWdpbmFsRHRzID09PSBzZWVrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBzZWVrcG9pbnQgPSBzeW5jUG9pbnRzWzBdLnB0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2U6IHVzZSBvcmlnaW5hbCBEVFMgKGtleWZyYW1lLm1pbGxpc2Vjb25kcylcblxuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsIHNlZWtwb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IHNlbGYuc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0U3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5zdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKSB7XG4gICAgICAgICAgICBzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVwb3J0U2VnbWVudE1lZGlhSW5mbyhzZWdtZW50SW5kZXgpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3NlZ21lbnRJbmRleF07XG4gICAgICAgIGxldCBleHBvcnRJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgc2VnbWVudEluZm8pO1xuXG4gICAgICAgIGV4cG9ydEluZm8uZHVyYXRpb24gPSB0aGlzLl9tZWRpYUluZm8uZHVyYXRpb247XG4gICAgICAgIGV4cG9ydEluZm8uc2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRDb3VudDtcbiAgICAgICAgZGVsZXRlIGV4cG9ydEluZm8uc2VnbWVudHM7XG4gICAgICAgIGRlbGV0ZSBleHBvcnRJbmZvLmtleWZyYW1lc0luZGV4O1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCBleHBvcnRJbmZvKTtcbiAgICB9XG5cbiAgICBfcmVwb3J0U3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIGxldCBpbmZvID0ge307XG5cbiAgICAgICAgaW5mby51cmwgPSB0aGlzLl9pb2N0bC5jdXJyZW50VVJMO1xuICAgICAgICBpbmZvLmhhc1JlZGlyZWN0ID0gdGhpcy5faW9jdGwuaGFzUmVkaXJlY3Q7XG4gICAgICAgIGlmIChpbmZvLmhhc1JlZGlyZWN0KSB7XG4gICAgICAgICAgICBpbmZvLnJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9pb2N0bC5jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZm8uc3BlZWQgPSB0aGlzLl9pb2N0bC5jdXJyZW50U3BlZWQ7XG4gICAgICAgIGluZm8ubG9hZGVyVHlwZSA9IHRoaXMuX2lvY3RsLmxvYWRlclR5cGU7XG4gICAgICAgIGluZm8uY3VycmVudFNlZ21lbnRJbmRleCA9IHRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXg7XG4gICAgICAgIGluZm8udG90YWxTZWdtZW50Q291bnQgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIGluZm8pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ0NvbnRyb2xsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IFRyYW5zbXV4aW5nRXZlbnRzID0ge1xuICAgIElPX0VSUk9SOiAnaW9fZXJyb3InLFxuICAgIERFTVVYX0VSUk9SOiAnZGVtdXhfZXJyb3InLFxuICAgIElOSVRfU0VHTUVOVDogJ2luaXRfc2VnbWVudCcsXG4gICAgTUVESUFfU0VHTUVOVDogJ21lZGlhX3NlZ21lbnQnLFxuICAgIExPQURJTkdfQ09NUExFVEU6ICdsb2FkaW5nX2NvbXBsZXRlJyxcbiAgICBSRUNPVkVSRURfRUFSTFlfRU9GOiAncmVjb3ZlcmVkX2Vhcmx5X2VvZicsXG4gICAgTUVESUFfSU5GTzogJ21lZGlhX2luZm8nLFxuICAgIFNUQVRJU1RJQ1NfSU5GTzogJ3N0YXRpc3RpY3NfaW5mbycsXG4gICAgUkVDT01NRU5EX1NFRUtQT0lOVDogJ3JlY29tbWVuZF9zZWVrcG9pbnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ0V2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgUG9seWZpbGwgZnJvbSAnLi4vdXRpbHMvcG9seWZpbGwuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nQ29udHJvbGxlciBmcm9tICcuL3RyYW5zbXV4aW5nLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4vdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcblxuLyogcG9zdCBtZXNzYWdlIHRvIHdvcmtlcjpcbiAgIGRhdGE6IHtcbiAgICAgICBjbWQ6IHN0cmluZ1xuICAgICAgIHBhcmFtOiBhbnlcbiAgIH1cblxuICAgcmVjZWl2ZSBtZXNzYWdlIGZyb20gd29ya2VyOlxuICAgZGF0YToge1xuICAgICAgIG1zZzogc3RyaW5nLFxuICAgICAgIGRhdGE6IGFueVxuICAgfVxuICovXG5cbmxldCBUcmFuc211eGluZ1dvcmtlciA9IGZ1bmN0aW9uIChzZWxmKSB7XG5cbiAgICBsZXQgVEFHID0gJ1RyYW5zbXV4aW5nV29ya2VyJztcbiAgICBsZXQgY29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGxvZ2NhdExpc3RlbmVyID0gb25Mb2djYXRDYWxsYmFjay5iaW5kKHRoaXMpO1xuXG4gICAgUG9seWZpbGwuaW5zdGFsbCgpO1xuXG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmRhdGEuY21kKSB7XG4gICAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbmV3IFRyYW5zbXV4aW5nQ29udHJvbGxlcihlLmRhdGEucGFyYW1bMF0sIGUuZGF0YS5wYXJhbVsxXSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgb25JT0Vycm9yLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIG9uRGVtdXhFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgb25Jbml0U2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsIG9uTWVkaWFTZWdtZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCBvblJlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgb25NZWRpYUluZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIG9uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCBvblJlY29tbWVuZFNlZWtwb2ludC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Rlc3Ryb3knOlxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7bXNnOiAnZGVzdHJveWVkJ30pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Vlayc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zZWVrKGUuZGF0YS5wYXJhbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwYXVzZSc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVzdW1lJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG9nZ2luZ19jb25maWcnOiB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IGUuZGF0YS5wYXJhbTtcbiAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5hcHBseUNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVDYWxsYmFjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5hZGRMb2dMaXN0ZW5lcihsb2djYXRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wucmVtb3ZlTG9nTGlzdGVuZXIobG9nY2F0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlLCBpbml0U2VnbWVudCkge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBpbml0U2VnbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaiwgW2luaXRTZWdtZW50LmRhdGFdKTsgIC8vIGRhdGE6IEFycmF5QnVmZmVyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNlZ21lbnQodHlwZSwgbWVkaWFTZWdtZW50KSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBtZWRpYVNlZ21lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmosIFttZWRpYVNlZ21lbnQuZGF0YV0pOyAgLy8gZGF0YTogQXJyYXlCdWZmZXJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxvYWRpbmdDb21wbGV0ZSgpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRlxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYUluZm8obWVkaWFJbmZvKSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk8sXG4gICAgICAgICAgICBkYXRhOiBtZWRpYUluZm9cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3RhdGlzdGljc0luZm8oc3RhdEluZm8pIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLFxuICAgICAgICAgICAgZGF0YTogc3RhdEluZm9cbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShvYmopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uSU9FcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGluZm86IGluZm9cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EZW11eEVycm9yKHR5cGUsIGluZm8pIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgaW5mbzogaW5mb1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlY29tbWVuZFNlZWtwb2ludChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsXG4gICAgICAgICAgICBkYXRhOiBtaWxsaXNlY29uZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Mb2djYXRDYWxsYmFjayh0eXBlLCBzdHIpIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6ICdsb2djYXRfY2FsbGJhY2snLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbG9nY2F0OiBzdHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGluZ1dvcmtlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IGRlY29kZVVURjggZnJvbSAnLi4vdXRpbHMvdXRmOC1jb252LmpzJztcbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5sZXQgbGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMik7XG4gICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgIHJldHVybiAobmV3IEludDE2QXJyYXkoYnVmKSlbMF0gPT09IDI1NjsgIC8vIHBsYXRmb3JtLXNwZWMgcmVhZCwgaWYgZXF1YWwgdGhlbiBMRVxufSkoKTtcblxuY2xhc3MgQU1GIHtcblxuICAgIHN0YXRpYyBwYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBkYXRhID0ge307XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gQU1GLnBhcnNlVmFsdWUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgbmFtZS5zaXplLCBkYXRhU2l6ZSAtIG5hbWUuc2l6ZSk7XG5cbiAgICAgICAgICAgIGRhdGFbbmFtZS5kYXRhXSA9IHZhbHVlLmRhdGE7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy5lKCdBTUYnLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlT2JqZWN0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBTY3JpcHREYXRhT2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5hbWUgPSBBTUYucGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHZhbHVlID0gQU1GLnBhcnNlVmFsdWUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBuYW1lLnNpemUsIGRhdGFTaXplIC0gbmFtZS5zaXplKTtcbiAgICAgICAgbGV0IGlzT2JqZWN0RW5kID0gdmFsdWUub2JqZWN0RW5kO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZS5kYXRhLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5kYXRhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogbmFtZS5zaXplICsgdmFsdWUuc2l6ZSxcbiAgICAgICAgICAgIG9iamVjdEVuZDogaXNPYmplY3RFbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VWYXJpYWJsZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgcmV0dXJuIEFNRi5wYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgU3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHYuZ2V0VWludDE2KDAsICFsZSk7XG5cbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAyLCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHN0cixcbiAgICAgICAgICAgIHNpemU6IDIgKyBsZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VMb25nU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBMb25nU3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHYuZ2V0VWludDMyKDAsICFsZSk7XG5cbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHN0cixcbiAgICAgICAgICAgIHNpemU6IDQgKyBsZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VEYXRlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAxMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBzaXplIGludmFsaWQgd2hlbiBwYXJzZSBEYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHYuZ2V0RmxvYXQ2NCgwLCAhbGUpO1xuICAgICAgICBsZXQgbG9jYWxUaW1lT2Zmc2V0ID0gdi5nZXRJbnQxNig4LCAhbGUpO1xuICAgICAgICB0aW1lc3RhbXAgKz0gbG9jYWxUaW1lT2Zmc2V0ICogNjAgKiAxMDAwOyAgLy8gZ2V0IFVUQyB0aW1lXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IG5ldyBEYXRlKHRpbWVzdGFtcCksXG4gICAgICAgICAgICBzaXplOiA4ICsgMlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEYXRhIG5vdCBlbm91Z2ggd2hlbiBwYXJzZSBWYWx1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMTtcbiAgICAgICAgbGV0IHR5cGUgPSB2LmdldFVpbnQ4KDApO1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGxldCBvYmplY3RFbmQgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAgLy8gTnVtYmVyKERvdWJsZSkgdHlwZVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHYuZ2V0RmxvYXQ2NCgxLCAhbGUpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gODtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiB7ICAvLyBCb29sZWFuIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSB2LmdldFVpbnQ4KDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGIgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAyOiB7ICAvLyBTdHJpbmcgdHlwZVxuICAgICAgICAgICAgICAgICAgICBsZXQgYW1mc3RyID0gQU1GLnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhbWZzdHIuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGFtZnN0ci5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAzOiB7IC8vIE9iamVjdChzKSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtaW5hbCA9IDA7ICAvLyB3b3JrYXJvdW5kIGZvciBtYWxmb3JtZWQgT2JqZWN0cyB3aGljaCBoYXMgbWlzc2luZyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgodi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA0KSB7ICAvLyA0ID09PSB0eXBlKFVJOCkgKyBTY3JpcHREYXRhT2JqZWN0RW5kKFVJMjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW1mb2JqID0gQU1GLnBhcnNlT2JqZWN0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBkYXRhU2l6ZSAtIG9mZnNldCAtIHRlcm1pbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZvYmoub2JqZWN0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYW1mb2JqLmRhdGEubmFtZV0gPSBhbWZvYmouZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZvYmouc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0IDw9IGRhdGFTaXplIC0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcmtlciA9IHYuZ2V0VWludDMyKG9mZnNldCAtIDEsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIDg6IHsgLy8gRUNNQSBhcnJheSB0eXBlIChNaXhlZCBhcnJheSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7ICAvLyBFQ01BQXJyYXlMZW5ndGgoVUkzMilcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1pbmFsID0gMDsgIC8vIHdvcmthcm91bmQgZm9yIG1hbGZvcm1lZCBNaXhlZEFycmF5cyB3aGljaCBoYXMgbWlzc2luZyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgodi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA4KSB7ICAvLyA4ID09PSB0eXBlKFVJOCkgKyBFQ01BQXJyYXlMZW5ndGgoVUkzMikgKyBTY3JpcHREYXRhVmFyaWFibGVFbmQoVUkyNClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbWZ2YXIgPSBBTUYucGFyc2VWYXJpYWJsZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQgLSB0ZXJtaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1mdmFyLm9iamVjdEVuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2FtZnZhci5kYXRhLm5hbWVdID0gYW1mdmFyLmRhdGEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYW1mdmFyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8PSBkYXRhU2l6ZSAtIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSB2LmdldFVpbnQzMihvZmZzZXQgLSAxLCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZXIgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAgLy8gU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0RW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogeyAgLy8gU3RyaWN0IGFycmF5IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgLy8gU2NyaXB0RGF0YVZhbHVlW25dLiBOT1RFOiBhY2NvcmRpbmcgdG8gdmlkZW9fZmlsZV9mb3JtYXRfc3BlY192MTBfMS5wZGZcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cmljdEFycmF5TGVuZ3RoID0gdi5nZXRVaW50MzIoMSwgIWxlKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWN0QXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBkYXRhU2l6ZSAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHZhbC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSB2YWwuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxMTogeyAgLy8gRGF0ZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gQU1GLnBhcnNlRGF0ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0ZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0ZS5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAxMjogeyAgLy8gTG9uZyBzdHJpbmcgdHlwZVxuICAgICAgICAgICAgICAgICAgICBsZXQgYW1mTG9uZ1N0ciA9IEFNRi5wYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYW1mTG9uZ1N0ci5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYW1mTG9uZ1N0ci5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGFuZCBza2lwXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGRhdGFTaXplO1xuICAgICAgICAgICAgICAgICAgICBMb2cudygnQU1GJywgJ1Vuc3VwcG9ydGVkIEFNRiB2YWx1ZSB0eXBlICcgKyB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLmUoJ0FNRicsIGUudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogdmFsdWUsXG4gICAgICAgICAgICBzaXplOiBvZmZzZXQsXG4gICAgICAgICAgICBvYmplY3RFbmQ6IG9iamVjdEVuZFxuICAgICAgICB9O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBTUY7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IERlbXV4RXJyb3JzID0ge1xuICAgIE9LOiAnT0snLFxuICAgIEZPUk1BVF9FUlJPUjogJ0Zvcm1hdEVycm9yJyxcbiAgICBGT1JNQVRfVU5TVVBQT1JURUQ6ICdGb3JtYXRVbnN1cHBvcnRlZCcsXG4gICAgQ09ERUNfVU5TVVBQT1JURUQ6ICdDb2RlY1Vuc3VwcG9ydGVkJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGVtdXhFcnJvcnM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9uLCBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEV4cG9uZW50aWFsLUdvbG9tYiBidWZmZXIgZGVjb2RlclxuY2xhc3MgRXhwR29sb21iIHtcblxuICAgIGNvbnN0cnVjdG9yKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnRXhwR29sb21iJztcblxuICAgICAgICB0aGlzLl9idWZmZXIgPSB1aW50OGFycmF5O1xuICAgICAgICB0aGlzLl9idWZmZXJfaW5kZXggPSAwO1xuICAgICAgICB0aGlzLl90b3RhbF9ieXRlcyA9IHVpbnQ4YXJyYXkuYnl0ZUxlbmd0aDtcbiAgICAgICAgdGhpcy5fdG90YWxfYml0cyA9IHVpbnQ4YXJyYXkuYnl0ZUxlbmd0aCAqIDg7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA9IDA7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPSAwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgX2ZpbGxDdXJyZW50V29yZCgpIHtcbiAgICAgICAgbGV0IGJ1ZmZlcl9ieXRlc19sZWZ0ID0gdGhpcy5fdG90YWxfYnl0ZXMgLSB0aGlzLl9idWZmZXJfaW5kZXg7XG4gICAgICAgIGlmIChidWZmZXJfYnl0ZXNfbGVmdCA8PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRXhwR29sb21iOiBfZmlsbEN1cnJlbnRXb3JkKCkgYnV0IG5vIGJ5dGVzIGF2YWlsYWJsZScpO1xuXG4gICAgICAgIGxldCBieXRlc19yZWFkID0gTWF0aC5taW4oNCwgYnVmZmVyX2J5dGVzX2xlZnQpO1xuICAgICAgICBsZXQgd29yZCA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICB3b3JkLnNldCh0aGlzLl9idWZmZXIuc3ViYXJyYXkodGhpcy5fYnVmZmVyX2luZGV4LCB0aGlzLl9idWZmZXJfaW5kZXggKyBieXRlc19yZWFkKSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA9IG5ldyBEYXRhVmlldyh3b3JkLmJ1ZmZlcikuZ2V0VWludDMyKDAsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9idWZmZXJfaW5kZXggKz0gYnl0ZXNfcmVhZDtcbiAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCA9IGJ5dGVzX3JlYWQgKiA4O1xuICAgIH1cblxuICAgIHJlYWRCaXRzKGJpdHMpIHtcbiAgICAgICAgaWYgKGJpdHMgPiAzMilcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0V4cEdvbG9tYjogcmVhZEJpdHMoKSBiaXRzIGV4Y2VlZGVkIG1heCAzMmJpdHMhJyk7XG5cbiAgICAgICAgaWYgKGJpdHMgPD0gdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZCA+Pj4gKDMyIC0gYml0cyk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IGJpdHM7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IGJpdHM7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPyB0aGlzLl9jdXJyZW50X3dvcmQgOiAwO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPj4+ICgzMiAtIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpO1xuICAgICAgICBsZXQgYml0c19uZWVkX2xlZnQgPSBiaXRzIC0gdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdDtcblxuICAgICAgICB0aGlzLl9maWxsQ3VycmVudFdvcmQoKTtcbiAgICAgICAgbGV0IGJpdHNfcmVhZF9uZXh0ID0gTWF0aC5taW4oYml0c19uZWVkX2xlZnQsIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpO1xuXG4gICAgICAgIGxldCByZXN1bHQyID0gdGhpcy5fY3VycmVudF93b3JkID4+PiAoMzIgLSBiaXRzX3JlYWRfbmV4dCk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gYml0c19yZWFkX25leHQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgLT0gYml0c19yZWFkX25leHQ7XG5cbiAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCA8PCBiaXRzX3JlYWRfbmV4dCkgfCByZXN1bHQyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlYWRCb29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgICB9XG5cbiAgICByZWFkQnl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoOCk7XG4gICAgfVxuXG4gICAgX3NraXBMZWFkaW5nWmVybygpIHtcbiAgICAgICAgbGV0IHplcm9fY291bnQ7XG4gICAgICAgIGZvciAoemVyb19jb3VudCA9IDA7IHplcm9fY291bnQgPCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0OyB6ZXJvX2NvdW50KyspIHtcbiAgICAgICAgICAgIGlmICgwICE9PSAodGhpcy5fY3VycmVudF93b3JkICYgKDB4ODAwMDAwMDAgPj4+IHplcm9fY291bnQpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gemVyb19jb3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IHplcm9fY291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9fY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCk7XG4gICAgICAgIHJldHVybiB6ZXJvX2NvdW50ICsgdGhpcy5fc2tpcExlYWRpbmdaZXJvKCk7XG4gICAgfVxuXG4gICAgcmVhZFVFRygpIHsgIC8vIHVuc2lnbmVkIGV4cG9uZW50aWFsIGdvbG9tYlxuICAgICAgICBsZXQgbGVhZGluZ196ZXJvcyA9IHRoaXMuX3NraXBMZWFkaW5nWmVybygpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhsZWFkaW5nX3plcm9zICsgMSkgLSAxO1xuICAgIH1cblxuICAgIHJlYWRTRUcoKSB7ICAvLyBzaWduZWQgZXhwb25lbnRpYWwgZ29sb21iXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMucmVhZFVFRygpO1xuICAgICAgICBpZiAodmFsdWUgJiAweDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gKHZhbHVlICsgMSkgPj4+IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTEgKiAodmFsdWUgPj4+IDEpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV4cEdvbG9tYjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IEFNRiBmcm9tICcuL2FtZi1wYXJzZXIuanMnO1xuaW1wb3J0IFNQU1BhcnNlciBmcm9tICcuL3Nwcy1wYXJzZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4vZGVtdXgtZXJyb3JzLmpzJztcbmltcG9ydCBNZWRpYUluZm8gZnJvbSAnLi4vY29yZS9tZWRpYS1pbmZvLmpzJztcbmltcG9ydCB7SWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG5mdW5jdGlvbiBTd2FwMTYoc3JjKSB7XG4gICAgcmV0dXJuICgoKHNyYyA+Pj4gOCkgJiAweEZGKSB8XG4gICAgICAgICAgICAoKHNyYyAmIDB4RkYpIDw8IDgpKTtcbn1cblxuZnVuY3Rpb24gU3dhcDMyKHNyYykge1xuICAgIHJldHVybiAoKChzcmMgJiAweEZGMDAwMDAwKSA+Pj4gMjQpIHxcbiAgICAgICAgICAgICgoc3JjICYgMHgwMEZGMDAwMCkgPj4+IDgpICB8XG4gICAgICAgICAgICAoKHNyYyAmIDB4MDAwMEZGMDApIDw8IDgpICAgfFxuICAgICAgICAgICAgKChzcmMgJiAweDAwMDAwMEZGKSA8PCAyNCkpO1xufVxuXG5mdW5jdGlvbiBSZWFkQmlnMzIoYXJyYXksIGluZGV4KSB7XG4gICAgcmV0dXJuICgoYXJyYXlbaW5kZXhdIDw8IDI0KSAgICAgfFxuICAgICAgICAgICAgKGFycmF5W2luZGV4ICsgMV0gPDwgMTYpIHxcbiAgICAgICAgICAgIChhcnJheVtpbmRleCArIDJdIDw8IDgpICB8XG4gICAgICAgICAgICAoYXJyYXlbaW5kZXggKyAzXSkpO1xufVxuXG5cbmNsYXNzIEZMVkRlbXV4ZXIge1xuXG4gICAgY29uc3RydWN0b3IocHJvYmVEYXRhLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnRkxWRGVtdXhlcic7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGF0YU9mZnNldCA9IHByb2JlRGF0YS5kYXRhT2Zmc2V0O1xuICAgICAgICB0aGlzLl9maXJzdFBhcnNlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IHByb2JlRGF0YS5oYXNBdWRpb1RyYWNrO1xuICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IHByb2JlRGF0YS5oYXNWaWRlb1RyYWNrO1xuXG4gICAgICAgIHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbmV3IE1lZGlhSW5mbygpO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdGhpcy5faGFzVmlkZW87XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXVkaW9NZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX25hbHVMZW5ndGhTaXplID0gNDtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IDA7ICAvLyBpbnQzMiwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX3RpbWVzY2FsZSA9IDEwMDA7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gMDsgIC8vIGludDMyLCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgdGhpcy5fZHVyYXRpb25PdmVycmlkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlID0ge1xuICAgICAgICAgICAgZml4ZWQ6IHRydWUsXG4gICAgICAgICAgICBmcHM6IDIzLjk3NixcbiAgICAgICAgICAgIGZwc19udW06IDIzOTc2LFxuICAgICAgICAgICAgZnBzX2RlbjogMTAwMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2ZsdlNvdW5kUmF0ZVRhYmxlID0gWzU1MDAsIDExMDI1LCAyMjA1MCwgNDQxMDAsIDQ4MDAwXTtcblxuICAgICAgICB0aGlzLl9tcGVnU2FtcGxpbmdSYXRlcyA9IFtcbiAgICAgICAgICAgIDk2MDAwLCA4ODIwMCwgNjQwMDAsIDQ4MDAwLCA0NDEwMCwgMzIwMDAsXG4gICAgICAgICAgICAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9tcGVnQXVkaW9WMTBTYW1wbGVSYXRlVGFibGUgPSBbNDQxMDAsIDQ4MDAwLCAzMjAwMCwgMF07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb1YyMFNhbXBsZVJhdGVUYWJsZSA9IFsyMjA1MCwgMjQwMDAsIDE2MDAwLCAwXTtcbiAgICAgICAgdGhpcy5fbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlID0gWzExMDI1LCAxMjAwMCwgODAwMCwgIDBdO1xuXG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA2NCwgOTYsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAyODgsIDMyMCwgMzUyLCAzODQsIDQxNiwgNDQ4LCAtMV07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA0OCwgNTYsICA2NCwgIDgwLCAgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzg0LCAtMV07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlID0gWzAsIDMyLCA0MCwgNDgsICA1NiwgIDY0LCAgODAsICA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAtMV07XG5cbiAgICAgICAgdGhpcy5fdmlkZW9UcmFjayA9IHt0eXBlOiAndmlkZW8nLCBpZDogMSwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW5ndGg6IDB9O1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0ge3R5cGU6ICdhdWRpbycsIGlkOiAyLCBzZXF1ZW5jZU51bWJlcjogMCwgc2FtcGxlczogW10sIGxlbmd0aDogMH07XG5cbiAgICAgICAgdGhpcy5fbGl0dGxlRW5kaWFuID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMik7XG4gICAgICAgICAgICAobmV3IERhdGFWaWV3KGJ1ZikpLnNldEludDE2KDAsIDI1NiwgdHJ1ZSk7ICAvLyBsaXR0bGUtZW5kaWFuIHdyaXRlXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBJbnQxNkFycmF5KGJ1ZikpWzBdID09PSAyNTY7ICAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9UcmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIHByb2JlKGJ1ZmZlcikge1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGxldCBtaXNtYXRjaCA9IHttYXRjaDogZmFsc2V9O1xuXG4gICAgICAgIGlmIChkYXRhWzBdICE9PSAweDQ2IHx8IGRhdGFbMV0gIT09IDB4NEMgfHwgZGF0YVsyXSAhPT0gMHg1NiB8fCBkYXRhWzNdICE9PSAweDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbWlzbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGFzQXVkaW8gPSAoKGRhdGFbNF0gJiA0KSA+Pj4gMikgIT09IDA7XG4gICAgICAgIGxldCBoYXNWaWRlbyA9IChkYXRhWzRdICYgMSkgIT09IDA7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IFJlYWRCaWczMihkYXRhLCA1KTtcblxuICAgICAgICBpZiAob2Zmc2V0IDwgOSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pc21hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoOiB0cnVlLFxuICAgICAgICAgICAgY29uc3VtZWQ6IG9mZnNldCxcbiAgICAgICAgICAgIGRhdGFPZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgIGhhc0F1ZGlvVHJhY2s6IGhhc0F1ZGlvLFxuICAgICAgICAgICAgaGFzVmlkZW9UcmFjazogaGFzVmlkZW9cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBiaW5kRGF0YVNvdXJjZShsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyLm9uRGF0YUFycml2YWwgPSB0aGlzLnBhcnNlQ2h1bmtzLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24odHlwZTogc3RyaW5nLCBtZXRhZGF0YTogYW55KTogdm9pZFxuICAgIGdldCBvblRyYWNrTWV0YWRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblRyYWNrTWV0YWRhdGE7XG4gICAgfVxuXG4gICAgc2V0IG9uVHJhY2tNZXRhZGF0YShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKG1lZGlhSW5mbzogTWVkaWFJbmZvKTogdm9pZFxuICAgIGdldCBvbk1lZGlhSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uTWVkaWFJbmZvO1xuICAgIH1cblxuICAgIHNldCBvbk1lZGlhSW5mbyhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24odHlwZTogbnVtYmVyLCBpbmZvOiBzdHJpbmcpOiB2b2lkXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHZpZGVvVHJhY2s6IGFueSwgYXVkaW9UcmFjazogYW55KTogdm9pZFxuICAgIGdldCBvbkRhdGFBdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBdmFpbGFibGU7XG4gICAgfVxuXG4gICAgc2V0IG9uRGF0YUF2YWlsYWJsZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyB0aW1lc3RhbXAgYmFzZSBmb3Igb3V0cHV0IHNhbXBsZXMsIG11c3QgYmUgaW4gbWlsbGlzZWNvbmRzXG4gICAgZ2V0IHRpbWVzdGFtcEJhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lc3RhbXBCYXNlO1xuICAgIH1cblxuICAgIHNldCB0aW1lc3RhbXBCYXNlKGJhc2UpIHtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IGJhc2U7XG4gICAgfVxuXG4gICAgZ2V0IG92ZXJyaWRlZER1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gRm9yY2Utb3ZlcnJpZGUgbWVkaWEgZHVyYXRpb24uIE11c3QgYmUgaW4gbWlsbGlzZWNvbmRzLCBpbnQzMlxuICAgIHNldCBvdmVycmlkZWREdXJhdGlvbihkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIEZvcmNlLW92ZXJyaWRlIGF1ZGlvIHRyYWNrIHByZXNlbnQgZmxhZywgYm9vbGVhblxuICAgIHNldCBvdmVycmlkZWRIYXNBdWRpbyhoYXNBdWRpbykge1xuICAgICAgICB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IGhhc0F1ZGlvO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgICB9XG5cbiAgICAvLyBGb3JjZS1vdmVycmlkZSB2aWRlbyB0cmFjayBwcmVzZW50IGZsYWcsIGJvb2xlYW5cbiAgICBzZXQgb3ZlcnJpZGVkSGFzVmlkZW8oaGFzVmlkZW8pIHtcbiAgICAgICAgdGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBoYXNWaWRlbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gaGFzVmlkZW87XG4gICAgfVxuXG4gICAgcmVzZXRNZWRpYUluZm8oKSB7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG5ldyBNZWRpYUluZm8oKTtcbiAgICB9XG5cbiAgICBfaXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzQXVkaW8gJiYgdGhpcy5faGFzVmlkZW8pIHsgIC8vIGJvdGggYXVkaW8gJiB2aWRlb1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCAmJiB0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvICYmICF0aGlzLl9oYXNWaWRlbykgeyAgLy8gYXVkaW8gb25seVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc0F1ZGlvICYmIHRoaXMuX2hhc1ZpZGVvKSB7ICAvLyB2aWRlbyBvbmx5XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiBwYXJzZUNodW5rcyhjaHVuazogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHBhcnNlQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkVycm9yIHx8ICF0aGlzLl9vbk1lZGlhSW5mbyB8fCAhdGhpcy5fb25UcmFja01ldGFkYXRhIHx8ICF0aGlzLl9vbkRhdGFBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0Zsdjogb25FcnJvciAmIG9uTWVkaWFJbmZvICYgb25UcmFja01ldGFkYXRhICYgb25EYXRhQXZhaWxhYmxlIGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuXG4gICAgICAgIGlmIChieXRlU3RhcnQgPT09IDApIHsgIC8vIGJ1ZmZlciB3aXRoIEZMViBoZWFkZXJcbiAgICAgICAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID4gMTMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvYmVEYXRhID0gRkxWRGVtdXhlci5wcm9iZShjaHVuayk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcHJvYmVEYXRhLmRhdGFPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0UGFyc2UpIHsgIC8vIGhhbmRsZSBQcmV2aW91c1RhZ1NpemUwIGJlZm9yZSBUYWcxXG4gICAgICAgICAgICB0aGlzLl9maXJzdFBhcnNlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYnl0ZVN0YXJ0ICsgb2Zmc2V0ICE9PSB0aGlzLl9kYXRhT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGaXJzdCB0aW1lIHBhcnNpbmcgYnV0IGNodW5rIGJ5dGVTdGFydCBpbnZhbGlkIScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBwcmV2VGFnU2l6ZTAgPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuICAgICAgICAgICAgaWYgKHByZXZUYWdTaXplMCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnUHJldlRhZ1NpemUwICE9PSAwICEhIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgNCA+IGNodW5rLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIHBhcnNpbmcgYW4gZmx2IHRhZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGFnVHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICAgICAgICBsZXQgZGF0YVNpemUgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgZGF0YVNpemUgKyA0ID4gY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgbm90IGVub3VnaCBmb3IgcGFyc2luZyBhY3R1YWwgZGF0YSBib2R5XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YWdUeXBlICE9PSA4ICYmIHRhZ1R5cGUgIT09IDkgJiYgdGFnVHlwZSAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYFVuc3VwcG9ydGVkIHRhZyB0eXBlICR7dGFnVHlwZX0sIHNraXBwZWRgKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdW1lIHRoZSB3aG9sZSB0YWcgKHNraXAgaXQpXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDExICsgZGF0YVNpemUgKyA0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdHMyID0gdi5nZXRVaW50OCg0KTtcbiAgICAgICAgICAgIGxldCB0czEgPSB2LmdldFVpbnQ4KDUpO1xuICAgICAgICAgICAgbGV0IHRzMCA9IHYuZ2V0VWludDgoNik7XG4gICAgICAgICAgICBsZXQgdHMzID0gdi5nZXRVaW50OCg3KTtcblxuICAgICAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHRzMCB8ICh0czEgPDwgOCkgfCAodHMyIDw8IDE2KSB8ICh0czMgPDwgMjQpO1xuXG4gICAgICAgICAgICBsZXQgc3RyZWFtSWQgPSB2LmdldFVpbnQzMig3LCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgIGlmIChzdHJlYW1JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnTWVldCB0YWcgd2hpY2ggaGFzIFN0cmVhbUlEICE9IDAhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhT2Zmc2V0ID0gb2Zmc2V0ICsgMTE7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGFnVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgODogIC8vIEF1ZGlvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlQXVkaW9EYXRhKGNodW5rLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAgLy8gVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWaWRlb0RhdGEoY2h1bmssIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0aW1lc3RhbXAsIGJ5dGVTdGFydCArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6ICAvLyBTY3JpcHREYXRhT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlU2NyaXB0RGF0YShjaHVuaywgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByZXZUYWdTaXplID0gdi5nZXRVaW50MzIoMTEgKyBkYXRhU2l6ZSwgIWxlKTtcbiAgICAgICAgICAgIGlmIChwcmV2VGFnU2l6ZSAhPT0gMTEgKyBkYXRhU2l6ZSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgSW52YWxpZCBQcmV2VGFnU2l6ZSAke3ByZXZUYWdTaXplfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgKz0gMTEgKyBkYXRhU2l6ZSArIDQ7ICAvLyB0YWdCb2R5ICsgZGF0YVNpemUgKyBwcmV2VGFnU2l6ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggcGFyc2VkIGZyYW1lcyB0byBjb25zdW1lciAodHlwaWNhbGx5LCB0aGUgcmVtdXhlcilcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXQ7ICAvLyBjb25zdW1lZCBieXRlcywganVzdCBlcXVhbHMgbGF0ZXN0IG9mZnNldCBpbmRleFxuICAgIH1cblxuICAgIF9wYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBzY3JpcHREYXRhID0gQU1GLnBhcnNlU2NyaXB0RGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmIChzY3JpcHREYXRhLmhhc093blByb3BlcnR5KCdvbk1ldGFEYXRhJykpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHREYXRhLm9uTWV0YURhdGEgPT0gbnVsbCB8fCB0eXBlb2Ygc2NyaXB0RGF0YS5vbk1ldGFEYXRhICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnSW52YWxpZCBvbk1ldGFEYXRhIHN0cnVjdHVyZSEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgb25NZXRhRGF0YSB0YWchJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IHNjcmlwdERhdGE7XG4gICAgICAgICAgICBsZXQgb25NZXRhRGF0YSA9IHRoaXMuX21ldGFkYXRhLm9uTWV0YURhdGE7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5oYXNBdWRpbyA9PT0gJ2Jvb2xlYW4nKSB7ICAvLyBoYXNBdWRpb1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gb25NZXRhRGF0YS5oYXNBdWRpbztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0F1ZGlvID0gdGhpcy5faGFzQXVkaW87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhhc1ZpZGVvID09PSAnYm9vbGVhbicpIHsgIC8vIGhhc1ZpZGVvXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBvbk1ldGFEYXRhLmhhc1ZpZGVvO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzVmlkZW8gPSB0aGlzLl9oYXNWaWRlbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuYXVkaW9kYXRhcmF0ZSA9PT0gJ251bWJlcicpIHsgIC8vIGF1ZGlvZGF0YXJhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uYXVkaW9EYXRhUmF0ZSA9IG9uTWV0YURhdGEuYXVkaW9kYXRhcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS52aWRlb2RhdGFyYXRlID09PSAnbnVtYmVyJykgeyAgLy8gdmlkZW9kYXRhcmF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby52aWRlb0RhdGFSYXRlID0gb25NZXRhRGF0YS52aWRlb2RhdGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLndpZHRoID09PSAnbnVtYmVyJykgeyAgLy8gd2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ud2lkdGggPSBvbk1ldGFEYXRhLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhlaWdodCA9PT0gJ251bWJlcicpIHsgIC8vIGhlaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oZWlnaHQgPSBvbk1ldGFEYXRhLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHsgIC8vIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBNYXRoLmZsb29yKG9uTWV0YURhdGEuZHVyYXRpb24gKiB0aGlzLl90aW1lc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuZnJhbWVyYXRlID09PSAnbnVtYmVyJykgeyAgLy8gZnJhbWVyYXRlXG4gICAgICAgICAgICAgICAgbGV0IGZwc19udW0gPSBNYXRoLmZsb29yKG9uTWV0YURhdGEuZnJhbWVyYXRlICogMTAwMCk7XG4gICAgICAgICAgICAgICAgaWYgKGZwc19udW0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmcHMgPSBmcHNfbnVtIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZpeGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwcyA9IGZwcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwc19udW0gPSBmcHNfbnVtO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX2RlbiA9IDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5mcHMgPSBmcHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmtleWZyYW1lcyA9PT0gJ29iamVjdCcpIHsgIC8vIGtleWZyYW1lc1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNLZXlmcmFtZXNJbmRleCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IGtleWZyYW1lcyA9IG9uTWV0YURhdGEua2V5ZnJhbWVzO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5rZXlmcmFtZXNJbmRleCA9IHRoaXMuX3BhcnNlS2V5ZnJhbWVzSW5kZXgoa2V5ZnJhbWVzKTtcbiAgICAgICAgICAgICAgICBvbk1ldGFEYXRhLmtleWZyYW1lcyA9IG51bGw7ICAvLyBrZXlmcmFtZXMgaGFzIGJlZW4gZXh0cmFjdGVkLCByZW1vdmUgaXRcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLm1ldGFkYXRhID0gb25NZXRhRGF0YTtcbiAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIG9uTWV0YURhdGEnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8uaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25NZWRpYUluZm8odGhpcy5fbWVkaWFJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZUtleWZyYW1lc0luZGV4KGtleWZyYW1lcykge1xuICAgICAgICBsZXQgdGltZXMgPSBbXTtcbiAgICAgICAgbGV0IGZpbGVwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBpZ25vcmUgZmlyc3Qga2V5ZnJhbWUgd2hpY2ggaXMgYWN0dWFsbHkgQVZDIFNlcXVlbmNlIEhlYWRlciAoQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5ZnJhbWVzLnRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdGltZSA9IHRoaXMuX3RpbWVzdGFtcEJhc2UgKyBNYXRoLmZsb29yKGtleWZyYW1lcy50aW1lc1tpXSAqIDEwMDApO1xuICAgICAgICAgICAgdGltZXMucHVzaCh0aW1lKTtcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbnMucHVzaChrZXlmcmFtZXMuZmlsZXBvc2l0aW9uc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZXM6IHRpbWVzLFxuICAgICAgICAgICAgZmlsZXBvc2l0aW9uczogZmlsZXBvc2l0aW9uc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9wYXJzZUF1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgYXVkaW8gcGFja2V0LCBtaXNzaW5nIFNvdW5kRGF0YSBwYXlsb2FkIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9PT0gdHJ1ZSAmJiB0aGlzLl9oYXNBdWRpbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIElmIGhhc0F1ZGlvOiBmYWxzZSBpbmRpY2F0ZWQgZXhwbGljaXRseSBpbiBNZWRpYURhdGFTb3VyY2UsXG4gICAgICAgICAgICAvLyBJZ25vcmUgYWxsIHRoZSBhdWRpbyBwYWNrZXRzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgbGV0IHNvdW5kU3BlYyA9IHYuZ2V0VWludDgoMCk7XG5cbiAgICAgICAgbGV0IHNvdW5kRm9ybWF0ID0gc291bmRTcGVjID4+PiA0O1xuICAgICAgICBpZiAoc291bmRGb3JtYXQgIT09IDIgJiYgc291bmRGb3JtYXQgIT09IDEwKSB7ICAvLyBNUDMgb3IgQUFDXG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVELCAnRmx2OiBVbnN1cHBvcnRlZCBhdWRpbyBjb2RlYyBpZHg6ICcgKyBzb3VuZEZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc291bmRSYXRlID0gMDtcbiAgICAgICAgbGV0IHNvdW5kUmF0ZUluZGV4ID0gKHNvdW5kU3BlYyAmIDEyKSA+Pj4gMjtcbiAgICAgICAgaWYgKHNvdW5kUmF0ZUluZGV4ID49IDAgJiYgc291bmRSYXRlSW5kZXggPD0gNCkge1xuICAgICAgICAgICAgc291bmRSYXRlID0gdGhpcy5fZmx2U291bmRSYXRlVGFibGVbc291bmRSYXRlSW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEludmFsaWQgYXVkaW8gc2FtcGxlIHJhdGUgaWR4OiAnICsgc291bmRSYXRlSW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNvdW5kU2l6ZSA9IChzb3VuZFNwZWMgJiAyKSA+Pj4gMTsgIC8vIHVudXNlZFxuICAgICAgICBsZXQgc291bmRUeXBlID0gKHNvdW5kU3BlYyAmIDEpO1xuXG5cbiAgICAgICAgbGV0IG1ldGEgPSB0aGlzLl9hdWRpb01ldGFkYXRhO1xuICAgICAgICBsZXQgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrO1xuXG4gICAgICAgIGlmICghbWV0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvID09PSBmYWxzZSAmJiB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzQXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluaXRpYWwgbWV0YWRhdGFcbiAgICAgICAgICAgIG1ldGEgPSB0aGlzLl9hdWRpb01ldGFkYXRhID0ge307XG4gICAgICAgICAgICBtZXRhLnR5cGUgPSAnYXVkaW8nO1xuICAgICAgICAgICAgbWV0YS5pZCA9IHRyYWNrLmlkO1xuICAgICAgICAgICAgbWV0YS50aW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgICAgICBtZXRhLmR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG4gICAgICAgICAgICBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSA9IHNvdW5kUmF0ZTtcbiAgICAgICAgICAgIG1ldGEuY2hhbm5lbENvdW50ID0gKHNvdW5kVHlwZSA9PT0gMCA/IDEgOiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VuZEZvcm1hdCA9PT0gMTApIHsgIC8vIEFBQ1xuICAgICAgICAgICAgbGV0IGFhY0RhdGEgPSB0aGlzLl9wYXJzZUFBQ0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICBpZiAoYWFjRGF0YSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhYWNEYXRhLnBhY2tldFR5cGUgPT09IDApIHsgIC8vIEFBQyBzZXF1ZW5jZSBoZWFkZXIgKEF1ZGlvU3BlY2lmaWNDb25maWcpXG4gICAgICAgICAgICAgICAgaWYgKG1ldGEuY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRm91bmQgYW5vdGhlciBBdWRpb1NwZWNpZmljQ29uZmlnIScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbWlzYyA9IGFhY0RhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSA9IG1pc2Muc2FtcGxpbmdSYXRlO1xuICAgICAgICAgICAgICAgIG1ldGEuY2hhbm5lbENvdW50ID0gbWlzYy5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgbWV0YS5jb2RlYyA9IG1pc2MuY29kZWM7XG4gICAgICAgICAgICAgICAgbWV0YS5vcmlnaW5hbENvZGVjID0gbWlzYy5vcmlnaW5hbENvZGVjO1xuICAgICAgICAgICAgICAgIG1ldGEuY29uZmlnID0gbWlzYy5jb25maWc7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGRlY29kZSByZXN1bHQgb2YgYW4gYWFjIHNhbXBsZSBpcyAxMDI0IFBDTSBzYW1wbGVzXG4gICAgICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IDEwMjQgLyBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSAqIG1ldGEudGltZXNjYWxlO1xuICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIEF1ZGlvU3BlY2lmaWNDb25maWcnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb24taW5pdGlhbCBtZXRhZGF0YSwgZm9yY2UgZGlzcGF0Y2ggKG9yIGZsdXNoKSBwYXJzZWQgZnJhbWVzIHRvIHJlbXV4ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc3BhdGNoICYmICh0aGlzLl9hdWRpb1RyYWNrLmxlbmd0aCB8fCB0aGlzLl92aWRlb1RyYWNrLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZW4gbm90aWZ5IG5ldyBtZXRhZGF0YVxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhKCdhdWRpbycsIG1ldGEpO1xuXG4gICAgICAgICAgICAgICAgbGV0IG1pID0gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvQ29kZWMgPSBtZXRhLm9yaWdpbmFsQ29kZWM7XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9TYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9DaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgICAgICBpZiAobWkuaGFzVmlkZW8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pLnZpZGVvQ29kZWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJywnICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWkuaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKG1pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFhY0RhdGEucGFja2V0VHlwZSA9PT0gMSkgeyAgLy8gQUFDIHJhdyBmcmFtZSBkYXRhXG4gICAgICAgICAgICAgICAgbGV0IGR0cyA9IHRoaXMuX3RpbWVzdGFtcEJhc2UgKyB0YWdUaW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgbGV0IGFhY1NhbXBsZSA9IHt1bml0OiBhYWNEYXRhLmRhdGEsIGR0czogZHRzLCBwdHM6IGR0c307XG4gICAgICAgICAgICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKGFhY1NhbXBsZSk7XG4gICAgICAgICAgICAgICAgdHJhY2subGVuZ3RoICs9IGFhY0RhdGEuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBgRmx2OiBVbnN1cHBvcnRlZCBBQUMgZGF0YSB0eXBlICR7YWFjRGF0YS5wYWNrZXRUeXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNvdW5kRm9ybWF0ID09PSAyKSB7ICAvLyBNUDNcbiAgICAgICAgICAgIGlmICghbWV0YS5jb2RlYykge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgbWV0YWRhdGEgZm9yIG1wMyBhdWRpbyB0cmFjaywgZXh0cmFjdCBpbmZvIGZyb20gZnJhbWUgaGVhZGVyXG4gICAgICAgICAgICAgICAgbGV0IG1pc2MgPSB0aGlzLl9wYXJzZU1QM0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1pc2MgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWV0YS5hdWRpb1NhbXBsZVJhdGUgPSBtaXNjLnNhbXBsaW5nUmF0ZTtcbiAgICAgICAgICAgICAgICBtZXRhLmNoYW5uZWxDb3VudCA9IG1pc2MuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIG1ldGEuY29kZWMgPSBtaXNjLmNvZGVjO1xuICAgICAgICAgICAgICAgIG1ldGEub3JpZ2luYWxDb2RlYyA9IG1pc2Mub3JpZ2luYWxDb2RlYztcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGVjb2RlIHJlc3VsdCBvZiBhbiBtcDMgc2FtcGxlIGlzIDExNTIgUENNIHNhbXBsZXNcbiAgICAgICAgICAgICAgICBtZXRhLnJlZlNhbXBsZUR1cmF0aW9uID0gMTE1MiAvIG1ldGEuYXVkaW9TYW1wbGVSYXRlICogbWV0YS50aW1lc2NhbGU7XG4gICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgTVBFRyBBdWRpbyBGcmFtZSBIZWFkZXInKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhKCdhdWRpbycsIG1ldGEpO1xuXG4gICAgICAgICAgICAgICAgbGV0IG1pID0gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvQ29kZWMgPSBtZXRhLmNvZGVjO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvU2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvQ2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgbWkuYXVkaW9EYXRhUmF0ZSA9IG1pc2MuYml0UmF0ZTtcbiAgICAgICAgICAgICAgICBpZiAobWkuaGFzVmlkZW8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pLnZpZGVvQ29kZWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJywnICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWkuaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKG1pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoaXMgcGFja2V0IGlzIGFsd2F5cyBhIHZhbGlkIGF1ZGlvIHBhY2tldCwgZXh0cmFjdCBpdFxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9wYXJzZU1QM0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGRhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGR0cyA9IHRoaXMuX3RpbWVzdGFtcEJhc2UgKyB0YWdUaW1lc3RhbXA7XG4gICAgICAgICAgICBsZXQgbXAzU2FtcGxlID0ge3VuaXQ6IGRhdGEsIGR0czogZHRzLCBwdHM6IGR0c307XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2gobXAzU2FtcGxlKTtcbiAgICAgICAgICAgIHRyYWNrLmxlbmd0aCArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZUFBQ0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDw9IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIEFBQyBwYWNrZXQsIG1pc3NpbmcgQUFDUGFja2V0VHlwZSBvci9hbmQgRGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICByZXN1bHQucGFja2V0VHlwZSA9IGFycmF5WzBdO1xuXG4gICAgICAgIGlmIChhcnJheVswXSA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSB0aGlzLl9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSBhcnJheS5zdWJhcnJheSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGNvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgLyogQXVkaW8gT2JqZWN0IFR5cGU6XG4gICAgICAgICAgIDA6IE51bGxcbiAgICAgICAgICAgMTogQUFDIE1haW5cbiAgICAgICAgICAgMjogQUFDIExDXG4gICAgICAgICAgIDM6IEFBQyBTU1IgKFNjYWxhYmxlIFNhbXBsZSBSYXRlKVxuICAgICAgICAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICAgICAgICAgNTogSEUtQUFDIC8gU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKVxuICAgICAgICAgICA2OiBBQUMgU2NhbGFibGVcbiAgICAgICAgKi9cblxuICAgICAgICBsZXQgYXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IGF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSA9IG51bGw7XG4gICAgICAgIGxldCBzYW1wbGluZ0luZGV4ID0gMDtcbiAgICAgICAgbGV0IGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBudWxsO1xuXG4gICAgICAgIC8vIDUgYml0c1xuICAgICAgICBhdWRpb09iamVjdFR5cGUgPSBvcmlnaW5hbEF1ZGlvT2JqZWN0VHlwZSA9IGFycmF5WzBdID4+PiAzO1xuICAgICAgICAvLyA0IGJpdHNcbiAgICAgICAgc2FtcGxpbmdJbmRleCA9ICgoYXJyYXlbMF0gJiAweDA3KSA8PCAxKSB8IChhcnJheVsxXSA+Pj4gNyk7XG4gICAgICAgIGlmIChzYW1wbGluZ0luZGV4IDwgMCB8fCBzYW1wbGluZ0luZGV4ID49IHRoaXMuX21wZWdTYW1wbGluZ1JhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEFBQyBpbnZhbGlkIHNhbXBsaW5nIGZyZXF1ZW5jeSBpbmRleCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYW1wbGluZ0ZyZXF1ZW5jZSA9IHRoaXMuX21wZWdTYW1wbGluZ1JhdGVzW3NhbXBsaW5nSW5kZXhdO1xuXG4gICAgICAgIC8vIDQgYml0c1xuICAgICAgICBsZXQgY2hhbm5lbENvbmZpZyA9IChhcnJheVsxXSAmIDB4NzgpID4+PiAzO1xuICAgICAgICBpZiAoY2hhbm5lbENvbmZpZyA8IDAgfHwgY2hhbm5lbENvbmZpZyA+PSA4KSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogQUFDIGludmFsaWQgY2hhbm5lbCBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7ICAvLyBIRS1BQUM/XG4gICAgICAgICAgICAvLyA0IGJpdHNcbiAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSAoKGFycmF5WzFdICYgMHgwNykgPDwgMSkgfCAoYXJyYXlbMl0gPj4+IDcpO1xuICAgICAgICAgICAgLy8gNSBiaXRzXG4gICAgICAgICAgICBhdWRpb0V4dGVuc2lvbk9iamVjdFR5cGUgPSAoYXJyYXlbMl0gJiAweDdDKSA+Pj4gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdvcmthcm91bmRzIGZvciB2YXJpb3VzIGJyb3dzZXJzXG4gICAgICAgIGxldCB1c2VyQWdlbnQgPSBzZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAodXNlckFnZW50LmluZGV4T2YoJ2ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGZpcmVmb3g6IHVzZSBTQlIgKEhFLUFBQykgaWYgZnJlcSBsZXNzIHRoYW4gMjRrSHpcbiAgICAgICAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleCAtIDM7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gdXNlIExDLUFBQ1xuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBhbmRyb2lkOiBhbHdheXMgdXNlIExDLUFBQ1xuICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzLCBlLmcuIGNocm9tZS4uLlxuICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBIRS1BQUMgdG8gbWFrZSBpdCBlYXNpZXIgdG8gc3dpdGNoIGFhYyBjb2RlYyBwcm9maWxlXG4gICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG5cbiAgICAgICAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleCAtIDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb25maWcgPT09IDEpIHsgIC8vIE1vbm8gY2hhbm5lbFxuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnWzBdICA9IGF1ZGlvT2JqZWN0VHlwZSA8PCAzO1xuICAgICAgICBjb25maWdbMF0gfD0gKHNhbXBsaW5nSW5kZXggJiAweDBGKSA+Pj4gMTtcbiAgICAgICAgY29uZmlnWzFdICA9IChzYW1wbGluZ0luZGV4ICYgMHgwRikgPDwgNztcbiAgICAgICAgY29uZmlnWzFdIHw9IChjaGFubmVsQ29uZmlnICYgMHgwRikgPDwgMztcbiAgICAgICAgaWYgKGF1ZGlvT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgICAgICAgICAgY29uZmlnWzFdIHw9ICgoZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MEYpID4+PiAxKTtcbiAgICAgICAgICAgIGNvbmZpZ1syXSAgPSAoZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gICAgICAgICAgICAvLyBleHRlbmRlZCBhdWRpbyBvYmplY3QgdHlwZTogZm9yY2UgdG8gMiAoTEMtQUFDKVxuICAgICAgICAgICAgY29uZmlnWzJdIHw9ICgyIDw8IDIpO1xuICAgICAgICAgICAgY29uZmlnWzNdICA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgICBzYW1wbGluZ1JhdGU6IHNhbXBsaW5nRnJlcXVlbmNlLFxuICAgICAgICAgICAgY2hhbm5lbENvdW50OiBjaGFubmVsQ29uZmlnLFxuICAgICAgICAgICAgY29kZWM6ICdtcDRhLjQwLicgKyBhdWRpb09iamVjdFR5cGUsXG4gICAgICAgICAgICBvcmlnaW5hbENvZGVjOiAnbXA0YS40MC4nICsgb3JpZ2luYWxBdWRpb09iamVjdFR5cGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfcGFyc2VNUDNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCByZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8IDQpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIE1QMyBwYWNrZXQsIGhlYWRlciBtaXNzaW5nIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICBpZiAocmVxdWVzdEhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGFycmF5WzBdICE9PSAweEZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZlciA9IChhcnJheVsxXSA+Pj4gMykgJiAweDAzO1xuICAgICAgICAgICAgbGV0IGxheWVyID0gKGFycmF5WzFdICYgMHgwNikgPj4gMTtcblxuICAgICAgICAgICAgbGV0IGJpdHJhdGVfaW5kZXggPSAoYXJyYXlbMl0gJiAweEYwKSA+Pj4gNDtcbiAgICAgICAgICAgIGxldCBzYW1wbGluZ19mcmVxX2luZGV4ID0gKGFycmF5WzJdICYgMHgwQykgPj4+IDI7XG5cbiAgICAgICAgICAgIGxldCBjaGFubmVsX21vZGUgPSAoYXJyYXlbM10gPj4+IDYpICYgMHgwMztcbiAgICAgICAgICAgIGxldCBjaGFubmVsX2NvdW50ID0gY2hhbm5lbF9tb2RlICE9PSAzID8gMiA6IDE7XG5cbiAgICAgICAgICAgIGxldCBzYW1wbGVfcmF0ZSA9IDA7XG4gICAgICAgICAgICBsZXQgYml0X3JhdGUgPSAwO1xuICAgICAgICAgICAgbGV0IG9iamVjdF90eXBlID0gMzQ7ICAvLyBMYXllci0zLCBsaXN0ZWQgaW4gTVBFRy00IEF1ZGlvIE9iamVjdCBUeXBlc1xuXG4gICAgICAgICAgICBsZXQgY29kZWMgPSAnbXAzJztcblxuICAgICAgICAgICAgc3dpdGNoICh2ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6ICAvLyBNUEVHIDIuNVxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZVtzYW1wbGluZ19mcmVxX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOiAgLy8gTVBFRyAyXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvVjIwU2FtcGxlUmF0ZVRhYmxlW3NhbXBsaW5nX2ZyZXFfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6ICAvLyBNUEVHIDFcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9WMTBTYW1wbGVSYXRlVGFibGVbc2FtcGxpbmdfZnJlcV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiAgLy8gTGF5ZXIgM1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RfdHlwZSA9IDM0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0cmF0ZV9pbmRleCA8IHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0X3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZVtiaXRyYXRlX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6ICAvLyBMYXllciAyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdF90eXBlID0gMzM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRyYXRlX2luZGV4IDwgdGhpcy5fbXBlZ0F1ZGlvTDJCaXRSYXRlVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlW2JpdHJhdGVfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogIC8vIExheWVyIDFcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3R5cGUgPSAzMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHJhdGVfaW5kZXggPCB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdF9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvTDFCaXRSYXRlVGFibGVbYml0cmF0ZV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBiaXRSYXRlOiBiaXRfcmF0ZSxcbiAgICAgICAgICAgICAgICBzYW1wbGluZ1JhdGU6IHNhbXBsZV9yYXRlLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogY2hhbm5lbF9jb3VudCxcbiAgICAgICAgICAgICAgICBjb2RlYzogY29kZWMsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxDb2RlYzogY29kZWNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX3BhcnNlVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbikge1xuICAgICAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgdmlkZW8gcGFja2V0LCBtaXNzaW5nIFZpZGVvRGF0YSBwYXlsb2FkIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCA9PT0gdHJ1ZSAmJiB0aGlzLl9oYXNWaWRlbyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIElmIGhhc1ZpZGVvOiBmYWxzZSBpbmRpY2F0ZWQgZXhwbGljaXRseSBpbiBNZWRpYURhdGFTb3VyY2UsXG4gICAgICAgICAgICAvLyBJZ25vcmUgYWxsIHRoZSB2aWRlbyBwYWNrZXRzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BlYyA9IChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpKVswXTtcblxuICAgICAgICBsZXQgZnJhbWVUeXBlID0gKHNwZWMgJiAyNDApID4+PiA0O1xuICAgICAgICBsZXQgY29kZWNJZCA9IHNwZWMgJiAxNTtcblxuICAgICAgICBpZiAoY29kZWNJZCAhPT0gNykge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5DT0RFQ19VTlNVUFBPUlRFRCwgYEZsdjogVW5zdXBwb3J0ZWQgY29kZWMgaW4gdmlkZW8gZnJhbWU6ICR7Y29kZWNJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9QYWNrZXQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSk7XG4gICAgfVxuXG4gICAgX3BhcnNlQVZDVmlkZW9QYWNrZXQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDIHBhY2tldCwgbWlzc2luZyBBVkNQYWNrZXRUeXBlIG9yL2FuZCBDb21wb3NpdGlvblRpbWUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcblxuICAgICAgICBsZXQgcGFja2V0VHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICAgIGxldCBjdHMgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcblxuICAgICAgICBpZiAocGFja2V0VHlwZSA9PT0gMCkgeyAgLy8gQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmRcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBkYXRhU2l6ZSAtIDQpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFR5cGUgPT09IDEpIHsgIC8vIE9uZSBvciBtb3JlIE5hbHVzXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFWQ1ZpZGVvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDQsIGRhdGFTaXplIC0gNCwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlLCBjdHMpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGVtcHR5LCBBVkMgZW5kIG9mIHNlcXVlbmNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQgdHlwZSAke3BhY2tldFR5cGV9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNykge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQsIGxhY2sgb2YgZGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZXRhID0gdGhpcy5fdmlkZW9NZXRhZGF0YTtcbiAgICAgICAgbGV0IHRyYWNrID0gdGhpcy5fdmlkZW9UcmFjaztcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmICghbWV0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc1ZpZGVvID09PSBmYWxzZSAmJiB0aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVmlkZW8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1ldGEgPSB0aGlzLl92aWRlb01ldGFkYXRhID0ge307XG4gICAgICAgICAgICBtZXRhLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICAgICAgbWV0YS5pZCA9IHRyYWNrLmlkO1xuICAgICAgICAgICAgbWV0YS50aW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgICAgICBtZXRhLmR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1ldGEuYXZjYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmVyc2lvbiA9IHYuZ2V0VWludDgoMCk7ICAvLyBjb25maWd1cmF0aW9uVmVyc2lvblxuICAgICAgICBsZXQgYXZjUHJvZmlsZSA9IHYuZ2V0VWludDgoMSk7ICAvLyBhdmNQcm9maWxlSW5kaWNhdGlvblxuICAgICAgICBsZXQgcHJvZmlsZUNvbXBhdGliaWxpdHkgPSB2LmdldFVpbnQ4KDIpOyAgLy8gcHJvZmlsZV9jb21wYXRpYmlsaXR5XG4gICAgICAgIGxldCBhdmNMZXZlbCA9IHYuZ2V0VWludDgoMyk7ICAvLyBBVkNMZXZlbEluZGljYXRpb25cblxuICAgICAgICBpZiAodmVyc2lvbiAhPT0gMSB8fCBhdmNQcm9maWxlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmFsdUxlbmd0aFNpemUgPSAodi5nZXRVaW50OCg0KSAmIDMpICsgMTsgIC8vIGxlbmd0aFNpemVNaW51c09uZVxuICAgICAgICBpZiAodGhpcy5fbmFsdUxlbmd0aFNpemUgIT09IDMgJiYgdGhpcy5fbmFsdUxlbmd0aFNpemUgIT09IDQpIHsgIC8vIGhvbHkgc2hpdCEhIVxuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsIGBGbHY6IFN0cmFuZ2UgTmFsdUxlbmd0aFNpemVNaW51c09uZTogJHt0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAtIDF9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BzQ291bnQgPSB2LmdldFVpbnQ4KDUpICYgMzE7ICAvLyBudW1PZlNlcXVlbmNlUGFyYW1ldGVyU2V0c1xuICAgICAgICBpZiAoc3BzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBObyBTUFMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChzcHNDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgRmx2OiBTdHJhbmdlIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBTUFMgQ291bnQgPSAke3Nwc0NvdW50fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDY7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdi5nZXRVaW50MTYob2Zmc2V0LCAhbGUpOyAgLy8gc2VxdWVuY2VQYXJhbWV0ZXJTZXRMZW5ndGhcbiAgICAgICAgICAgIG9mZnNldCArPSAyO1xuXG4gICAgICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdGljZTogTmFsdSB3aXRob3V0IHN0YXJ0Y29kZSBoZWFkZXIgKDAwIDAwIDAwIDAxKVxuICAgICAgICAgICAgbGV0IHNwcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBsZW4pO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbjtcblxuICAgICAgICAgICAgbGV0IGNvbmZpZyA9IFNQU1BhcnNlci5wYXJzZVNQUyhzcHMpO1xuICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgb3RoZXIgc3BzJ3MgY29uZmlnXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1ldGEuY29kZWNXaWR0aCA9IGNvbmZpZy5jb2RlY19zaXplLndpZHRoO1xuICAgICAgICAgICAgbWV0YS5jb2RlY0hlaWdodCA9IGNvbmZpZy5jb2RlY19zaXplLmhlaWdodDtcbiAgICAgICAgICAgIG1ldGEucHJlc2VudFdpZHRoID0gY29uZmlnLnByZXNlbnRfc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIG1ldGEucHJlc2VudEhlaWdodCA9IGNvbmZpZy5wcmVzZW50X3NpemUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBtZXRhLnByb2ZpbGUgPSBjb25maWcucHJvZmlsZV9zdHJpbmc7XG4gICAgICAgICAgICBtZXRhLmxldmVsID0gY29uZmlnLmxldmVsX3N0cmluZztcbiAgICAgICAgICAgIG1ldGEuYml0RGVwdGggPSBjb25maWcuYml0X2RlcHRoO1xuICAgICAgICAgICAgbWV0YS5jaHJvbWFGb3JtYXQgPSBjb25maWcuY2hyb21hX2Zvcm1hdDtcbiAgICAgICAgICAgIG1ldGEuc2FyUmF0aW8gPSBjb25maWcuc2FyX3JhdGlvO1xuICAgICAgICAgICAgbWV0YS5mcmFtZVJhdGUgPSBjb25maWcuZnJhbWVfcmF0ZTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5mcmFtZV9yYXRlLmZpeGVkID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgICAgIGNvbmZpZy5mcmFtZV9yYXRlLmZwc19udW0gPT09IDAgfHxcbiAgICAgICAgICAgICAgICBjb25maWcuZnJhbWVfcmF0ZS5mcHNfZGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5mcmFtZVJhdGUgPSB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmcHNfZGVuID0gbWV0YS5mcmFtZVJhdGUuZnBzX2RlbjtcbiAgICAgICAgICAgIGxldCBmcHNfbnVtID0gbWV0YS5mcmFtZVJhdGUuZnBzX251bTtcbiAgICAgICAgICAgIG1ldGEucmVmU2FtcGxlRHVyYXRpb24gPSBtZXRhLnRpbWVzY2FsZSAqIChmcHNfZGVuIC8gZnBzX251bSk7XG5cbiAgICAgICAgICAgIGxldCBjb2RlY0FycmF5ID0gc3BzLnN1YmFycmF5KDEsIDQpO1xuICAgICAgICAgICAgbGV0IGNvZGVjU3RyaW5nID0gJ2F2YzEuJztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBjb2RlY0FycmF5W2pdLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2RlY1N0cmluZyArPSBoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YS5jb2RlYyA9IGNvZGVjU3RyaW5nO1xuXG4gICAgICAgICAgICBsZXQgbWkgPSB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgICAgICBtaS53aWR0aCA9IG1ldGEuY29kZWNXaWR0aDtcbiAgICAgICAgICAgIG1pLmhlaWdodCA9IG1ldGEuY29kZWNIZWlnaHQ7XG4gICAgICAgICAgICBtaS5mcHMgPSBtZXRhLmZyYW1lUmF0ZS5mcHM7XG4gICAgICAgICAgICBtaS5wcm9maWxlID0gbWV0YS5wcm9maWxlO1xuICAgICAgICAgICAgbWkubGV2ZWwgPSBtZXRhLmxldmVsO1xuICAgICAgICAgICAgbWkuY2hyb21hRm9ybWF0ID0gY29uZmlnLmNocm9tYV9mb3JtYXRfc3RyaW5nO1xuICAgICAgICAgICAgbWkuc2FyTnVtID0gbWV0YS5zYXJSYXRpby53aWR0aDtcbiAgICAgICAgICAgIG1pLnNhckRlbiA9IG1ldGEuc2FyUmF0aW8uaGVpZ2h0O1xuICAgICAgICAgICAgbWkudmlkZW9Db2RlYyA9IGNvZGVjU3RyaW5nO1xuXG4gICAgICAgICAgICBpZiAobWkuaGFzQXVkaW8pIHtcbiAgICAgICAgICAgICAgICBpZiAobWkuYXVkaW9Db2RlYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaS5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHBzQ291bnQgPSB2LmdldFVpbnQ4KG9mZnNldCk7ICAvLyBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzXG4gICAgICAgIGlmIChwcHNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IE5vIFBQUycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHBwc0NvdW50ID4gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBGbHY6IFN0cmFuZ2UgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IFBQUyBDb3VudCA9ICR7cHBzQ291bnR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBvZmZzZXQrKztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBwc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB2LmdldFVpbnQxNihvZmZzZXQsICFsZSk7ICAvLyBwaWN0dXJlUGFyYW1ldGVyU2V0TGVuZ3RoXG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwcHMgaXMgdXNlbGVzcyBmb3IgZXh0cmFjdGluZyB2aWRlbyBpbmZvcm1hdGlvblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1ldGEuYXZjYyA9IG5ldyBVaW50OEFycmF5KGRhdGFTaXplKTtcbiAgICAgICAgbWV0YS5hdmNjLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpLCAwKTtcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQnKTtcblxuICAgICAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgICAgICAgIC8vIGZsdXNoIHBhcnNlZCBmcmFtZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaCAmJiAodGhpcy5fYXVkaW9UcmFjay5sZW5ndGggfHwgdGhpcy5fdmlkZW9UcmFjay5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssIHRoaXMuX3ZpZGVvVHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RpZnkgbmV3IG1ldGFkYXRhXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSgndmlkZW8nLCBtZXRhKTtcbiAgICB9XG5cbiAgICBfcGFyc2VBVkNWaWRlb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUsIGN0cykge1xuICAgICAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgbGV0IHVuaXRzID0gW10sIGxlbmd0aCA9IDA7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGNvbnN0IGxlbmd0aFNpemUgPSB0aGlzLl9uYWx1TGVuZ3RoU2l6ZTtcbiAgICAgICAgbGV0IGR0cyA9IHRoaXMuX3RpbWVzdGFtcEJhc2UgKyB0YWdUaW1lc3RhbXA7XG4gICAgICAgIGxldCBrZXlmcmFtZSA9IChmcmFtZVR5cGUgPT09IDEpOyAgLy8gZnJvbSBGTFYgRnJhbWUgVHlwZSBjb25zdGFudHNcblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyA0ID49IGRhdGFTaXplKSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBNYWxmb3JtZWQgTmFsdSBuZWFyIHRpbWVzdGFtcCAke2R0c30sIG9mZnNldCA9ICR7b2Zmc2V0fSwgZGF0YVNpemUgPSAke2RhdGFTaXplfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAgLy8gZGF0YSBub3QgZW5vdWdoIGZvciBuZXh0IE5hbHVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5hbHUgd2l0aCBsZW5ndGgtaGVhZGVyIChBVkMxKVxuICAgICAgICAgICAgbGV0IG5hbHVTaXplID0gdi5nZXRVaW50MzIob2Zmc2V0LCAhbGUpOyAgLy8gQmlnLUVuZGlhbiByZWFkXG4gICAgICAgICAgICBpZiAobGVuZ3RoU2l6ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgIG5hbHVTaXplID4+Pj0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYWx1U2l6ZSA+IGRhdGFTaXplIC0gbGVuZ3RoU2l6ZSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgTWFsZm9ybWVkIE5hbHVzIG5lYXIgdGltZXN0YW1wICR7ZHRzfSwgTmFsdVNpemUgPiBEYXRhU2l6ZSFgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB1bml0VHlwZSA9IHYuZ2V0VWludDgob2Zmc2V0ICsgbGVuZ3RoU2l6ZSkgJiAweDFGO1xuXG4gICAgICAgICAgICBpZiAodW5pdFR5cGUgPT09IDUpIHsgIC8vIElEUlxuICAgICAgICAgICAgICAgIGtleWZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgbGVuZ3RoU2l6ZSArIG5hbHVTaXplKTtcbiAgICAgICAgICAgIGxldCB1bml0ID0ge3R5cGU6IHVuaXRUeXBlLCBkYXRhOiBkYXRhfTtcbiAgICAgICAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICAgICAgICBsZW5ndGggKz0gZGF0YS5ieXRlTGVuZ3RoO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gbGVuZ3RoU2l6ZSArIG5hbHVTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHRyYWNrID0gdGhpcy5fdmlkZW9UcmFjaztcbiAgICAgICAgICAgIGxldCBhdmNTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgdW5pdHM6IHVuaXRzLFxuICAgICAgICAgICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICAgICAgICAgIGlzS2V5ZnJhbWU6IGtleWZyYW1lLFxuICAgICAgICAgICAgICAgIGR0czogZHRzLFxuICAgICAgICAgICAgICAgIGN0czogY3RzLFxuICAgICAgICAgICAgICAgIHB0czogKGR0cyArIGN0cylcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoa2V5ZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZmlsZXBvc2l0aW9uID0gdGFnUG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2goYXZjU2FtcGxlKTtcbiAgICAgICAgICAgIHRyYWNrLmxlbmd0aCArPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRkxWRGVtdXhlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV4cEdvbG9tYiBmcm9tICcuL2V4cC1nb2xvbWIuanMnO1xuXG5jbGFzcyBTUFNQYXJzZXIge1xuXG4gICAgc3RhdGljIF9lYnNwMnJic3AodWludDhhcnJheSkge1xuICAgICAgICBsZXQgc3JjID0gdWludDhhcnJheTtcbiAgICAgICAgbGV0IHNyY19sZW5ndGggPSBzcmMuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IGRzdCA9IG5ldyBVaW50OEFycmF5KHNyY19sZW5ndGgpO1xuICAgICAgICBsZXQgZHN0X2lkeCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmNfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBVbmVzY2FwZTogU2tpcCAweDAzIGFmdGVyIDAwIDAwXG4gICAgICAgICAgICAgICAgaWYgKHNyY1tpXSA9PT0gMHgwMyAmJiBzcmNbaSAtIDFdID09PSAweDAwICYmIHNyY1tpIC0gMl0gPT09IDB4MDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHN0W2RzdF9pZHhdID0gc3JjW2ldO1xuICAgICAgICAgICAgZHN0X2lkeCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRzdC5idWZmZXIsIDAsIGRzdF9pZHgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVNQUyh1aW50OGFycmF5KSB7XG4gICAgICAgIGxldCByYnNwID0gU1BTUGFyc2VyLl9lYnNwMnJic3AodWludDhhcnJheSk7XG4gICAgICAgIGxldCBnYiA9IG5ldyBFeHBHb2xvbWIocmJzcCk7XG5cbiAgICAgICAgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgbGV0IHByb2ZpbGVfaWRjID0gZ2IucmVhZEJ5dGUoKTsgIC8vIHByb2ZpbGVfaWRjXG4gICAgICAgIGdiLnJlYWRCeXRlKCk7ICAvLyBjb25zdHJhaW50X3NldF9mbGFnc1s1XSArIHJlc2VydmVkX3plcm9bM11cbiAgICAgICAgbGV0IGxldmVsX2lkYyA9IGdiLnJlYWRCeXRlKCk7ICAvLyBsZXZlbF9pZGNcbiAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcblxuICAgICAgICBsZXQgcHJvZmlsZV9zdHJpbmcgPSBTUFNQYXJzZXIuZ2V0UHJvZmlsZVN0cmluZyhwcm9maWxlX2lkYyk7XG4gICAgICAgIGxldCBsZXZlbF9zdHJpbmcgPSBTUFNQYXJzZXIuZ2V0TGV2ZWxTdHJpbmcobGV2ZWxfaWRjKTtcbiAgICAgICAgbGV0IGNocm9tYV9mb3JtYXRfaWRjID0gMTtcbiAgICAgICAgbGV0IGNocm9tYV9mb3JtYXQgPSA0MjA7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0X3RhYmxlID0gWzAsIDQyMCwgNDIyLCA0NDRdO1xuICAgICAgICBsZXQgYml0X2RlcHRoID0gODtcblxuICAgICAgICBpZiAocHJvZmlsZV9pZGMgPT09IDEwMCB8fCBwcm9maWxlX2lkYyA9PT0gMTEwIHx8IHByb2ZpbGVfaWRjID09PSAxMjIgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAyNDQgfHwgcHJvZmlsZV9pZGMgPT09IDQ0IHx8IHByb2ZpbGVfaWRjID09PSA4MyB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDg2IHx8IHByb2ZpbGVfaWRjID09PSAxMTggfHwgcHJvZmlsZV9pZGMgPT09IDEyOCB8fFxuICAgICAgICAgICAgcHJvZmlsZV9pZGMgPT09IDEzOCB8fCBwcm9maWxlX2lkYyA9PT0gMTQ0KSB7XG5cbiAgICAgICAgICAgIGNocm9tYV9mb3JtYXRfaWRjID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgaWYgKGNocm9tYV9mb3JtYXRfaWRjID09PSAzKSB7XG4gICAgICAgICAgICAgICAgZ2IucmVhZEJpdHMoMSk7ICAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNocm9tYV9mb3JtYXRfaWRjIDw9IDMpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWFfZm9ybWF0ID0gY2hyb21hX2Zvcm1hdF90YWJsZVtjaHJvbWFfZm9ybWF0X2lkY107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJpdF9kZXB0aCA9IGdiLnJlYWRVRUcoKSArIDg7ICAvLyBiaXRfZGVwdGhfbHVtYV9taW51czhcbiAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGJpdF9kZXB0aF9jaHJvbWFfbWludXM4XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIHFwcHJpbWVfeV96ZXJvX3RyYW5zZm9ybV9ieXBhc3NfZmxhZ1xuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIHNlcV9zY2FsaW5nX21hdHJpeF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgc2NhbGluZ19saXN0X2NvdW50ID0gKGNocm9tYV9mb3JtYXRfaWRjICE9PSAzKSA/IDggOiAxMjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjYWxpbmdfbGlzdF9jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBzZXFfc2NhbGluZ19saXN0X3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BTUGFyc2VyLl9za2lwU2NhbGluZ0xpc3QoZ2IsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BTUGFyc2VyLl9za2lwU2NhbGluZ0xpc3QoZ2IsIDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBsb2cyX21heF9mcmFtZV9udW1fbWludXM0XG4gICAgICAgIGxldCBwaWNfb3JkZXJfY250X3R5cGUgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgIGlmIChwaWNfb3JkZXJfY250X3R5cGUgPT09IDApIHtcbiAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGxvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiX21pbnVzXzRcbiAgICAgICAgfSBlbHNlIGlmIChwaWNfb3JkZXJfY250X3R5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gZGVsdGFfcGljX29yZGVyX2Fsd2F5c196ZXJvX2ZsYWdcbiAgICAgICAgICAgIGdiLnJlYWRTRUcoKTsgIC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgICAgICAgIGdiLnJlYWRTRUcoKTsgIC8vIG9mZnNldF9mb3JfdG9wX3RvX2JvdHRvbV9maWVsZFxuICAgICAgICAgICAgbGV0IG51bV9yZWZfZnJhbWVzX2luX3BpY19vcmRlcl9jbnRfY3ljbGUgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bV9yZWZfZnJhbWVzX2luX3BpY19vcmRlcl9jbnRfY3ljbGU7IGkrKykge1xuICAgICAgICAgICAgICAgIGdiLnJlYWRTRUcoKTsgIC8vIG9mZnNldF9mb3JfcmVmX2ZyYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gbWF4X251bV9yZWZfZnJhbWVzXG4gICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gZ2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnXG5cbiAgICAgICAgbGV0IHBpY193aWR0aF9pbl9tYnNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBsZXQgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuXG4gICAgICAgIGxldCBmcmFtZV9tYnNfb25seV9mbGFnID0gZ2IucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZV9tYnNfb25seV9mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcHBpbmdfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmIChmcmFtZV9jcm9wcGluZ19mbGFnKSB7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2FyX3dpZHRoID0gMSwgc2FyX2hlaWdodCA9IDE7XG4gICAgICAgIGxldCBmcHMgPSAwLCBmcHNfZml4ZWQgPSB0cnVlLCBmcHNfbnVtID0gMCwgZnBzX2RlbiA9IDA7XG5cbiAgICAgICAgbGV0IHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmICh2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgYXNwZWN0X3JhdGlvX2lkYyA9IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNhcl93X3RhYmxlID0gWzEsIDEyLCAxMCwgMTYsIDQwLCAyNCwgMjAsIDMyLCA4MCwgMTgsIDE1LCA2NCwgMTYwLCA0LCAzLCAyXTtcbiAgICAgICAgICAgICAgICBsZXQgc2FyX2hfdGFibGUgPSBbMSwgMTEsIDExLCAxMSwgMzMsIDExLCAxMSwgMTEsIDMzLCAxMSwgMTEsIDMzLCAgOTksIDMsIDIsIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pZGMgPiAwICYmIGFzcGVjdF9yYXRpb19pZGMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBzYXJfd2lkdGggPSBzYXJfd190YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNhcl9oZWlnaHQgPSBzYXJfaF90YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RfcmF0aW9faWRjID09PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FyX3dpZHRoID0gZ2IucmVhZEJ5dGUoKSA8PCA4IHwgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FyX2hlaWdodCA9IGdiLnJlYWRCeXRlKCkgPDwgOCB8IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gb3ZlcnNjYW5faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBnYi5yZWFkQm9vbCgpOyAgLy8gb3ZlcnNjYW5fYXBwcm9wcmlhdGVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIHZpZGVvX3NpZ25hbF90eXBlX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDQpOyAgLy8gdmlkZW9fZm9ybWF0ICYgdmlkZW9fZnVsbF9yYW5nZV9mbGFnXG4gICAgICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIGNvbG91cl9kZXNjcmlwdGlvbl9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgZ2IucmVhZEJpdHMoMjQpOyAgLy8gY29sb3VyX3ByaW1hcmllcyAmIHRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyAmIG1hdHJpeF9jb2VmZmljaWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gY2hyb21hX2xvY19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGNocm9tYV9zYW1wbGVfbG9jX3R5cGVfdG9wX2ZpZWxkXG4gICAgICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gY2hyb21hX3NhbXBsZV9sb2NfdHlwZV9ib3R0b21fZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyB0aW1pbmdfaW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgbnVtX3VuaXRzX2luX3RpY2sgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgbGV0IHRpbWVfc2NhbGUgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgZnBzX2ZpeGVkID0gZ2IucmVhZEJvb2woKTsgIC8vIGZpeGVkX2ZyYW1lX3JhdGVfZmxhZ1xuXG4gICAgICAgICAgICAgICAgZnBzX251bSA9IHRpbWVfc2NhbGU7XG4gICAgICAgICAgICAgICAgZnBzX2RlbiA9IG51bV91bml0c19pbl90aWNrICogMjtcbiAgICAgICAgICAgICAgICBmcHMgPSBmcHNfbnVtIC8gZnBzX2RlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXJTY2FsZSA9IDE7XG4gICAgICAgIGlmIChzYXJfd2lkdGggIT09IDEgfHwgc2FyX2hlaWdodCAhPT0gMSkge1xuICAgICAgICAgICAgc2FyU2NhbGUgPSBzYXJfd2lkdGggLyBzYXJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyb3BfdW5pdF94ID0gMCwgY3JvcF91bml0X3kgPSAwO1xuICAgICAgICBpZiAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDApIHtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gMiAtIGZyYW1lX21ic19vbmx5X2ZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3ViX3djID0gKGNocm9tYV9mb3JtYXRfaWRjID09PSAzKSA/IDEgOiAyO1xuICAgICAgICAgICAgbGV0IHN1Yl9oYyA9IChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gc3ViX3djO1xuICAgICAgICAgICAgY3JvcF91bml0X3kgPSBzdWJfaGMgKiAoMiAtIGZyYW1lX21ic19vbmx5X2ZsYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvZGVjX3dpZHRoID0gKHBpY193aWR0aF9pbl9tYnNfbWludXMxICsgMSkgKiAxNjtcbiAgICAgICAgbGV0IGNvZGVjX2hlaWdodCA9ICgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAoKHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSArIDEpICogMTYpO1xuXG4gICAgICAgIGNvZGVjX3dpZHRoIC09IChmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ICsgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQpICogY3JvcF91bml0X3g7XG4gICAgICAgIGNvZGVjX2hlaWdodCAtPSAoZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ICsgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0KSAqIGNyb3BfdW5pdF95O1xuXG4gICAgICAgIGxldCBwcmVzZW50X3dpZHRoID0gTWF0aC5jZWlsKGNvZGVjX3dpZHRoICogc2FyU2NhbGUpO1xuXG4gICAgICAgIGdiLmRlc3Ryb3koKTtcbiAgICAgICAgZ2IgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9maWxlX3N0cmluZzogcHJvZmlsZV9zdHJpbmcsICAvLyBiYXNlbGluZSwgaGlnaCwgaGlnaDEwLCAuLi5cbiAgICAgICAgICAgIGxldmVsX3N0cmluZzogbGV2ZWxfc3RyaW5nLCAgLy8gMywgMy4xLCA0LCA0LjEsIDUsIDUuMSwgLi4uXG4gICAgICAgICAgICBiaXRfZGVwdGg6IGJpdF9kZXB0aCwgIC8vIDhiaXQsIDEwYml0LCAuLi5cbiAgICAgICAgICAgIGNocm9tYV9mb3JtYXQ6IGNocm9tYV9mb3JtYXQsICAvLyA0OjI6MCwgNDoyOjIsIC4uLlxuICAgICAgICAgICAgY2hyb21hX2Zvcm1hdF9zdHJpbmc6IFNQU1BhcnNlci5nZXRDaHJvbWFGb3JtYXRTdHJpbmcoY2hyb21hX2Zvcm1hdCksXG5cbiAgICAgICAgICAgIGZyYW1lX3JhdGU6IHtcbiAgICAgICAgICAgICAgICBmaXhlZDogZnBzX2ZpeGVkLFxuICAgICAgICAgICAgICAgIGZwczogZnBzLFxuICAgICAgICAgICAgICAgIGZwc19kZW46IGZwc19kZW4sXG4gICAgICAgICAgICAgICAgZnBzX251bTogZnBzX251bVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2FyX3JhdGlvOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHNhcl93aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNhcl9oZWlnaHRcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNvZGVjX3NpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogY29kZWNfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBjb2RlY19oZWlnaHRcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHByZXNlbnRfc2l6ZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBwcmVzZW50X3dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY29kZWNfaGVpZ2h0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIF9za2lwU2NhbGluZ0xpc3QoZ2IsIGNvdW50KSB7XG4gICAgICAgIGxldCBsYXN0X3NjYWxlID0gOCwgbmV4dF9zY2FsZSA9IDg7XG4gICAgICAgIGxldCBkZWx0YV9zY2FsZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5leHRfc2NhbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWx0YV9zY2FsZSA9IGdiLnJlYWRTRUcoKTtcbiAgICAgICAgICAgICAgICBuZXh0X3NjYWxlID0gKGxhc3Rfc2NhbGUgKyBkZWx0YV9zY2FsZSArIDI1NikgJSAyNTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0X3NjYWxlID0gKG5leHRfc2NhbGUgPT09IDApID8gbGFzdF9zY2FsZSA6IG5leHRfc2NhbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJvZmlsZVN0cmluZyhwcm9maWxlX2lkYykge1xuICAgICAgICBzd2l0Y2ggKHByb2ZpbGVfaWRjKSB7XG4gICAgICAgICAgICBjYXNlIDY2OlxuICAgICAgICAgICAgICAgIHJldHVybiAnQmFzZWxpbmUnO1xuICAgICAgICAgICAgY2FzZSA3NzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ01haW4nO1xuICAgICAgICAgICAgY2FzZSA4ODpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0V4dGVuZGVkJztcbiAgICAgICAgICAgIGNhc2UgMTAwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaCc7XG4gICAgICAgICAgICBjYXNlIDExMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2gxMCc7XG4gICAgICAgICAgICBjYXNlIDEyMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2g0MjInO1xuICAgICAgICAgICAgY2FzZSAyNDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoNDQ0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMZXZlbFN0cmluZyhsZXZlbF9pZGMpIHtcbiAgICAgICAgcmV0dXJuIChsZXZlbF9pZGMgLyAxMCkudG9GaXhlZCgxKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q2hyb21hRm9ybWF0U3RyaW5nKGNocm9tYSkge1xuICAgICAgICBzd2l0Y2ggKGNocm9tYSkge1xuICAgICAgICAgICAgY2FzZSA0MjA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICc0OjI6MCc7XG4gICAgICAgICAgICBjYXNlIDQyMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzQ6MjoyJztcbiAgICAgICAgICAgIGNhc2UgNDQ0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnNDo0OjQnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNQU1BhcnNlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IFBvbHlmaWxsIGZyb20gJy4vdXRpbHMvcG9seWZpbGwuanMnO1xuaW1wb3J0IEZlYXR1cmVzIGZyb20gJy4vY29yZS9mZWF0dXJlcy5qcyc7XG5pbXBvcnQgRmx2UGxheWVyIGZyb20gJy4vcGxheWVyL2Zsdi1wbGF5ZXIuanMnO1xuaW1wb3J0IE5hdGl2ZVBsYXllciBmcm9tICcuL3BsYXllci9uYXRpdmUtcGxheWVyLmpzJztcbmltcG9ydCBQbGF5ZXJFdmVudHMgZnJvbSAnLi9wbGF5ZXIvcGxheWVyLWV2ZW50cy5qcyc7XG5pbXBvcnQge0Vycm9yVHlwZXMsIEVycm9yRGV0YWlsc30gZnJvbSAnLi9wbGF5ZXIvcGxheWVyLWVycm9ycy5qcyc7XG5pbXBvcnQgTG9nZ2luZ0NvbnRyb2wgZnJvbSAnLi91dGlscy9sb2dnaW5nLWNvbnRyb2wuanMnO1xuaW1wb3J0IHtJbnZhbGlkQXJndW1lbnRFeGNlcHRpb259IGZyb20gJy4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gaGVyZSBhcmUgYWxsIHRoZSBpbnRlcmZhY2VzXG5cbi8vIGluc3RhbGwgcG9seWZpbGxzXG5Qb2x5ZmlsbC5pbnN0YWxsKCk7XG5cblxuLy8gZmFjdG9yeSBtZXRob2RcbmZ1bmN0aW9uIGNyZWF0ZVBsYXllcihtZWRpYURhdGFTb3VyY2UsIG9wdGlvbmFsQ29uZmlnKSB7XG4gICAgbGV0IG1kcyA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICBpZiAobWRzID09IG51bGwgfHwgdHlwZW9mIG1kcyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignTWVkaWFEYXRhU291cmNlIG11c3QgYmUgYW4gamF2YXNjcmlwdCBvYmplY3QhJyk7XG4gICAgfVxuXG4gICAgaWYgKCFtZHMuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdNZWRpYURhdGFTb3VyY2UgbXVzdCBoYXMgdHlwZSBmaWVsZCB0byBpbmRpY2F0ZSB2aWRlbyBmaWxlIHR5cGUhJyk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChtZHMudHlwZSkge1xuICAgICAgICBjYXNlICdmbHYnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbHZQbGF5ZXIobWRzLCBvcHRpb25hbENvbmZpZyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZVBsYXllcihtZHMsIG9wdGlvbmFsQ29uZmlnKTtcbiAgICB9XG59XG5cblxuLy8gZmVhdHVyZSBkZXRlY3Rpb25cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBGZWF0dXJlcy5zdXBwb3J0TVNFSDI2NFBsYXliYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGdldEZlYXR1cmVMaXN0KCkge1xuICAgIHJldHVybiBGZWF0dXJlcy5nZXRGZWF0dXJlTGlzdCgpO1xufVxuXG5cbi8vIGludGVyZmFjZXNcbmxldCBmbHZqcyA9IHt9O1xuXG5mbHZqcy5jcmVhdGVQbGF5ZXIgPSBjcmVhdGVQbGF5ZXI7XG5mbHZqcy5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuZmx2anMuZ2V0RmVhdHVyZUxpc3QgPSBnZXRGZWF0dXJlTGlzdDtcblxuZmx2anMuRXZlbnRzID0gUGxheWVyRXZlbnRzO1xuZmx2anMuRXJyb3JUeXBlcyA9IEVycm9yVHlwZXM7XG5mbHZqcy5FcnJvckRldGFpbHMgPSBFcnJvckRldGFpbHM7XG5cbmZsdmpzLkZsdlBsYXllciA9IEZsdlBsYXllcjtcbmZsdmpzLk5hdGl2ZVBsYXllciA9IE5hdGl2ZVBsYXllcjtcbmZsdmpzLkxvZ2dpbmdDb250cm9sID0gTG9nZ2luZ0NvbnRyb2w7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbHZqcywgJ3ZlcnNpb24nLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVwbGFjZWQgYnkgYnJvd3NlcmlmeS12ZXJzaW9uaWZ5IHRyYW5zZm9ybVxuICAgICAgICByZXR1cm4gJ19fVkVSU0lPTl9fJztcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZmx2anM7IiwiLy8gZW50cnkvaW5kZXggZmlsZVxuXG4vLyBtYWtlIGl0IGNvbXBhdGlibGUgd2l0aCBicm93c2VyaWZ5J3MgdW1kIHdyYXBwZXJcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mbHYuanMnKS5kZWZhdWx0O1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHtCYXNlTG9hZGVyLCBMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vKiBmZXRjaCArIHN0cmVhbSBJTyBsb2FkZXIuIEN1cnJlbnRseSB3b3JraW5nIG9uIGNocm9tZSA0MysuXG4gKiBmZXRjaCBwcm92aWRlcyBhIGJldHRlciBhbHRlcm5hdGl2ZSBodHRwIEFQSSB0byBYTUxIdHRwUmVxdWVzdFxuICpcbiAqIGZldGNoIHNwZWMgICBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy9cbiAqIHN0cmVhbSBzcGVjICBodHRwczovL3N0cmVhbXMuc3BlYy53aGF0d2cub3JnL1xuICovXG5jbGFzcyBGZXRjaFN0cmVhbUxvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZmV0Y2ggKyBzdHJlYW0gaXMgYnJva2VuIG9uIE1pY3Jvc29mdCBFZGdlLiBEaXNhYmxlIGJlZm9yZSBidWlsZCAxNTA0OC5cbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84MTk2OTA3L1xuICAgICAgICAgICAgLy8gRml4ZWQgaW4gSmFuIDEwLCAyMDE3LiBCdWlsZCAxNTA0OCsgcmVtb3ZlZCBmcm9tIGJsYWNrbGlzdC5cbiAgICAgICAgICAgIGxldCBpc1dvcmtXZWxsRWRnZSA9IEJyb3dzZXIubXNlZGdlICYmIEJyb3dzZXIudmVyc2lvbi5taW5vciA+PSAxNTA0ODtcbiAgICAgICAgICAgIGxldCBicm93c2VyTm90QmxhY2tsaXN0ZWQgPSBCcm93c2VyLm1zZWRnZSA/IGlzV29ya1dlbGxFZGdlIDogdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAoc2VsZi5mZXRjaCAmJiBzZWxmLlJlYWRhYmxlU3RyZWFtICYmIGJyb3dzZXJOb3RCbGFja2xpc3RlZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ2ZldGNoLXN0cmVhbS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnRmV0Y2hTdHJlYW1Mb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwgJiYgZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgc2VsZi5IZWFkZXJzKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrQ29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnSGVhZGVycyA9IHNlZWtDb25maWcuaGVhZGVycztcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb25maWdIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ0hlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIGNvbmZpZ0hlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgY2FjaGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IHBvbGljeSBvZiBGZXRjaCBBUEkgaW4gdGhlIHdoYXR3ZyBzdGFuZGFyZFxuICAgICAgICAgICAgLy8gU2FmYXJpIGluY29ycmVjdGx5IGluZGljYXRlcyAnbm8tcmVmZXJyZXInIGFzIGRlZmF1bHQgcG9saWN5LCBmdWNrIGl0XG4gICAgICAgICAgICByZWZlcnJlclBvbGljeTogJ25vLXJlZmVycmVyLXdoZW4tZG93bmdyYWRlJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNvcnMgaXMgZW5hYmxlZCBieSBkZWZhdWx0XG4gICAgICAgIGlmIChkYXRhU291cmNlLmNvcnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBuby1jb3JzIG1lYW5zICdkaXNyZWdhcmQgY29ycyBwb2xpY3knLCB3aGljaCBjYW4gb25seSBiZSB1c2VkIGluIFNlcnZpY2VXb3JrZXJcbiAgICAgICAgICAgIHBhcmFtcy5tb2RlID0gJ3NhbWUtb3JpZ2luJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdpdGhDcmVkZW50aWFscyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0XG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgcGFyYW1zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVmZXJyZXJQb2xpY3kgZnJvbSBjb25maWdcbiAgICAgICAgaWYgKGRhdGFTb3VyY2UucmVmZXJyZXJQb2xpY3kpIHtcbiAgICAgICAgICAgIHBhcmFtcy5yZWZlcnJlclBvbGljeSA9IGRhdGFTb3VyY2UucmVmZXJyZXJQb2xpY3k7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG4gICAgICAgIHNlbGYuZmV0Y2goc2Vla0NvbmZpZy51cmwsIHBhcmFtcykudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtJZGxlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXMub2sgJiYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXMudXJsICE9PSBzZWVrQ29uZmlnLnVybCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9zZWVrSGFuZGxlci5yZW1vdmVVUkxQYXJhbWV0ZXJzKHJlcy51cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBsZW5ndGhIZWFkZXIgPSByZXMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtTGVuZ3RoJyk7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aEhlYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBwYXJzZUludChsZW5ndGhIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVtcC5jYWxsKHRoaXMsIHJlcy5ib2R5LmdldFJlYWRlcigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiByZXMuc3RhdHVzLCBtc2c6IHJlcy5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ0ZldGNoU3RyZWFtTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHJlcy5zdGF0dXMgKyAnICcgKyByZXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCB7Y29kZTogLTEsIG1zZzogZS5tZXNzYWdlfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9wdW1wKHJlYWRlcikgeyAgLy8gUmVhZGFibGVTdHJlYW1SZWFkZXJcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUodGhpcy5fcmFuZ2UuZnJvbSwgdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gcmVzdWx0LnZhbHVlLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVtcChyZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gMTEgJiYgQnJvd3Nlci5tc2VkZ2UpIHsgIC8vIEludmFsaWRTdGF0ZUVycm9yIG9uIE1pY3Jvc29mdCBFZGdlXG4gICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZDogRWRnZSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgYWZ0ZXIgUmVhZGFibGVTdHJlYW1SZWFkZXIuY2FuY2VsKCkgY2FsbFxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgdW5rbm93biBleGNlcHRpb24uXG4gICAgICAgICAgICAgICAgLy8gUmVsYXRlZCBpc3N1ZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTEyNjUyMDIvXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICAgICAgbGV0IGluZm8gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoKGUuY29kZSA9PT0gMTkgfHwgZS5tZXNzYWdlID09PSAnbmV0d29yayBlcnJvcicpICYmIC8vIE5FVFdPUktfRVJSXG4gICAgICAgICAgICAgICAgKHRoaXMuX2NvbnRlbnRMZW5ndGggPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5fY29udGVudExlbmd0aCAhPT0gbnVsbCAmJiB0aGlzLl9yZWNlaXZlZExlbmd0aCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpKSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgICAgIGluZm8gPSB7Y29kZTogZS5jb2RlLCBtc2c6ICdGZXRjaCBzdHJlYW0gbWVldCBFYXJseS1FT0YnfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FWENFUFRJT047XG4gICAgICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogZS5tZXNzYWdlfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihpbmZvLm1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGZXRjaFN0cmVhbUxvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IFNwZWVkU2FtcGxlciBmcm9tICcuL3NwZWVkLXNhbXBsZXIuanMnO1xuaW1wb3J0IHtMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IEZldGNoU3RyZWFtTG9hZGVyIGZyb20gJy4vZmV0Y2gtc3RyZWFtLWxvYWRlci5qcyc7XG5pbXBvcnQgTW96Q2h1bmtlZExvYWRlciBmcm9tICcuL3hoci1tb3otY2h1bmtlZC1sb2FkZXIuanMnO1xuaW1wb3J0IE1TU3RyZWFtTG9hZGVyIGZyb20gJy4veGhyLW1zc3RyZWFtLWxvYWRlci5qcyc7XG5pbXBvcnQgUmFuZ2VMb2FkZXIgZnJvbSAnLi94aHItcmFuZ2UtbG9hZGVyLmpzJztcbmltcG9ydCBXZWJTb2NrZXRMb2FkZXIgZnJvbSAnLi93ZWJzb2NrZXQtbG9hZGVyLmpzJztcbmltcG9ydCBSYW5nZVNlZWtIYW5kbGVyIGZyb20gJy4vcmFuZ2Utc2Vlay1oYW5kbGVyLmpzJztcbmltcG9ydCBQYXJhbVNlZWtIYW5kbGVyIGZyb20gJy4vcGFyYW0tc2Vlay1oYW5kbGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbiwgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLCBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8qKlxuICogRGF0YVNvdXJjZToge1xuICogICAgIHVybDogc3RyaW5nLFxuICogICAgIGZpbGVzaXplOiBudW1iZXIsXG4gKiAgICAgY29yczogYm9vbGVhbixcbiAqICAgICB3aXRoQ3JlZGVudGlhbHM6IGJvb2xlYW5cbiAqIH1cbiAqIFxuICovXG5cbi8vIE1hbmFnZSBJTyBMb2FkZXJzXG5jbGFzcyBJT0NvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IoZGF0YVNvdXJjZSwgY29uZmlnLCBleHRyYURhdGEpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnSU9Db250cm9sbGVyJztcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2V4dHJhRGF0YSA9IGV4dHJhRGF0YTtcblxuICAgICAgICB0aGlzLl9zdGFzaEluaXRpYWxTaXplID0gMTAyNCAqIDM4NDsgIC8vIGRlZmF1bHQgaW5pdGlhbCBzaXplOiAzODRLQlxuICAgICAgICBpZiAoY29uZmlnLnN0YXNoSW5pdGlhbFNpemUgIT0gdW5kZWZpbmVkICYmIGNvbmZpZy5zdGFzaEluaXRpYWxTaXplID4gMCkge1xuICAgICAgICAgICAgLy8gYXBwbHkgZnJvbSBjb25maWdcbiAgICAgICAgICAgIHRoaXMuX3N0YXNoSW5pdGlhbFNpemUgPSBjb25maWcuc3Rhc2hJbml0aWFsU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXNoU2l6ZSA9IHRoaXMuX3N0YXNoSW5pdGlhbFNpemU7XG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSAxMDI0ICogMTAyNCAqIDM7ICAvLyBpbml0aWFsIHNpemU6IDNNQlxuICAgICAgICB0aGlzLl9zdGFzaEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9lbmFibGVTdGFzaCA9IHRydWU7XG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlU3Rhc2hCdWZmZXIgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuX2lzV2ViU29ja2V0VVJMID0gL3dzcz86XFwvXFwvKC4rPykvLnRlc3QoZGF0YVNvdXJjZS51cmwpO1xuICAgICAgICB0aGlzLl9yZWZUb3RhbExlbmd0aCA9IGRhdGFTb3VyY2UuZmlsZXNpemUgPyBkYXRhU291cmNlLmZpbGVzaXplIDogbnVsbDtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSB0aGlzLl9yZWZUb3RhbExlbmd0aDtcbiAgICAgICAgdGhpcy5fZnVsbFJlcXVlc3RGbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlZGlyZWN0ZWRVUkwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3NwZWVkTm9ybWFsaXplZCA9IDA7XG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlciA9IG5ldyBTcGVlZFNhbXBsZXIoKTtcbiAgICAgICAgdGhpcy5fc3BlZWROb3JtYWxpemVMaXN0ID0gWzY0LCAxMjgsIDI1NiwgMzg0LCA1MTIsIDc2OCwgMTAyNCwgMTUzNiwgMjA0OCwgMzA3MiwgNDA5Nl07XG5cbiAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXN1bWVGcm9tID0gMDtcblxuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25TZWVrZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVkaXJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zZWxlY3RTZWVrSGFuZGxlcigpO1xuICAgICAgICB0aGlzLl9zZWxlY3RMb2FkZXIoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlTG9hZGVyKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlci5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Rhc2hCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSB0aGlzLl9zdGFzaFNpemUgPSB0aGlzLl9idWZmZXJTaXplID0gdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25TZWVrZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uUmVkaXJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9leHRyYURhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIGlzV29ya2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlciAmJiB0aGlzLl9sb2FkZXIuaXNXb3JraW5nKCkgJiYgIXRoaXMuX3BhdXNlZDtcbiAgICB9XG5cbiAgICBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdXNlZDtcbiAgICB9XG5cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyLnN0YXR1cztcbiAgICB9XG5cbiAgICBnZXQgZXh0cmFEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXh0cmFEYXRhO1xuICAgIH1cblxuICAgIHNldCBleHRyYURhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLl9leHRyYURhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24gb25EYXRhQXJyaXZhbChjaHVua3M6IEFycmF5QnVmZmVyLCBieXRlU3RhcnQ6IG51bWJlcik6IG51bWJlclxuICAgIGdldCBvbkRhdGFBcnJpdmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25EYXRhQXJyaXZhbDtcbiAgICB9XG5cbiAgICBzZXQgb25EYXRhQXJyaXZhbChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uU2Vla2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25TZWVrZWQ7XG4gICAgfVxuXG4gICAgc2V0IG9uU2Vla2VkKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uU2Vla2VkID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbiBvbkVycm9yKHR5cGU6IG51bWJlciwgaW5mbzoge2NvZGU6IG51bWJlciwgbXNnOiBzdHJpbmd9KTogdm9pZFxuICAgIGdldCBvbkVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcjtcbiAgICB9XG5cbiAgICBzZXQgb25FcnJvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkNvbXBsZXRlO1xuICAgIH1cblxuICAgIHNldCBvbkNvbXBsZXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25SZWRpcmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uUmVkaXJlY3Q7XG4gICAgfVxuXG4gICAgc2V0IG9uUmVkaXJlY3QoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25SZWRpcmVjdCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblJlY292ZXJlZEVhcmx5RW9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZjtcbiAgICB9XG5cbiAgICBzZXQgb25SZWNvdmVyZWRFYXJseUVvZihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRVUkwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhU291cmNlLnVybDtcbiAgICB9XG5cbiAgICBnZXQgaGFzUmVkaXJlY3QoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcmVkaXJlY3RlZFVSTCAhPSBudWxsIHx8IHRoaXMuX2RhdGFTb3VyY2UucmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50UmVkaXJlY3RlZFVSTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZGlyZWN0ZWRVUkwgfHwgdGhpcy5fZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgIH1cblxuICAgIC8vIGluIEtCL3NcbiAgICBnZXQgY3VycmVudFNwZWVkKCkge1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVyQ2xhc3MgPT09IFJhbmdlTG9hZGVyKSB7XG4gICAgICAgICAgICAvLyBTcGVlZFNhbXBsZXIgaXMgaW5hY2N1cmFjeSBpZiBsb2FkZXIgaXMgUmFuZ2VMb2FkZXJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIuY3VycmVudFNwZWVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHM7XG4gICAgfVxuXG4gICAgZ2V0IGxvYWRlclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIudHlwZTtcbiAgICB9XG5cbiAgICBfc2VsZWN0U2Vla0hhbmRsZXIoKSB7XG4gICAgICAgIGxldCBjb25maWcgPSB0aGlzLl9jb25maWc7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5zZWVrVHlwZSA9PT0gJ3JhbmdlJykge1xuICAgICAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBuZXcgUmFuZ2VTZWVrSGFuZGxlcih0aGlzLl9jb25maWcucmFuZ2VMb2FkWmVyb1N0YXJ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuc2Vla1R5cGUgPT09ICdwYXJhbScpIHtcbiAgICAgICAgICAgIGxldCBwYXJhbVN0YXJ0ID0gY29uZmlnLnNlZWtQYXJhbVN0YXJ0IHx8ICdic3RhcnQnO1xuICAgICAgICAgICAgbGV0IHBhcmFtRW5kID0gY29uZmlnLnNlZWtQYXJhbUVuZCB8fCAnYmVuZCc7XG5cbiAgICAgICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbmV3IFBhcmFtU2Vla0hhbmRsZXIocGFyYW1TdGFydCwgcGFyYW1FbmQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zZWVrVHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmN1c3RvbVNlZWtIYW5kbGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignQ3VzdG9tIHNlZWtUeXBlIHNwZWNpZmllZCBpbiBjb25maWcgYnV0IGludmFsaWQgY3VzdG9tU2Vla0hhbmRsZXIhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IG5ldyBjb25maWcuY3VzdG9tU2Vla0hhbmRsZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oYEludmFsaWQgc2Vla1R5cGUgaW4gY29uZmlnOiAke2NvbmZpZy5zZWVrVHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZWxlY3RMb2FkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1dlYlNvY2tldFVSTCkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBXZWJTb2NrZXRMb2FkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoRmV0Y2hTdHJlYW1Mb2FkZXIuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBGZXRjaFN0cmVhbUxvYWRlcjtcbiAgICAgICAgfSBlbHNlIGlmIChNb3pDaHVua2VkTG9hZGVyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gTW96Q2h1bmtlZExvYWRlcjtcbiAgICAgICAgfSBlbHNlIGlmIChSYW5nZUxvYWRlci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IFJhbmdlTG9hZGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCB4aHIgd2l0aCBhcnJheWJ1ZmZlciByZXNwb25zZVR5cGUhJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTG9hZGVyKCkge1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBuZXcgdGhpcy5fbG9hZGVyQ2xhc3ModGhpcy5fc2Vla0hhbmRsZXIsIHRoaXMuX2NvbmZpZyk7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZXIubmVlZFN0YXNoQnVmZmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3Rhc2ggPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkZXIub25Db250ZW50TGVuZ3RoS25vd24gPSB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25VUkxSZWRpcmVjdCA9IHRoaXMuX29uVVJMUmVkaXJlY3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyLm9uRGF0YUFycml2YWwgPSB0aGlzLl9vbkxvYWRlckNodW5rQXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub25Db21wbGV0ZSA9IHRoaXMuX29uTG9hZGVyQ29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyLm9uRXJyb3IgPSB0aGlzLl9vbkxvYWRlckVycm9yLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgb3BlbihvcHRpb25hbEZyb20pIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0ge2Zyb206IDAsIHRvOiAtMX07XG4gICAgICAgIGlmIChvcHRpb25hbEZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZS5mcm9tID0gb3B0aW9uYWxGcm9tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyLnJlc2V0KCk7XG4gICAgICAgIGlmICghb3B0aW9uYWxGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsUmVxdWVzdEZsYWcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZGVyLm9wZW4odGhpcy5fZGF0YVNvdXJjZSwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fY3VycmVudFJhbmdlKSk7XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRlci5hYm9ydCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fcmVzdW1lRnJvbSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlci5hYm9ydCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzdW1lRnJvbSA9IHRoaXMuX3N0YXNoQnl0ZVN0YXJ0O1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZS50byA9IHRoaXMuX3N0YXNoQnl0ZVN0YXJ0IC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzdW1lRnJvbSA9IHRoaXMuX2N1cnJlbnRSYW5nZS50byArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgYnl0ZXMgPSB0aGlzLl9yZXN1bWVGcm9tO1xuICAgICAgICAgICAgdGhpcy5fcmVzdW1lRnJvbSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbFNlZWsoYnl0ZXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VlayhieXRlcykge1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFNlZWsoYnl0ZXMsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2Vla2luZyByZXF1ZXN0IGlzIGZyb20gbWVkaWEgc2Vla2luZywgdW5jb25zdW1lZCBzdGFzaCBkYXRhIHNob3VsZCBiZSBkcm9wcGVkXG4gICAgICogSG93ZXZlciwgc3Rhc2ggZGF0YSBzaG91bGRuJ3QgYmUgZHJvcHBlZCBpZiBzZWVraW5nIHJlcXVlc3RlZCBmcm9tIGh0dHAgcmVjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAZHJvcFVuY29uc3VtZWQ6IElnbm9yZSBhbmQgZGlzY2FyZCBhbGwgdW5jb25zdW1lZCBkYXRhIGluIHN0YXNoIGJ1ZmZlclxuICAgICAqL1xuICAgIF9pbnRlcm5hbFNlZWsoYnl0ZXMsIGRyb3BVbmNvbnN1bWVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZXIuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggJiBmbHVzaCBzdGFzaCBidWZmZXIgYmVmb3JlIHNlZWtcbiAgICAgICAgdGhpcy5fZmx1c2hTdGFzaEJ1ZmZlcihkcm9wVW5jb25zdW1lZCk7XG5cbiAgICAgICAgdGhpcy5fbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbnVsbDtcblxuICAgICAgICBsZXQgcmVxdWVzdFJhbmdlID0ge2Zyb206IGJ5dGVzLCB0bzogLTF9O1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSB7ZnJvbTogcmVxdWVzdFJhbmdlLmZyb20sIHRvOiAtMX07XG5cbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX3N0YXNoU2l6ZSA9IHRoaXMuX3N0YXNoSW5pdGlhbFNpemU7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUxvYWRlcigpO1xuICAgICAgICB0aGlzLl9sb2FkZXIub3Blbih0aGlzLl9kYXRhU291cmNlLCByZXF1ZXN0UmFuZ2UpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vblNlZWtlZCkge1xuICAgICAgICAgICAgdGhpcy5fb25TZWVrZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVVybCh1cmwpIHtcbiAgICAgICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdXJsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignVXJsIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZS51cmwgPSB1cmw7XG5cbiAgICAgICAgLy8gVE9ETzogcmVwbGFjZSB3aXRoIG5ldyB1cmxcbiAgICB9XG5cbiAgICBfZXhwYW5kQnVmZmVyKGV4cGVjdGVkQnl0ZXMpIHtcbiAgICAgICAgbGV0IGJ1ZmZlck5ld1NpemUgPSB0aGlzLl9zdGFzaFNpemU7XG4gICAgICAgIHdoaWxlIChidWZmZXJOZXdTaXplICsgMTAyNCAqIDEwMjQgKiAxIDwgZXhwZWN0ZWRCeXRlcykge1xuICAgICAgICAgICAgYnVmZmVyTmV3U2l6ZSAqPSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyTmV3U2l6ZSArPSAxMDI0ICogMTAyNCAqIDE7ICAvLyBidWZmZXJTaXplID0gc3Rhc2hTaXplICsgMU1CXG4gICAgICAgIGlmIChidWZmZXJOZXdTaXplID09PSB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlck5ld1NpemUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPiAwKSB7ICAvLyBjb3B5IGV4aXN0aW5nIGRhdGEgaW50byBuZXcgYnVmZmVyXG4gICAgICAgICAgICBsZXQgc3Rhc2hPbGRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgbGV0IHN0YXNoTmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdCdWZmZXIsIDAsIGJ1ZmZlck5ld1NpemUpO1xuICAgICAgICAgICAgc3Rhc2hOZXdBcnJheS5zZXQoc3Rhc2hPbGRBcnJheSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFzaEJ1ZmZlciA9IG5ld0J1ZmZlcjtcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlck5ld1NpemU7XG4gICAgfVxuXG4gICAgX25vcm1hbGl6ZVNwZWVkKGlucHV0KSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fc3BlZWROb3JtYWxpemVMaXN0O1xuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAoaW5wdXQgPCBsaXN0WzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmFyeSBzZWFyY2hcbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGlucHV0ID49IGxpc3RbbWlkXSAmJiBpbnB1dCA8IGxpc3RbbWlkICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbbWlkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdIDwgaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FkanVzdFN0YXNoU2l6ZShub3JtYWxpemVkKSB7XG4gICAgICAgIGxldCBzdGFzaFNpemVLQiA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgIC8vIGxpdmUgc3RyZWFtOiBhbHdheXMgdXNlIHNpbmdsZSBub3JtYWxpemVkIHNwZWVkIGZvciBzaXplIG9mIHN0YXNoU2l6ZUtCXG4gICAgICAgICAgICBzdGFzaFNpemVLQiA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZCA8IDUxMikge1xuICAgICAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZCA+PSA1MTIgJiYgbm9ybWFsaXplZCA8PSAxMDI0KSB7XG4gICAgICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSBNYXRoLmZsb29yKG5vcm1hbGl6ZWQgKiAxLjUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFzaFNpemVLQiA9IG5vcm1hbGl6ZWQgKiAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXNoU2l6ZUtCID4gODE5Mikge1xuICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSA4MTkyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlclNpemUgPSBzdGFzaFNpemVLQiAqIDEwMjQgKyAxMDI0ICogMTAyNCAqIDE7ICAvLyBzdGFzaFNpemUgKyAxTUJcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlclNpemUgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIoYnVmZmVyU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3Rhc2hTaXplID0gc3Rhc2hTaXplS0IgKiAxMDI0O1xuICAgIH1cblxuICAgIF9kaXNwYXRjaENodW5rcyhjaHVua3MsIGJ5dGVTdGFydCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UudG8gPSBieXRlU3RhcnQgKyBjaHVua3MuYnl0ZUxlbmd0aCAtIDE7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rcywgYnl0ZVN0YXJ0KTtcbiAgICB9XG5cbiAgICBfb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgIHRoaXMuX3JlZGlyZWN0ZWRVUkwgPSByZWRpcmVjdGVkVVJMO1xuICAgICAgICBpZiAodGhpcy5fb25SZWRpcmVjdCkge1xuICAgICAgICAgICAgdGhpcy5fb25SZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkNvbnRlbnRMZW5ndGhLbm93bihjb250ZW50TGVuZ3RoKSB7XG4gICAgICAgIGlmIChjb250ZW50TGVuZ3RoICYmIHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZykge1xuICAgICAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSBjb250ZW50TGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFJlcXVlc3RGbGFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkZXJDaHVua0Fycml2YWwoY2h1bmssIGJ5dGVTdGFydCwgcmVjZWl2ZWRMZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkRhdGFBcnJpdmFsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdJT0NvbnRyb2xsZXI6IE5vIGV4aXN0aW5nIGNvbnN1bWVyIChvbkRhdGFBcnJpdmFsKSBjYWxsYmFjayEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIC8vIEF1dG8tcmVjb25uZWN0IGZvciBFYXJseUVvZiBzdWNjZWVkLCBub3RpZnkgdG8gdXBwZXItbGF5ZXIgYnkgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyLmFkZEJ5dGVzKGNodW5rLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIC8vIGFkanVzdCBzdGFzaCBidWZmZXIgc2l6ZSBhY2NvcmRpbmcgdG8gbmV0d29yayBzcGVlZCBkeW5hbWljYWxseVxuICAgICAgICBsZXQgS0JwcyA9IHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICAgICAgaWYgKEtCcHMgIT09IDApIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkID0gdGhpcy5fbm9ybWFsaXplU3BlZWQoS0Jwcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3BlZWROb3JtYWxpemVkICE9PSBub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlZWROb3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGp1c3RTdGFzaFNpemUobm9ybWFsaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZVN0YXNoKSB7ICAvLyBkaXNhYmxlIHN0YXNoXG4gICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggY2h1bmsgZGlyZWN0bHkgdG8gY29uc3VtZXI7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgcmV0IHZhbHVlIChjb25zdW1lZCBieXRlcykgYW5kIHN0YXNoIHVuY29uc3VtZWQgdG8gc3Rhc2hCdWZmZXJcbiAgICAgICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhjaHVuaywgYnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBjaHVuay5ieXRlTGVuZ3RoKSB7ICAvLyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluLlxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluID0gY2h1bmsuYnl0ZUxlbmd0aCAtIGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHJlbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rLCBjb25zdW1lZCksIDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gcmVtYWluO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IGJ5dGVTdGFydCArIGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWxzZTogTWVyZ2UgY2h1bmsgaW50byBzdGFzaEJ1ZmZlciwgYW5kIGRpc3BhdGNoIHN0YXNoQnVmZmVyIHRvIGNvbnN1bWVyLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIodGhpcy5fc3Rhc2hVc2VkICsgY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rKSwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyh0aGlzLl9zdGFzaEJ1ZmZlci5zbGljZSgwLCB0aGlzLl9zdGFzaFVzZWQpLCB0aGlzLl9zdGFzaEJ5dGVTdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgdGhpcy5fc3Rhc2hVc2VkICYmIGNvbnN1bWVkID4gMCkgeyAgLy8gdW5jb25zdW1lZCBkYXRhIHJlbWFpblxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgY29uc3VtZWQpO1xuICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChyZW1haW5BcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCAtPSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHsgIC8vIGVuYWJsZSBzdGFzaFxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA9PT0gMCAmJiB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9PT0gMCkgeyAgLy8gc2Vla2VkPyBvciBpbml0IGNodW5rP1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGNodW5rIGFmdGVyIHNlZWsgYWN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSBieXRlU3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkICsgY2h1bmsuYnl0ZUxlbmd0aCA8PSB0aGlzLl9zdGFzaFNpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBqdXN0IHN0YXNoXG4gICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fc3Rhc2hTaXplKTtcbiAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuayksIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gc3Rhc2hVc2VkICsgY2h1bmtTaXplID4gc3Rhc2hTaXplLCBzaXplIGxpbWl0IGV4Y2VlZGVkXG4gICAgICAgICAgICAgICAgbGV0IHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA+IDApIHsgIC8vIFRoZXJlJ3JlIHN0YXNoIGRhdGFzIGluIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCB0aGUgd2hvbGUgc3Rhc2hCdWZmZXIsIGFuZCBzdGFzaCByZW1haW4gZGF0YVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGFwcGVuZCBjaHVuayB0byBzdGFzaEJ1ZmZlciAoc3Rhc2gpXG4gICAgICAgICAgICAgICAgICAgIGxldCBidWZmZXIgPSB0aGlzLl9zdGFzaEJ1ZmZlci5zbGljZSgwLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29uc3VtZWQgPSB0aGlzLl9kaXNwYXRjaENodW5rcyhidWZmZXIsIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmZXIsIGNvbnN1bWVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChyZW1haW5BcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gcmVtYWluQXJyYXkuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCArPSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkICsgY2h1bmsuYnl0ZUxlbmd0aCA+IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcih0aGlzLl9zdGFzaFVzZWQgKyBjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmspLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy8gc3Rhc2ggYnVmZmVyIGVtcHR5LCBidXQgY2h1bmtTaXplID4gc3Rhc2hTaXplIChvaCwgaG9seSBzaGl0KVxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCBjaHVuayBkaXJlY3RseSBhbmQgc3Rhc2ggcmVtYWluIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gdGhpcy5fZGlzcGF0Y2hDaHVua3MoY2h1bmssIGJ5dGVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IGNodW5rLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1haW4gPSBjaHVuay5ieXRlTGVuZ3RoIC0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcihyZW1haW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuaywgY29uc3VtZWQpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSByZW1haW47XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IGJ5dGVTdGFydCArIGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZsdXNoU3Rhc2hCdWZmZXIoZHJvcFVuY29uc3VtZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA+IDApIHtcbiAgICAgICAgICAgIGxldCBidWZmZXIgPSB0aGlzLl9zdGFzaEJ1ZmZlci5zbGljZSgwLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gdGhpcy5fZGlzcGF0Y2hDaHVua3MoYnVmZmVyLCB0aGlzLl9zdGFzaEJ5dGVTdGFydCk7XG4gICAgICAgICAgICBsZXQgcmVtYWluID0gYnVmZmVyLmJ5dGVMZW5ndGggLSBjb25zdW1lZDtcblxuICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHJvcFVuY29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGAke3JlbWFpbn0gYnl0ZXMgdW5jb25zdW1lZCBkYXRhIHJlbWFpbiB3aGVuIGZsdXNoIGJ1ZmZlciwgZHJvcHBlZGApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbkFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCBjb25zdW1lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChyZW1haW5BcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSByZW1haW5BcnJheS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgKz0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgIHJldHVybiByZW1haW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX29uTG9hZGVyQ29tcGxldGUoZnJvbSwgdG8pIHtcbiAgICAgICAgLy8gRm9yY2UtZmx1c2ggc3Rhc2ggYnVmZmVyLCBhbmQgZHJvcCB1bmNvbnN1bWVkIGRhdGFcbiAgICAgICAgdGhpcy5fZmx1c2hTdGFzaEJ1ZmZlcih0cnVlKTtcblxuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9leHRyYURhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTG9hZGVyRXJyb3IodHlwZSwgZGF0YSkge1xuICAgICAgICBMb2cuZSh0aGlzLlRBRywgYExvYWRlciBlcnJvciwgY29kZSA9ICR7ZGF0YS5jb2RlfSwgbXNnID0gJHtkYXRhLm1zZ31gKTtcblxuICAgICAgICB0aGlzLl9mbHVzaFN0YXNoQnVmZmVyKGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgLy8gQXV0by1yZWNvbm5lY3QgZm9yIEVhcmx5RW9mIGZhaWxlZCwgdGhyb3cgVW5yZWNvdmVyYWJsZUVhcmx5RW9mIGVycm9yIHRvIHVwcGVyLWxheWVyXG4gICAgICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIExvYWRlckVycm9ycy5FQVJMWV9FT0Y6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gaW50ZXJuYWwgaHR0cCByZWNvbm5lY3QgaWYgbm90IGxpdmUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl90b3RhbExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRGcm9tID0gdGhpcy5fY3VycmVudFJhbmdlLnRvICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RnJvbSA8IHRoaXMuX3RvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdDb25uZWN0aW9uIGxvc3QsIHRyeWluZyByZWNvbm5lY3QuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbFNlZWsobmV4dEZyb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlOiBXZSBkb24ndCBrbm93IHRvdGFsTGVuZ3RoLCB0aHJvdyBVbnJlY292ZXJhYmxlRWFybHlFb2ZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbGl2ZSBzdHJlYW06IHRocm93IFVucmVjb3ZlcmFibGVFYXJseUVvZiBlcnJvciB0byB1cHBlci1sYXllclxuICAgICAgICAgICAgICAgIHR5cGUgPSBMb2FkZXJFcnJvcnMuVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjpcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLkNPTk5FQ1RJTkdfVElNRU9VVDpcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRDpcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ0lPRXhjZXB0aW9uOiAnICsgZGF0YS5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IElPQ29udHJvbGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuZXhwb3J0IGNvbnN0IExvYWRlclN0YXR1cyA9IHtcbiAgICBrSWRsZTogMCxcbiAgICBrQ29ubmVjdGluZzogMSxcbiAgICBrQnVmZmVyaW5nOiAyLFxuICAgIGtFcnJvcjogMyxcbiAgICBrQ29tcGxldGU6IDRcbn07XG5cbmV4cG9ydCBjb25zdCBMb2FkZXJFcnJvcnMgPSB7XG4gICAgT0s6ICdPSycsXG4gICAgRVhDRVBUSU9OOiAnRXhjZXB0aW9uJyxcbiAgICBIVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQ6ICdIdHRwU3RhdHVzQ29kZUludmFsaWQnLFxuICAgIENPTk5FQ1RJTkdfVElNRU9VVDogJ0Nvbm5lY3RpbmdUaW1lb3V0JyxcbiAgICBFQVJMWV9FT0Y6ICdFYXJseUVvZicsXG4gICAgVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y6ICdVbnJlY292ZXJhYmxlRWFybHlFb2YnXG59O1xuXG4vKiBMb2FkZXIgaGFzIGNhbGxiYWNrcyB3aGljaCBoYXZlIGZvbGxvd2luZyBwcm90b3R5cGVzOlxuICogICAgIGZ1bmN0aW9uIG9uQ29udGVudExlbmd0aEtub3duKGNvbnRlbnRMZW5ndGg6IG51bWJlcik6IHZvaWRcbiAqICAgICBmdW5jdGlvbiBvblVSTFJlZGlyZWN0KHVybDogc3RyaW5nKTogdm9pZFxuICogICAgIGZ1bmN0aW9uIG9uRGF0YUFycml2YWwoY2h1bms6IEFycmF5QnVmZmVyLCBieXRlU3RhcnQ6IG51bWJlciwgcmVjZWl2ZWRMZW5ndGg6IG51bWJlcik6IHZvaWRcbiAqICAgICBmdW5jdGlvbiBvbkVycm9yKGVycm9yVHlwZTogbnVtYmVyLCBlcnJvckluZm86IHtjb2RlOiBudW1iZXIsIG1zZzogc3RyaW5nfSk6IHZvaWRcbiAqICAgICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJhbmdlRnJvbTogbnVtYmVyLCByYW5nZVRvOiBudW1iZXIpOiB2b2lkXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlTG9hZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGVOYW1lKSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlTmFtZSB8fCAndW5kZWZpbmVkJztcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtJZGxlO1xuICAgICAgICB0aGlzLl9uZWVkU3Rhc2ggPSBmYWxzZTtcbiAgICAgICAgLy8gY2FsbGJhY2tzXG4gICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtJZGxlO1xuICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93biA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBudWxsO1xuICAgIH1cblxuICAgIGlzV29ya2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nIHx8IHRoaXMuX3N0YXR1cyA9PT0gTG9hZGVyU3RhdHVzLmtCdWZmZXJpbmc7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuXG4gICAgZ2V0IG5lZWRTdGFzaEJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25lZWRTdGFzaDtcbiAgICB9XG5cbiAgICBnZXQgb25Db250ZW50TGVuZ3RoS25vd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bjtcbiAgICB9XG5cbiAgICBzZXQgb25Db250ZW50TGVuZ3RoS25vd24oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24gPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25VUkxSZWRpcmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uVVJMUmVkaXJlY3Q7XG4gICAgfVxuXG4gICAgc2V0IG9uVVJMUmVkaXJlY3QoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvbkRhdGFBcnJpdmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25EYXRhQXJyaXZhbDtcbiAgICB9XG5cbiAgICBzZXQgb25EYXRhQXJyaXZhbChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25Db21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ29tcGxldGU7XG4gICAgfVxuXG4gICAgc2V0IG9uQ29tcGxldGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8vIHB1cmUgdmlydHVhbFxuICAgIG9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXhjZXB0aW9uKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IGZ1bmN0aW9uIScpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24oJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgZnVuY3Rpb24hJyk7XG4gICAgfVxuXG5cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgUGFyYW1TZWVrSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJhbVN0YXJ0LCBwYXJhbUVuZCkge1xuICAgICAgICB0aGlzLl9zdGFydE5hbWUgPSBwYXJhbVN0YXJ0O1xuICAgICAgICB0aGlzLl9lbmROYW1lID0gcGFyYW1FbmQ7XG4gICAgfVxuXG4gICAgZ2V0Q29uZmlnKGJhc2VVcmwsIHJhbmdlKSB7XG4gICAgICAgIGxldCB1cmwgPSBiYXNlVXJsO1xuXG4gICAgICAgIGlmIChyYW5nZS5mcm9tICE9PSAwIHx8IHJhbmdlLnRvICE9PSAtMSkge1xuICAgICAgICAgICAgbGV0IG5lZWRBbmQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCc/JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9ICc/JztcbiAgICAgICAgICAgICAgICBuZWVkQW5kID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZWVkQW5kKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9ICcmJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXJsICs9IGAke3RoaXMuX3N0YXJ0TmFtZX09JHtyYW5nZS5mcm9tLnRvU3RyaW5nKCl9YDtcblxuICAgICAgICAgICAgaWYgKHJhbmdlLnRvICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHVybCArPSBgJiR7dGhpcy5fZW5kTmFtZX09JHtyYW5nZS50by50b1N0cmluZygpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB7fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbW92ZVVSTFBhcmFtZXRlcnMoc2Vla2VkVVJMKSB7XG4gICAgICAgIGxldCBiYXNlVVJMID0gc2Vla2VkVVJMLnNwbGl0KCc/JylbMF07XG4gICAgICAgIGxldCBwYXJhbXMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgbGV0IHF1ZXJ5SW5kZXggPSBzZWVrZWRVUkwuaW5kZXhPZignPycpO1xuICAgICAgICBpZiAocXVlcnlJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHNlZWtlZFVSTC5zdWJzdHJpbmcocXVlcnlJbmRleCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdFBhcmFtcyA9ICcnO1xuXG4gICAgICAgIGlmIChwYXJhbXMgIT0gdW5kZWZpbmVkICYmIHBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgcGFpcnMgPSBwYXJhbXMuc3BsaXQoJyYnKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWlyZUFuZCA9IChpID4gMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFpclswXSAhPT0gdGhpcy5fc3RhcnROYW1lICYmIHBhaXJbMF0gIT09IHRoaXMuX2VuZE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVBbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFBhcmFtcyArPSAnJic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0UGFyYW1zICs9IHBhaXJzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAocmVzdWx0UGFyYW1zLmxlbmd0aCA9PT0gMCkgPyBiYXNlVVJMIDogYmFzZVVSTCArICc/JyArIHJlc3VsdFBhcmFtcztcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFyYW1TZWVrSGFuZGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgUmFuZ2VTZWVrSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcih6ZXJvU3RhcnQpIHtcbiAgICAgICAgdGhpcy5femVyb1N0YXJ0ID0gemVyb1N0YXJ0IHx8IGZhbHNlO1xuICAgIH1cblxuICAgIGdldENvbmZpZyh1cmwsIHJhbmdlKSB7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge307XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IDAgfHwgcmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW07XG4gICAgICAgICAgICBpZiAocmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0gPSBgYnl0ZXM9JHtyYW5nZS5mcm9tLnRvU3RyaW5nKCl9LSR7cmFuZ2UudG8udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGBieXRlcz0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX0tYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRlcnNbJ1JhbmdlJ10gPSBwYXJhbTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl96ZXJvU3RhcnQpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1JhbmdlJ10gPSAnYnl0ZXM9MC0nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbW92ZVVSTFBhcmFtZXRlcnMoc2Vla2VkVVJMKSB7XG4gICAgICAgIHJldHVybiBzZWVrZWRVUkw7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlU2Vla0hhbmRsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFV0aWxpdHkgY2xhc3MgdG8gY2FsY3VsYXRlIHJlYWx0aW1lIG5ldHdvcmsgSS9PIHNwZWVkXG5jbGFzcyBTcGVlZFNhbXBsZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIG1pbGxpc2Vjb25kc1xuICAgICAgICB0aGlzLl9maXJzdENoZWNrcG9pbnQgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0Q2hlY2twb2ludCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl90b3RhbEJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdFNlY29uZEJ5dGVzID0gMDtcblxuICAgICAgICAvLyBjb21wYXRpYmlsaXR5IGRldGVjdGlvblxuICAgICAgICBpZiAoc2VsZi5wZXJmb3JtYW5jZSAmJiBzZWxmLnBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25vdyA9IERhdGUubm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IHRoaXMuX2xhc3RDaGVja3BvaW50ID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxCeXRlcyA9IHRoaXMuX2ludGVydmFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSAwO1xuICAgIH1cblxuICAgIGFkZEJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdENoZWNrcG9pbnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IHRoaXMuX25vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENoZWNrcG9pbnQgPSB0aGlzLl9maXJzdENoZWNrcG9pbnQ7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50IDwgMTAwMCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsQnl0ZXMgKz0gYnl0ZXM7XG4gICAgICAgIH0gZWxzZSB7ICAvLyBkdXJhdGlvbiA+PSAxMDAwXG4gICAgICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSB0aGlzLl9pbnRlcnZhbEJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyA9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDaGVja3BvaW50ID0gdGhpcy5fbm93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEtCcHMoKSB7XG4gICAgICAgIHRoaXMuYWRkQnl0ZXMoMCk7XG5cbiAgICAgICAgbGV0IGR1cmF0aW9uU2Vjb25kcyA9ICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50KSAvIDEwMDA7XG4gICAgICAgIGlmIChkdXJhdGlvblNlY29uZHMgPT0gMCkgZHVyYXRpb25TZWNvbmRzID0gMTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9pbnRlcnZhbEJ5dGVzIC8gZHVyYXRpb25TZWNvbmRzKSAvIDEwMjQ7XG4gICAgfVxuXG4gICAgZ2V0IGxhc3RTZWNvbmRLQnBzKCkge1xuICAgICAgICB0aGlzLmFkZEJ5dGVzKDApO1xuXG4gICAgICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgLyAxMDI0O1xuICAgICAgICB9IGVsc2UgeyAgLy8gbGFzdFNlY29uZEJ5dGVzID09PSAwXG4gICAgICAgICAgICBpZiAodGhpcy5fbm93KCkgLSB0aGlzLl9sYXN0Q2hlY2twb2ludCA+PSA1MDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aW1lIGludGVydmFsIHNpbmNlIGxhc3QgY2hlY2twb2ludCBoYXMgZXhjZWVkZWQgNTAwbXNcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3BlZWQgaXMgbmVhcmx5IGFjY3VyYXRlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEtCcHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGtub3dcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBhdmVyYWdlS0JwcygpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uU2Vjb25kcyA9ICh0aGlzLl9ub3coKSAtIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCkgLyAxMDAwO1xuICAgICAgICByZXR1cm4gKHRoaXMuX3RvdGFsQnl0ZXMgLyBkdXJhdGlvblNlY29uZHMpIC8gMTAyNDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BlZWRTYW1wbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEZvciBGTFYgb3ZlciBXZWJTb2NrZXQgbGl2ZSBzdHJlYW1cbmNsYXNzIFdlYlNvY2tldExvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2Ygc2VsZi5XZWJTb2NrZXQgIT09ICd1bmRlZmluZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCd3ZWJzb2NrZXQtbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ1dlYlNvY2tldExvYWRlcic7XG5cbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl93cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dzKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIG9wZW4oZGF0YVNvdXJjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHdzID0gdGhpcy5fd3MgPSBuZXcgc2VsZi5XZWJTb2NrZXQoZGF0YVNvdXJjZS51cmwpO1xuICAgICAgICAgICAgd3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICB3cy5vbm9wZW4gPSB0aGlzLl9vbldlYlNvY2tldE9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9uY2xvc2UgPSB0aGlzLl9vbldlYlNvY2tldENsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB3cy5vbm1lc3NhZ2UgPSB0aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9uZXJyb3IgPSB0aGlzLl9vbldlYlNvY2tldEVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcblxuICAgICAgICAgICAgbGV0IGluZm8gPSB7Y29kZTogZS5jb2RlLCBtc2c6IGUubWVzc2FnZX07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCBpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGxldCB3cyA9IHRoaXMuX3dzO1xuICAgICAgICBpZiAod3MgJiYgKHdzLnJlYWR5U3RhdGUgPT09IDAgfHwgd3MucmVhZHlTdGF0ZSA9PT0gMSkpIHsgIC8vIENPTk5FQ1RJTkcgfHwgT1BFTlxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHdzLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl93cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgfVxuXG4gICAgX29uV2ViU29ja2V0T3BlbihlKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgIH1cblxuICAgIF9vbldlYlNvY2tldENsb3NlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKDAsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRNZXNzYWdlKGUpIHtcbiAgICAgICAgaWYgKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEFycmF5QnVmZmVyKGUuZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQXJyYXlCdWZmZXIocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGUuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICAgICAgbGV0IGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ1Vuc3VwcG9ydGVkIFdlYlNvY2tldCBtZXNzYWdlIHR5cGU6ICcgKyBlLmRhdGEuY29uc3RydWN0b3IubmFtZX07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCBpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoQXJyYXlCdWZmZXIoYXJyYXlidWZmZXIpIHtcbiAgICAgICAgbGV0IGNodW5rID0gYXJyYXlidWZmZXI7XG4gICAgICAgIGxldCBieXRlU3RhcnQgPSB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCB0aGlzLl9yZWNlaXZlZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRFcnJvcihlKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG5cbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBjb2RlOiBlLmNvZGUsXG4gICAgICAgICAgICBtc2c6IGUubWVzc2FnZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlNvY2tldExvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IHtCYXNlTG9hZGVyLCBMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBGb3IgRmlyZUZveCBicm93c2VyIHdoaWNoIHN1cHBvcnRzIGB4aHIucmVzcG9uc2VUeXBlID0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJ2BcbmNsYXNzIE1vekNodW5rZWRMb2FkZXIgZXh0ZW5kcyBCYXNlTG9hZGVyIHtcblxuICAgIHN0YXRpYyBpc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggMzctIHJlcXVpcmVzIC5vcGVuKCkgdG8gYmUgY2FsbGVkIGJlZm9yZSBzZXR0aW5nIHJlc3BvbnNlVHlwZVxuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2V4YW1wbGUuY29tJywgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHJldHVybiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy53KCdNb3pDaHVua2VkTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1tb3otY2h1bmtlZC1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnTW96Q2h1bmtlZExvYWRlcic7XG5cbiAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBzZWVrSGFuZGxlcjtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9uZWVkU3Rhc2ggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPSAwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3hocikge1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25sb2FkZW5kID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIG9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuX3JhbmdlID0gcmFuZ2U7XG5cbiAgICAgICAgbGV0IHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UudXJsO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJldXNlUmVkaXJlY3RlZFVSTCAmJiBkYXRhU291cmNlLnJlZGlyZWN0ZWRVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnJlZGlyZWN0ZWRVUkw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2Vla0NvbmZpZyA9IHRoaXMuX3NlZWtIYW5kbGVyLmdldENvbmZpZyhzb3VyY2VVUkwsIHJhbmdlKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdFVSTCA9IHNlZWtDb25maWcudXJsO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9vblJlYWR5U3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSB0aGlzLl9vbkxvYWRFbmQuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSB0aGlzLl9vblhockVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gY29ycyBpcyBhdXRvIGRldGVjdGVkIGFuZCBlbmFibGVkIGJ5IHhoclxuXG4gICAgICAgIC8vIHdpdGhDcmVkZW50aWFscyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0XG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscyAmJiB4aHJbJ3dpdGhDcmVkZW50aWFscyddKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9vblJlYWR5U3RhdGVDaGFuZ2UoZSkge1xuICAgICAgICBsZXQgeGhyID0gZS50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7ICAvLyBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9IHVuZGVmaW5lZCAmJiB4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX3JlcXVlc3RVUkwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25VUkxSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25VUkxSZWRpcmVjdChyZWRpcmVjdGVkVVJMKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAwICYmICh4aHIuc3RhdHVzIDwgMjAwIHx8IHhoci5zdGF0dXMgPiAyOTkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ01vekNodW5rZWRMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCAnICsgeGhyLnN0YXR1cyArICcgJyArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGUudG90YWwgIT09IG51bGwgJiYgZS50b3RhbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bih0aGlzLl9jb250ZW50TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2h1bmsgPSBlLnRhcmdldC5yZXNwb25zZTtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCB0aGlzLl9yZWNlaXZlZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkRW5kKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLCB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblhockVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggJiYgZS5sb2FkZWQgPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ01vei1DaHVua2VkIHN0cmVhbSBtZWV0IEVhcmx5LUVvZid9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FWENFUFRJT047XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6IGUuY29uc3RydWN0b3IubmFtZSArICcgJyArIGUudHlwZX07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBpbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNb3pDaHVua2VkTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8qIE5vdGljZTogbXMtc3RyZWFtIG1heSBjYXVzZSBJRS9FZGdlIGJyb3dzZXIgY3Jhc2ggaWYgc2VlayB0b28gZnJlcXVlbnRseSEhIVxuICogVGhlIGJyb3dzZXIgbWF5IGNyYXNoIGluIHdpbmluZXQuZGxsLiBEaXNhYmxlIGZvciBub3cuXG4gKlxuICogRm9yIElFMTEvRWRnZSBicm93c2VyIGJ5IG1pY3Jvc29mdCB3aGljaCBzdXBwb3J0cyBgeGhyLnJlc3BvbnNlVHlwZSA9ICdtcy1zdHJlYW0nYFxuICogTm90aWNlIHRoYXQgbXMtc3RyZWFtIEFQSSBzdWNrcy4gVGhlIGJ1ZmZlciBpcyBhbHdheXMgZXhwYW5kaW5nIGFsb25nIHdpdGggZG93bmxvYWRpbmcuXG4gKlxuICogV2UgbmVlZCB0byBhYm9ydCB0aGUgeGhyIGlmIGJ1ZmZlciBzaXplIGV4Y2VlZGVkIGxpbWl0IHNpemUgKGUuZy4gMTYgTWlCKSwgdGhlbiBkbyByZWNvbm5lY3QuXG4gKiBpbiBvcmRlciB0byByZWxlYXNlIHByZXZpb3VzIEFycmF5QnVmZmVyIHRvIGF2b2lkIG1lbW9yeSBsZWFrXG4gKlxuICogT3RoZXJ3aXNlLCB0aGUgQXJyYXlCdWZmZXIgd2lsbCBpbmNyZWFzZSB0byBhIHRlcnJpYmxlIHNpemUgdGhhdCBlcXVhbHMgZmluYWwgZmlsZSBzaXplLlxuICovXG5jbGFzcyBNU1N0cmVhbUxvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLk1TU3RyZWFtID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygc2VsZi5NU1N0cmVhbVJlYWRlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAnaHR0cHM6Ly9leGFtcGxlLmNvbScsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdtcy1zdHJlYW0nO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnbXMtc3RyZWFtJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy53KCdNU1N0cmVhbUxvYWRlcicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihzZWVrSGFuZGxlciwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCd4aHItbXNzdHJlYW0tbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ01TU3RyZWFtTG9hZGVyJztcblxuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IHNlZWtIYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVhZGVyID0gbnVsbDsgIC8vIE1TU3RyZWFtUmVhZGVyXG5cbiAgICAgICAgdGhpcy5fdG90YWxSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFJlcXVlc3RVUkwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcblxuICAgICAgICB0aGlzLl9idWZmZXJMaW1pdCA9IDE2ICogMTAyNCAqIDEwMjQ7ICAvLyAxNk1CXG4gICAgICAgIHRoaXMuX2xhc3RUaW1lQnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2lzUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWFkZXIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3hocikge1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsT3BlbihkYXRhU291cmNlLCByYW5nZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbE9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UsIGlzU3VicmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7XG5cbiAgICAgICAgaWYgKCFpc1N1YnJhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl90b3RhbFJhbmdlID0gcmFuZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVUkwgPSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IHNlZWtDb25maWcudXJsO1xuXG4gICAgICAgIGxldCByZWFkZXIgPSB0aGlzLl9yZWFkZXIgPSBuZXcgc2VsZi5NU1N0cmVhbVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25wcm9ncmVzcyA9IHRoaXMuX21zck9uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IHRoaXMuX21zck9uTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IHRoaXMuX21zck9uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICBsZXQgeGhyID0gdGhpcy5feGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBzZWVrQ29uZmlnLnVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnbXMtc3RyZWFtJztcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMuX3hock9uUmVhZHlTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25lcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAoZGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrQ29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IHNlZWtDb25maWcuaGVhZGVycztcblxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVhZGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVhZGVyLnJlYWR5U3RhdGUgPT09IDEpIHsgIC8vIExPQURJTkdcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWFkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlYWRlci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVhZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF94aHJPblJlYWR5U3RhdGVDaGFuZ2UoZSkge1xuICAgICAgICBsZXQgeGhyID0gZS50YXJnZXQ7XG5cbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7ICAvLyBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcblxuICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdGVkVVJMID0gdGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyh4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9PSB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCAmJiByZWRpcmVjdGVkVVJMICE9PSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkwgPSByZWRpcmVjdGVkVVJMO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uVVJMUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGxlbmd0aEhlYWRlciA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1MZW5ndGgnKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoSGVhZGVyICE9IG51bGwgJiYgdGhpcy5fY29udGVudExlbmd0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBwYXJzZUludChsZW5ndGhIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCwge2NvZGU6IHhoci5zdGF0dXMsIG1zZzogeGhyLnN0YXR1c1RleHR9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignTVNTdHJlYW1Mb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCAnICsgeGhyLnN0YXR1cyArICcgJyArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDMpIHsgIC8vIExPQURJTkdcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDw9IDI5OSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IG1zc3RyZWFtID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihtc3N0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfeGhyT25FcnJvcihlKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgIGxldCB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgbGV0IGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBpbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tc3JPblByb2dyZXNzKGUpIHtcbiAgICAgICAgbGV0IHJlYWRlciA9IGUudGFyZ2V0O1xuICAgICAgICBsZXQgYmlnYnVmZmVyID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgaWYgKGJpZ2J1ZmZlciA9PSBudWxsKSB7ICAvLyByZXN1bHQgbWF5IGJlIG51bGwsIHdvcmthcm91bmQgZm9yIGJ1Z2d5IE0kXG4gICAgICAgICAgICB0aGlzLl9kb1JlY29ubmVjdElmTmVlZGVkKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2xpY2UgPSBiaWdidWZmZXIuc2xpY2UodGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplKTtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVCdWZmZXJTaXplID0gYmlnYnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgICAgIGxldCBieXRlU3RhcnQgPSB0aGlzLl90b3RhbFJhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gc2xpY2UuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbChzbGljZSwgYnl0ZVN0YXJ0LCB0aGlzLl9yZWNlaXZlZExlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmlnYnVmZmVyLmJ5dGVMZW5ndGggPj0gdGhpcy5fYnVmZmVyTGltaXQpIHtcbiAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCBgTVNTdHJlYW0gYnVmZmVyIGV4Y2VlZGVkIG1heCBzaXplIG5lYXIgJHtieXRlU3RhcnQgKyBzbGljZS5ieXRlTGVuZ3RofSwgcmVjb25uZWN0aW5nLi4uYCk7XG4gICAgICAgICAgICB0aGlzLl9kb1JlY29ubmVjdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZG9SZWNvbm5lY3RJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggPT0gbnVsbCB8fCB0aGlzLl9yZWNlaXZlZExlbmd0aCA8IHRoaXMuX2NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUaW1lQnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG5cbiAgICAgICAgICAgIGxldCByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLl90b3RhbFJhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCxcbiAgICAgICAgICAgICAgICB0bzogLTFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbE9wZW4odGhpcy5fZGF0YVNvdXJjZSwgcmFuZ2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21zck9uTG9hZChlKSB7ICAvLyBhY3R1YWxseSBpdCBpcyBvbkNvbXBsZXRlIGV2ZW50XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3RvdGFsUmFuZ2UuZnJvbSwgdGhpcy5fdG90YWxSYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tc3JPbkVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ01TU3RyZWFtIG1lZXQgRWFybHktRW9mJ307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNU1N0cmVhbUxvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IFNwZWVkU2FtcGxlciBmcm9tICcuL3NwZWVkLXNhbXBsZXIuanMnO1xuaW1wb3J0IHtCYXNlTG9hZGVyLCBMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBVbml2ZXJzYWwgSU8gTG9hZGVyLCBpbXBsZW1lbnRlZCBieSBhZGRpbmcgUmFuZ2UgaGVhZGVyIGluIHhocidzIHJlcXVlc3QgaGVhZGVyXG5jbGFzcyBSYW5nZUxvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsICdodHRwczovL2V4YW1wbGUuY29tJywgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHJldHVybiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ2FycmF5YnVmZmVyJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy53KCdSYW5nZUxvYWRlcicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihzZWVrSGFuZGxlciwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCd4aHItcmFuZ2UtbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ1JhbmdlTG9hZGVyJztcblxuICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IHNlZWtIYW5kbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX25lZWRTdGFzaCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2NodW5rU2l6ZUtCTGlzdCA9IFtcbiAgICAgICAgICAgIDEyOCwgMjU2LCAzODQsIDUxMiwgNzY4LCAxMDI0LCAxNTM2LCAyMDQ4LCAzMDcyLCA0MDk2LCA1MTIwLCA2MTQ0LCA3MTY4LCA4MTkyXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiA9IDM4NDtcbiAgICAgICAgdGhpcy5fY3VycmVudFNwZWVkTm9ybWFsaXplZCA9IDA7XG4gICAgICAgIHRoaXMuX3plcm9TcGVlZENodW5rQ291bnQgPSAwO1xuXG4gICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlciA9IG5ldyBTcGVlZFNhbXBsZXIoKTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlcXVlc3RSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoID0gbnVsbDsgIC8vIHNpemUgb2YgdGhlIGVudGlyZSBmaWxlXG4gICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBudWxsOyAgLy8gQ29udGVudC1MZW5ndGggb2YgZW50aXJlIHJlcXVlc3QgcmFuZ2VcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPSAwOyAgLy8gdG90YWwgcmVjZWl2ZWQgYnl0ZXNcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSAwOyAgLy8gcmVjZWl2ZWQgYnl0ZXMgb2YgY3VycmVudCByZXF1ZXN0IHN1Yi1yYW5nZVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3hocikge1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3BlZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHM7XG4gICAgfVxuXG4gICAgb3BlbihkYXRhU291cmNlLCByYW5nZSkge1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gZGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSByYW5nZTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuXG4gICAgICAgIGlmICghdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0b3RhbCBmaWxlc2l6ZVxuICAgICAgICAgICAgdGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsT3Blbih0aGlzLl9kYXRhU291cmNlLCB7ZnJvbTogMCwgdG86IC0xfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIGZpbGVzaXplLCBzdGFydCBsb2FkaW5nXG4gICAgICAgICAgICB0aGlzLl9vcGVuU3ViUmFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vcGVuU3ViUmFuZ2UoKSB7XG4gICAgICAgIGxldCBjaHVua1NpemUgPSB0aGlzLl9jdXJyZW50Q2h1bmtTaXplS0IgKiAxMDI0O1xuXG4gICAgICAgIGxldCBmcm9tID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICBsZXQgdG8gPSBmcm9tICsgY2h1bmtTaXplO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0byAtIHRoaXMuX3JhbmdlLmZyb20gPj0gdGhpcy5fY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX2NvbnRlbnRMZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFJlcXVlc3RSYW5nZSA9IHtmcm9tLCB0b307XG4gICAgICAgIHRoaXMuX2ludGVybmFsT3Blbih0aGlzLl9kYXRhU291cmNlLCB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlKTtcbiAgICB9XG5cbiAgICBfaW50ZXJuYWxPcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RUaW1lTG9hZGVkID0gMDtcblxuICAgICAgICBsZXQgc291cmNlVVJMID0gZGF0YVNvdXJjZS51cmw7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcucmV1c2VSZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkwgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlVVJMID0gdGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2Vla0NvbmZpZyA9IHRoaXMuX3NlZWtIYW5kbGVyLmdldENvbmZpZyhzb3VyY2VVUkwsIHJhbmdlKTtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlcXVlc3RVUkwgPSBzZWVrQ29uZmlnLnVybDtcblxuICAgICAgICBsZXQgeGhyID0gdGhpcy5feGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBzZWVrQ29uZmlnLnVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5fb25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbnByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25sb2FkID0gdGhpcy5fb25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmVycm9yID0gdGhpcy5fb25YaHJFcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChkYXRhU291cmNlLndpdGhDcmVkZW50aWFscyAmJiB4aHJbJ3dpdGhDcmVkZW50aWFscyddKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUmVhZHlTdGF0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCB4aHIgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIpIHsgIC8vIEhFQURFUlNfUkVDRUlWRURcbiAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT0gdW5kZWZpbmVkKSB7ICAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0IHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBsZXQgcmVkaXJlY3RlZFVSTCA9IHRoaXMuX3NlZWtIYW5kbGVyLnJlbW92ZVVSTFBhcmFtZXRlcnMoeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVVJMICE9PSB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCAmJiByZWRpcmVjdGVkVVJMICE9PSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCA9IHJlZGlyZWN0ZWRVUkw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vblVSTFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0KHJlZGlyZWN0ZWRVUkwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5KSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsIHtjb2RlOiB4aHIuc3RhdHVzLCBtc2c6IHhoci5zdGF0dXNUZXh0fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oJ1JhbmdlTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHhoci5zdGF0dXMgKyAnICcgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uUHJvZ3Jlc3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG9wZW5OZXh0UmFuZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wZW5OZXh0UmFuZ2UgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gZS50b3RhbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsICE9IG51bGwgJiB0b3RhbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRvdGFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGN1cnJyZW50IHJlcXVlc3QgcmFuZ2UncyBjb250ZW50TGVuZ3RoXG4gICAgICAgICAgICBpZiAodGhpcy5fcmFuZ2UudG8gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IHRoaXMuX3RvdGFsTGVuZ3RoIC0gdGhpcy5fcmFuZ2UuZnJvbTtcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB0byAhPT0gLTFcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gdGhpcy5fcmFuZ2UudG8gLSB0aGlzLl9yYW5nZS5mcm9tICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wZW5OZXh0UmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcGVuU3ViUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bih0aGlzLl9jb250ZW50TGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkZWx0YSA9IGUubG9hZGVkIC0gdGhpcy5fbGFzdFRpbWVMb2FkZWQ7XG4gICAgICAgIHRoaXMuX2xhc3RUaW1lTG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlci5hZGRCeXRlcyhkZWx0YSk7XG4gICAgfVxuXG4gICAgX25vcm1hbGl6ZVNwZWVkKGlucHV0KSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fY2h1bmtTaXplS0JMaXN0O1xuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAoaW5wdXQgPCBsaXN0WzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChpbnB1dCA+PSBsaXN0W21pZF0gJiYgaW5wdXQgPCBsaXN0W21pZCArIDFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W21pZF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXSA8IGlucHV0KSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWQoZSkge1xuICAgICAgICBpZiAodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RUaW1lTG9hZGVkID0gMDtcbiAgICAgICAgbGV0IEtCcHMgPSB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHM7XG4gICAgICAgIGlmIChLQnBzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl96ZXJvU3BlZWRDaHVua0NvdW50Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdldCBjdXJyZW50S0JwcyBhZnRlciAzIGNodW5rc1xuICAgICAgICAgICAgICAgIEtCcHMgPSB0aGlzLl9zcGVlZFNhbXBsZXIuY3VycmVudEtCcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoS0JwcyAhPT0gMCkge1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSB0aGlzLl9ub3JtYWxpemVTcGVlZChLQnBzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkICE9PSBub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFNwZWVkTm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudENodW5rU2l6ZUtCID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaHVuayA9IGUudGFyZ2V0LnJlc3BvbnNlO1xuICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGxldCByZXBvcnRDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoICE9IG51bGwgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjb250aW51ZSBsb2FkIG5leHQgY2h1bmtcbiAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggcmVjZWl2ZWQgY2h1bmtcbiAgICAgICAgaWYgKHRoaXMuX29uRGF0YUFycml2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwoY2h1bmssIGJ5dGVTdGFydCwgdGhpcy5fcmVjZWl2ZWRMZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcG9ydENvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uWGhyRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiB0aGlzLl9yZWNlaXZlZExlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ1JhbmdlTG9hZGVyIG1lZXQgRWFybHktRW9mJ307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgQnJvd3NlciBmcm9tICcuLi91dGlscy9icm93c2VyLmpzJztcbmltcG9ydCBQbGF5ZXJFdmVudHMgZnJvbSAnLi9wbGF5ZXItZXZlbnRzLmpzJztcbmltcG9ydCBUcmFuc211eGVyIGZyb20gJy4uL2NvcmUvdHJhbnNtdXhlci5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdFdmVudHMgZnJvbSAnLi4vY29yZS90cmFuc211eGluZy1ldmVudHMuanMnO1xuaW1wb3J0IE1TRUNvbnRyb2xsZXIgZnJvbSAnLi4vY29yZS9tc2UtY29udHJvbGxlci5qcyc7XG5pbXBvcnQgTVNFRXZlbnRzIGZyb20gJy4uL2NvcmUvbXNlLWV2ZW50cy5qcyc7XG5pbXBvcnQge0Vycm9yVHlwZXMsIEVycm9yRGV0YWlsc30gZnJvbSAnLi9wbGF5ZXItZXJyb3JzLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdENvbmZpZ30gZnJvbSAnLi4vY29uZmlnLmpzJztcbmltcG9ydCB7SW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbmNsYXNzIEZsdlBsYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdGbHZQbGF5ZXInO1xuICAgICAgICB0aGlzLl90eXBlID0gJ0ZsdlBsYXllcic7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY3JlYXRlRGVmYXVsdENvbmZpZygpO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fY29uZmlnLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09ICdmbHYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdGbHZQbGF5ZXIgcmVxdWlyZXMgYW4gZmx2IE1lZGlhRGF0YVNvdXJjZSBpbnB1dCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZWRpYURhdGFTb3VyY2UuaXNMaXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuaXNMaXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgIG9udkxvYWRlZE1ldGFkYXRhOiB0aGlzLl9vbnZMb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb252U2Vla2luZzogdGhpcy5fb252U2Vla2luZy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb252Q2FuUGxheTogdGhpcy5fb252Q2FuUGxheS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb252U3RhbGxlZDogdGhpcy5fb252U3RhbGxlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb252UHJvZ3Jlc3M6IHRoaXMuX29udlByb2dyZXNzLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc2VsZi5wZXJmb3JtYW5jZSAmJiBzZWxmLnBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25vdyA9IERhdGUubm93O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDsgIC8vIGluIHNlY29uZHNcbiAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2Vla3BvaW50UmVjb3JkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBtZWRpYURhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21zZWN0bCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX21zZVNvdXJjZU9wZW5lZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZENhblBsYXkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IG51bGw7XG5cbiAgICAgICAgbGV0IGNocm9tZU5lZWRJRFJGaXggPSAoQnJvd3Nlci5jaHJvbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yIDwgNTAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpO1xuICAgICAgICB0aGlzLl9hbHdheXNTZWVrS2V5ZnJhbWUgPSAoY2hyb21lTmVlZElEUkZpeCB8fCBCcm93c2VyLm1zZWRnZSB8fCBCcm93c2VyLm1zaWUpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9hbHdheXNTZWVrS2V5ZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5hY2N1cmF0ZVNlZWsgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zbXV4ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5NRURJQV9JTkZPKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCB0aGlzLm1lZGlhSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzSW5mbyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCB0aGlzLnN0YXRpc3RpY3NJbmZvKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgYXR0YWNoTWVkaWFFbGVtZW50KG1lZGlhRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBtZWRpYUVsZW1lbnQ7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5lLm9udlNlZWtpbmcpO1xuICAgICAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuZS5vbnZDYW5QbGF5KTtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N0YWxsZWQnLCB0aGlzLmUub252U3RhbGxlZCk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuZS5vbnZQcm9ncmVzcyk7XG5cbiAgICAgICAgdGhpcy5fbXNlY3RsID0gbmV3IE1TRUNvbnRyb2xsZXIodGhpcy5fY29uZmlnKTtcblxuICAgICAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLlVQREFURV9FTkQsIHRoaXMuX29ubXNlVXBkYXRlRW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLkJVRkZFUl9GVUxMLCB0aGlzLl9vbm1zZUJ1ZmZlckZ1bGwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuU09VUkNFX09QRU4sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21zZVNvdXJjZU9wZW5lZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFzUGVuZGluZ0xvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbXNlY3RsLm9uKE1TRUV2ZW50cy5FUlJPUiwgKGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvckRldGFpbHMuTUVESUFfTVNFX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX21zZWN0bC5hdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBkZWZlciBzZXQgY3VycmVudFRpbWUgb3BlcmF0aW9uIGFmdGVyIGxvYWRlZG1ldGFkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXRhY2hNZWRpYUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMuZS5vbnZTZWVraW5nKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5lLm9udkNhblBsYXkpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YWxsZWQnLCB0aGlzLmUub252U3RhbGxlZCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbXNlY3RsKSB7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdIVE1MTWVkaWFFbGVtZW50IG11c3QgYmUgYXR0YWNoZWQgYmVmb3JlIGxvYWQoKSEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRmx2UGxheWVyLmxvYWQoKSBoYXMgYmVlbiBjYWxsZWQsIHBsZWFzZSBjYWxsIHVubG9hZCgpIGZpcnN0IScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYXNQZW5kaW5nTG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5kZWZlckxvYWRBZnRlclNvdXJjZU9wZW4gJiYgdGhpcy5fbXNlU291cmNlT3BlbmVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0xvYWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBuZXcgVHJhbnNtdXhlcih0aGlzLl9tZWRpYURhdGFTb3VyY2UsIHRoaXMuX2NvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsICh0eXBlLCBpcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLmFwcGVuZEluaXRTZWdtZW50KGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCwgKHR5cGUsIG1zKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwuYXBwZW5kTWVkaWFTZWdtZW50KG1zKTtcblxuICAgICAgICAgICAgLy8gbGF6eUxvYWQgY2hlY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcubGF6eUxvYWQgJiYgIXRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKG1zLmluZm8uZW5kRHRzID49IChjdXJyZW50VGltZSArIHRoaXMuX2NvbmZpZy5sYXp5TG9hZE1heER1cmF0aW9uKSAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ01heGltdW0gYnVmZmVyaW5nIGR1cmF0aW9uIGV4Y2VlZGVkLCBzdXNwZW5kIHRyYW5zbXV4aW5nIHRhc2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5MT0FESU5HX0NPTVBMRVRFKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIChkZXRhaWwsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsIEVycm9yVHlwZXMuTkVUV09SS19FUlJPUiwgZGV0YWlsLCBpbmZvKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIChkZXRhaWwsIGluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuRVJST1IsIEVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbCwge2NvZGU6IC0xLCBtc2c6IGluZm99KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgKG1lZGlhSW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbWVkaWFJbmZvO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCBPYmplY3QuYXNzaWduKHt9LCBtZWRpYUluZm8pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuU1RBVElTVElDU19JTkZPLCAoc3RhdEluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0gdGhpcy5fZmlsbFN0YXRpc3RpY3NJbmZvKHN0YXRJbmZvKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9zdGF0aXN0aWNzSW5mbykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCAobWlsbGlzZWNvbmRzKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50ICYmICF0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub3BlbigpO1xuICAgIH1cblxuICAgIHVubG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21zZWN0bCkge1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLnNlZWsoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zbXV4ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNtdXhlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LnBsYXkoKTtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIGdldCBidWZmZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtcbiAgICB9XG5cbiAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuZHVyYXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC52b2x1bWU7XG4gICAgfVxuXG4gICAgc2V0IHZvbHVtZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkO1xuICAgIH1cblxuICAgIHNldCBtdXRlZChtdXRlZCkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQubXV0ZWQgPSBtdXRlZDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRUaW1lKHNlY29uZHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxTZWVrKHNlY29uZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gc2Vjb25kcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBtZWRpYUluZm8oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9tZWRpYUluZm8pO1xuICAgIH1cblxuICAgIGdldCBzdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NJbmZvID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc0luZm8gPSB0aGlzLl9maWxsU3RhdGlzdGljc0luZm8odGhpcy5fc3RhdGlzdGljc0luZm8pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fc3RhdGlzdGljc0luZm8pO1xuICAgIH1cblxuICAgIF9maWxsU3RhdGlzdGljc0luZm8oc3RhdEluZm8pIHtcbiAgICAgICAgc3RhdEluZm8ucGxheWVyVHlwZSA9IHRoaXMuX3R5cGU7XG5cbiAgICAgICAgaWYgKCEodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0SW5mbztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNRdWFsaXR5SW5mbyA9IHRydWU7XG4gICAgICAgIGxldCBkZWNvZGVkID0gMDtcbiAgICAgICAgbGV0IGRyb3BwZWQgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkpIHtcbiAgICAgICAgICAgIGxldCBxdWFsaXR5ID0gdGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICAgICAgICBkZWNvZGVkID0gcXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzO1xuICAgICAgICAgICAgZHJvcHBlZCA9IHF1YWxpdHkuZHJvcHBlZFZpZGVvRnJhbWVzO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlY29kZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RGVjb2RlZEZyYW1lQ291bnQ7XG4gICAgICAgICAgICBkcm9wcGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERyb3BwZWRGcmFtZUNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzUXVhbGl0eUluZm8gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNRdWFsaXR5SW5mbykge1xuICAgICAgICAgICAgc3RhdEluZm8uZGVjb2RlZEZyYW1lcyA9IGRlY29kZWQ7XG4gICAgICAgICAgICBzdGF0SW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0SW5mbztcbiAgICB9XG5cbiAgICBfb25tc2VVcGRhdGVFbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLmxhenlMb2FkIHx8IHRoaXMuX2NvbmZpZy5pc0xpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJlZCA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtcbiAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgY3VycmVudFJhbmdlU3RhcnQgPSAwO1xuICAgICAgICBsZXQgY3VycmVudFJhbmdlRW5kID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBidWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPD0gY3VycmVudFRpbWUgJiYgY3VycmVudFRpbWUgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSYW5nZUVuZCA9IGVuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50UmFuZ2VFbmQgPj0gY3VycmVudFRpbWUgKyB0aGlzLl9jb25maWcubGF6eUxvYWRNYXhEdXJhdGlvbiAmJiB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNYXhpbXVtIGJ1ZmZlcmluZyBkdXJhdGlvbiBleGNlZWRlZCwgc3VzcGVuZCB0cmFuc211eGluZyB0YXNrJyk7XG4gICAgICAgICAgICB0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29ubXNlQnVmZmVyRnVsbCgpIHtcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNU0UgU291cmNlQnVmZmVyIGlzIGZ1bGwsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpO1xuICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3VzcGVuZFRyYW5zbXV4ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnBhdXNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lLmJpbmQodGhpcyksIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUoKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkID0gdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkO1xuXG4gICAgICAgIGxldCBuZWVkUmVzdW1lID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCB0byA9IGJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBmcm9tICYmIGN1cnJlbnRUaW1lIDwgdG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gdG8gLSB0aGlzLl9jb25maWcubGF6eUxvYWRSZWNvdmVyRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbmVlZFJlc3VtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5lZWRSZXN1bWUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcik7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG5lZWRSZXN1bWUpIHtcbiAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ0NvbnRpbnVlIGxvYWRpbmcgZnJvbSBwYXVzZWQgcG9zaXRpb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2lzVGltZXBvaW50QnVmZmVyZWQoc2Vjb25kcykge1xuICAgICAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCB0byA9IGJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgIGlmIChzZWNvbmRzID49IGZyb20gJiYgc2Vjb25kcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbFNlZWsoc2Vjb25kcykge1xuICAgICAgICBsZXQgZGlyZWN0U2VlayA9IHRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQoc2Vjb25kcyk7XG5cbiAgICAgICAgbGV0IGRpcmVjdFNlZWtCZWdpbiA9IGZhbHNlO1xuICAgICAgICBsZXQgZGlyZWN0U2Vla0JlZ2luVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKHNlY29uZHMgPCAxLjAgJiYgdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZC5zdGFydCgwKTtcbiAgICAgICAgICAgIGlmICgodmlkZW9CZWdpblRpbWUgPCAxLjAgJiYgc2Vjb25kcyA8IHZpZGVvQmVnaW5UaW1lKSB8fCBCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICAgICAgICAgIGRpcmVjdFNlZWtCZWdpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICBkaXJlY3RTZWVrQmVnaW5UaW1lID0gQnJvd3Nlci5zYWZhcmkgPyAwLjEgOiB2aWRlb0JlZ2luVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RTZWVrQmVnaW4pIHsgIC8vIHNlZWsgdG8gdmlkZW8gYmVnaW4sIHNldCBjdXJyZW50VGltZSBkaXJlY3RseSBpZiBiZWdpblBUUyBidWZmZXJlZFxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gZGlyZWN0U2Vla0JlZ2luVGltZTtcbiAgICAgICAgfSAgZWxzZSBpZiAoZGlyZWN0U2VlaykgeyAgLy8gYnVmZmVyZWQgcG9zaXRpb25cbiAgICAgICAgICAgIGlmICghdGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBpZHIgPSB0aGlzLl9tc2VjdGwuZ2V0TmVhcmVzdEtleWZyYW1lKE1hdGguZmxvb3Ioc2Vjb25kcyAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGlkciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IGlkci5kdHMgLyAxMDAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLnNlZWsoc2Vjb25kcyk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnNlZWsoTWF0aC5mbG9vcihzZWNvbmRzICogMTAwMCkpOyAgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHNldCBtZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgaWYgbm9uLWFjY3VyYXRlU2VlayxcbiAgICAgICAgICAgIC8vIGp1c3Qgd2FpdCBmb3IgdGhlIHJlY29tbWVuZF9zZWVrcG9pbnQgY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWVrcG9pbnRSZWNvcmQucmVjb3JkVGltZSA8PSB0aGlzLl9ub3coKSAtIDEwMCkge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Vla3BvaW50UmVjb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gLmN1cnJlbnRUaW1lIGlzIGNvbnNpc3RzIHdpdGggLmJ1ZmZlcmVkIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWUvRWRnZSB1c2UgRFRTLCB3aGlsZSBGaXJlRm94L1NhZmFyaSB1c2UgUFRTXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIuc2VlayhNYXRoLmZsb29yKHRhcmdldCAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGN1cnJlbnRUaW1lIGlmIGFjY3VyYXRlU2Vlaywgb3Igd2FpdCBmb3IgcmVjb21tZW5kX3NlZWtwb2ludCBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmFjY3VyYXRlU2Vlaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0FuZEFwcGx5VW5idWZmZXJlZFNlZWtwb2ludC5iaW5kKHRoaXMpLCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrKHN0YWxsZWQpIHtcbiAgICAgICAgbGV0IG1lZGlhID0gdGhpcy5fbWVkaWFFbGVtZW50O1xuICAgICAgICBpZiAoc3RhbGxlZCB8fCAhdGhpcy5fcmVjZWl2ZWRDYW5QbGF5IHx8IG1lZGlhLnJlYWR5U3RhdGUgPCAyKSB7ICAvLyBIQVZFX0NVUlJFTlRfREFUQVxuICAgICAgICAgICAgbGV0IGJ1ZmZlcmVkID0gbWVkaWEuYnVmZmVyZWQ7XG4gICAgICAgICAgICBpZiAoYnVmZmVyZWQubGVuZ3RoID4gMCAmJiBtZWRpYS5jdXJyZW50VGltZSA8IGJ1ZmZlcmVkLnN0YXJ0KDApKSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBQbGF5YmFjayBzZWVtcyBzdHVjayBhdCAke21lZGlhLmN1cnJlbnRUaW1lfSwgc2VlayB0byAke2J1ZmZlcmVkLnN0YXJ0KDApfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBidWZmZXJlZC5zdGFydCgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUGxheWJhY2sgZGlkbid0IHN0dWNrLCByZW1vdmUgcHJvZ3Jlc3MgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuZS5vbnZQcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb252TG9hZGVkTWV0YWRhdGEoZSkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHRoaXMuX3BlbmRpbmdTZWVrVGltZTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb252U2Vla2luZyhlKSB7ICAvLyBoYW5kbGUgc2Vla2luZyByZXF1ZXN0IGZyb20gYnJvd3NlcidzIHByb2dyZXNzIGJhclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RTZXRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCA8IDEuMCAmJiBidWZmZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBzZWVrIHRvIHZpZGVvIGJlZ2luLCBzZXQgY3VycmVudFRpbWUgZGlyZWN0bHkgaWYgYmVnaW5QVFMgYnVmZmVyZWRcbiAgICAgICAgICAgIGxldCB2aWRlb0JlZ2luVGltZSA9IGJ1ZmZlcmVkLnN0YXJ0KDApO1xuICAgICAgICAgICAgaWYgKCh2aWRlb0JlZ2luVGltZSA8IDEuMCAmJiB0YXJnZXQgPCB2aWRlb0JlZ2luVGltZSkgfHwgQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gYWxzbyB3b3JrYXJvdW5kIGZvciBTYWZhcmk6IFNlZWsgdG8gMCBtYXkgY2F1c2UgdmlkZW8gc3R1Y2ssIHVzZSAwLjEgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBCcm93c2VyLnNhZmFyaSA/IDAuMSA6IHZpZGVvQmVnaW5UaW1lO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbHdheXNTZWVrS2V5ZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaWRyID0gdGhpcy5fbXNlY3RsLmdldE5lYXJlc3RLZXlmcmFtZShNYXRoLmZsb29yKHRhcmdldCAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBpZHIuZHRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1Byb2dyZXNzQW5kUmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZWVrcG9pbnRSZWNvcmQgPSB7XG4gICAgICAgICAgICBzZWVrUG9pbnQ6IHRhcmdldCxcbiAgICAgICAgICAgIHJlY29yZFRpbWU6IHRoaXMuX25vdygpXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2NoZWNrQW5kQXBwbHlVbmJ1ZmZlcmVkU2Vla3BvaW50LmJpbmQodGhpcyksIDUwKTtcbiAgICB9XG5cbiAgICBfb252Q2FuUGxheShlKSB7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkQ2FuUGxheSA9IHRydWU7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5lLm9udkNhblBsYXkpO1xuICAgIH1cblxuICAgIF9vbnZTdGFsbGVkKGUpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrKHRydWUpO1xuICAgIH1cblxuICAgIF9vbnZQcm9ncmVzcyhlKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjaygpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGbHZQbGF5ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBQbGF5ZXJFdmVudHMgZnJvbSAnLi9wbGF5ZXItZXZlbnRzLmpzJztcbmltcG9ydCB7Y3JlYXRlRGVmYXVsdENvbmZpZ30gZnJvbSAnLi4vY29uZmlnLmpzJztcbmltcG9ydCB7SW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uLCBJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIFBsYXllciB3cmFwcGVyIGZvciBicm93c2VyJ3MgbmF0aXZlIHBsYXllciAoSFRNTFZpZGVvRWxlbWVudCkgd2l0aG91dCBNZWRpYVNvdXJjZSBzcmMuIFxuY2xhc3MgTmF0aXZlUGxheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ05hdGl2ZVBsYXllcic7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnTmF0aXZlUGxheWVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjcmVhdGVEZWZhdWx0Q29uZmlnKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFEYXRhU291cmNlLnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZsdicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ05hdGl2ZVBsYXllciBkb2VzXFwndCBzdXBwb3J0IGZsdiBNZWRpYURhdGFTb3VyY2UgaW5wdXQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS5oYXNPd25Qcm9wZXJ0eSgnc2VnbWVudHMnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbihgTmF0aXZlUGxheWVyKCR7bWVkaWFEYXRhU291cmNlLnR5cGV9KSBkb2Vzbid0IHN1cHBvcnQgbXVsdGlwYXJ0IHBsYXliYWNrIWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgb252TG9hZGVkTWV0YWRhdGE6IHRoaXMuX29udkxvYWRlZE1ldGFkYXRhLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZCgpO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBQbGF5ZXJFdmVudHMuTUVESUFfSU5GTykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCAhPSBudWxsICYmIHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlICE9PSAwKSB7ICAvLyBIQVZFX05PVEhJTkdcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5NRURJQV9JTkZPLCB0aGlzLm1lZGlhSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgdGhpcy5zdGF0aXN0aWNzSW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGF0dGFjaE1lZGlhRWxlbWVudChtZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbWVkaWFFbGVtZW50O1xuICAgICAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJRTExIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBpZiByZWFkeVN0YXRlID09PSAwXG4gICAgICAgICAgICAgICAgLy8gRGVmZXIgc2V0IGN1cnJlbnRUaW1lIG9wZXJhdGlvbiBhZnRlciBsb2FkZWRtZXRhZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGV0YWNoTWVkaWFFbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignSFRNTE1lZGlhRWxlbWVudCBtdXN0IGJlIGF0dGFjaGVkIGJlZm9yZSBsb2FkKCkhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS51cmw7XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQubG9hZCgpO1xuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICB0aGlzLl9yZXBvcnRTdGF0aXN0aWNzSW5mby5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLl9jb25maWcuc3RhdGlzdGljc0luZm9SZXBvcnRJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgdW5sb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KCk7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lO1xuICAgIH1cblxuICAgIHNldCB2b2x1bWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5tdXRlZDtcbiAgICB9XG5cbiAgICBzZXQgbXV0ZWQobXV0ZWQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkID0gbXV0ZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50VGltZShzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHNlY29uZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBzZWNvbmRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG1lZGlhSW5mbygpIHtcbiAgICAgICAgbGV0IG1lZGlhUHJlZml4ID0gKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQpID8gJ2F1ZGlvLycgOiAndmlkZW8vJztcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBtaW1lVHlwZTogbWVkaWFQcmVmaXggKyB0aGlzLl9tZWRpYURhdGFTb3VyY2UudHlwZVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICBpbmZvLmR1cmF0aW9uID0gTWF0aC5mbG9vcih0aGlzLl9tZWRpYUVsZW1lbnQuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaW5mby53aWR0aCA9IHRoaXMuX21lZGlhRWxlbWVudC52aWRlb1dpZHRoO1xuICAgICAgICAgICAgICAgIGluZm8uaGVpZ2h0ID0gdGhpcy5fbWVkaWFFbGVtZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIGdldCBzdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBwbGF5ZXJUeXBlOiB0aGlzLl90eXBlLFxuICAgICAgICAgICAgdXJsOiB0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCEodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhc1F1YWxpdHlJbmZvID0gdHJ1ZTtcbiAgICAgICAgbGV0IGRlY29kZWQgPSAwO1xuICAgICAgICBsZXQgZHJvcHBlZCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudC5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSkge1xuICAgICAgICAgICAgbGV0IHF1YWxpdHkgPSB0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtcbiAgICAgICAgICAgIGRlY29kZWQgPSBxdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXM7XG4gICAgICAgICAgICBkcm9wcGVkID0gcXVhbGl0eS5kcm9wcGVkVmlkZW9GcmFtZXM7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVjb2RlZCA9IHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudDtcbiAgICAgICAgICAgIGRyb3BwZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RHJvcHBlZEZyYW1lQ291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNRdWFsaXR5SW5mbyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1F1YWxpdHlJbmZvKSB7XG4gICAgICAgICAgICBpbmZvLmRlY29kZWRGcmFtZXMgPSBkZWNvZGVkO1xuICAgICAgICAgICAgaW5mby5kcm9wcGVkRnJhbWVzID0gZHJvcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgX29udkxvYWRlZE1ldGFkYXRhKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVESUFfSU5GTywgdGhpcy5tZWRpYUluZm8pO1xuICAgIH1cblxuICAgIF9yZXBvcnRTdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuc3RhdGlzdGljc0luZm8pO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXRpdmVQbGF5ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7TG9hZGVyRXJyb3JzfSBmcm9tICcuLi9pby9sb2FkZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4uL2RlbXV4L2RlbXV4LWVycm9ycy5qcyc7XG5cbmV4cG9ydCBjb25zdCBFcnJvclR5cGVzID0ge1xuICAgIE5FVFdPUktfRVJST1I6ICdOZXR3b3JrRXJyb3InLFxuICAgIE1FRElBX0VSUk9SOiAnTWVkaWFFcnJvcicsXG4gICAgT1RIRVJfRVJST1I6ICdPdGhlckVycm9yJ1xufTtcblxuZXhwb3J0IGNvbnN0IEVycm9yRGV0YWlscyA9IHtcbiAgICBORVRXT1JLX0VYQ0VQVElPTjogTG9hZGVyRXJyb3JzLkVYQ0VQVElPTixcbiAgICBORVRXT1JLX1NUQVRVU19DT0RFX0lOVkFMSUQ6IExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsXG4gICAgTkVUV09SS19USU1FT1VUOiBMb2FkZXJFcnJvcnMuQ09OTkVDVElOR19USU1FT1VULFxuICAgIE5FVFdPUktfVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y6IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRixcblxuICAgIE1FRElBX01TRV9FUlJPUjogJ01lZGlhTVNFRXJyb3InLFxuXG4gICAgTUVESUFfRk9STUFUX0VSUk9SOiBEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsXG4gICAgTUVESUFfRk9STUFUX1VOU1VQUE9SVEVEOiBEZW11eEVycm9ycy5GT1JNQVRfVU5TVVBQT1JURUQsXG4gICAgTUVESUFfQ09ERUNfVU5TVVBQT1JURUQ6IERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVEXG59OyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBQbGF5ZXJFdmVudHMgPSB7XG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgTE9BRElOR19DT01QTEVURTogJ2xvYWRpbmdfY29tcGxldGUnLFxuICAgIFJFQ09WRVJFRF9FQVJMWV9FT0Y6ICdyZWNvdmVyZWRfZWFybHlfZW9mJyxcbiAgICBNRURJQV9JTkZPOiAnbWVkaWFfaW5mbycsXG4gICAgU1RBVElTVElDU19JTkZPOiAnc3RhdGlzdGljc19pbmZvJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyRXZlbnRzOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIG1vZGlmaWVkIGZyb20gZGFpbHltb3Rpb24ncyBobHMuanMgbGlicmFyeSAoaGxzLmpzL3NyYy9oZWxwZXIvYWFjLmpzKVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBBQUMge1xuXG4gICAgc3RhdGljIGdldFNpbGVudEZyYW1lKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgaWYgKGNvZGVjID09PSAnbXA0YS40MC4yJykge1xuICAgICAgICAgICAgLy8gaGFuZGxlIExDLUFBQ1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MjEsIDB4MDAsIDB4NDksIDB4OTAsIDB4MDIsIDB4MTksIDB4MDAsIDB4MjMsIDB4ODBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDhlXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MzhdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLCAweDAwLCAweDIwLCAweDA4LCAweGUwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgSEUtQUFDIChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NGUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgxYywgMHg2LCAweGYxLCAweGMxLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZV92MiAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUFDOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIGRlcml2ZWQgZnJvbSBkYWlseW1vdGlvbidzIGhscy5qcyBsaWJyYXJ5IChobHMuanMvc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanMpXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vICBNUDQgYm94ZXMgZ2VuZXJhdG9yIGZvciBJU08gQk1GRiAoSVNPIEJhc2UgTWVkaWEgRmlsZSBGb3JtYXQsIGRlZmluZWQgaW4gSVNPL0lFQyAxNDQ5Ni0xMilcbmNsYXNzIE1QNCB7XG5cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgTVA0LnR5cGVzID0ge1xuICAgICAgICAgICAgYXZjMTogW10sIGF2Y0M6IFtdLCBidHJ0OiBbXSwgZGluZjogW10sXG4gICAgICAgICAgICBkcmVmOiBbXSwgZXNkczogW10sIGZ0eXA6IFtdLCBoZGxyOiBbXSxcbiAgICAgICAgICAgIG1kYXQ6IFtdLCBtZGhkOiBbXSwgbWRpYTogW10sIG1maGQ6IFtdLFxuICAgICAgICAgICAgbWluZjogW10sIG1vb2Y6IFtdLCBtb292OiBbXSwgbXA0YTogW10sXG4gICAgICAgICAgICBtdmV4OiBbXSwgbXZoZDogW10sIHNkdHA6IFtdLCBzdGJsOiBbXSxcbiAgICAgICAgICAgIHN0Y286IFtdLCBzdHNjOiBbXSwgc3RzZDogW10sIHN0c3o6IFtdLFxuICAgICAgICAgICAgc3R0czogW10sIHRmZHQ6IFtdLCB0ZmhkOiBbXSwgdHJhZjogW10sXG4gICAgICAgICAgICB0cmFrOiBbXSwgdHJ1bjogW10sIHRyZXg6IFtdLCB0a2hkOiBbXSxcbiAgICAgICAgICAgIHZtaGQ6IFtdLCBzbWhkOiBbXSwgJy5tcDMnOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gTVA0LnR5cGVzKSB7XG4gICAgICAgICAgICBpZiAoTVA0LnR5cGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgTVA0LnR5cGVzW25hbWVdID0gW1xuICAgICAgICAgICAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMCksXG4gICAgICAgICAgICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgxKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDIpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMylcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbnN0YW50cyA9IE1QNC5jb25zdGFudHMgPSB7fTtcblxuICAgICAgICBjb25zdGFudHMuRlRZUCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsICAvLyBtYWpvcl9icmFuZDogaXNvbVxuICAgICAgICAgICAgMHgwLCAgMHgwLCAgMHgwLCAgMHgxLCAgIC8vIG1pbm9yX3ZlcnNpb246IDB4MDFcbiAgICAgICAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsICAvLyBpc29tXG4gICAgICAgICAgICAweDYxLCAweDc2LCAweDYzLCAweDMxICAgLy8gYXZjMVxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuU1RTRF9QUkVGSVggPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxICAgLy8gZW50cnlfY291bnRcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3RhbnRzLlNUVFMgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwICAgLy8gZW50cnlfY291bnRcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3RhbnRzLlNUU0MgPSBjb25zdGFudHMuU1RDTyA9IGNvbnN0YW50cy5TVFRTO1xuXG4gICAgICAgIGNvbnN0YW50cy5TVFNaID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHNhbXBsZV9zaXplXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwICAgLy8gc2FtcGxlX2NvdW50XG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5IRExSX1ZJREVPID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHByZV9kZWZpbmVkXG4gICAgICAgICAgICAweDc2LCAweDY5LCAweDY0LCAweDY1LCAgLy8gaGFuZGxlcl90eXBlOiAndmlkZSdcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyByZXNlcnZlZDogMyAqIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg1NiwgMHg2OSwgMHg2NCwgMHg2NSxcbiAgICAgICAgICAgIDB4NkYsIDB4NDgsIDB4NjEsIDB4NkUsXG4gICAgICAgICAgICAweDY0LCAweDZDLCAweDY1LCAweDcyLCAweDAwICAvLyBuYW1lOiBWaWRlb0hhbmRsZXJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3RhbnRzLkhETFJfQVVESU8gPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcHJlX2RlZmluZWRcbiAgICAgICAgICAgIDB4NzMsIDB4NkYsIDB4NzUsIDB4NkUsICAvLyBoYW5kbGVyX3R5cGU6ICdzb3VuJ1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiAzICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDUzLCAweDZGLCAweDc1LCAweDZFLFxuICAgICAgICAgICAgMHg2NCwgMHg0OCwgMHg2MSwgMHg2RSxcbiAgICAgICAgICAgIDB4NjQsIDB4NkMsIDB4NjUsIDB4NzIsIDB4MDAgIC8vIG5hbWU6IFNvdW5kSGFuZGxlclxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuRFJFRiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyBlbnRyeV9jb3VudFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwQywgIC8vIGVudHJ5X3NpemVcbiAgICAgICAgICAgIDB4NzUsIDB4NzIsIDB4NkMsIDB4MjAsICAvLyB0eXBlICd1cmwgJ1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSAgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICBdKTtcblxuICAgICAgICAvLyBTb3VuZCBtZWRpYSBoZWFkZXJcbiAgICAgICAgY29uc3RhbnRzLlNNSEQgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwICAgLy8gYmFsYW5jZSgyKSArIHJlc2VydmVkKDIpXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIHZpZGVvIG1lZGlhIGhlYWRlclxuICAgICAgICBjb25zdGFudHMuVk1IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsICAgICAgICAgICAgICAvLyBncmFwaGljc21vZGU6IDIgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBvcGNvbG9yOiAzICogMiBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMFxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBhIGJveFxuICAgIHN0YXRpYyBib3godHlwZSkge1xuICAgICAgICBsZXQgc2l6ZSA9IDg7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBsZXQgZGF0YXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBsZXQgYXJyYXlDb3VudCA9IGRhdGFzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgc2l6ZSArPSBkYXRhc1tpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgIHJlc3VsdFswXSA9IChzaXplID4+PiAyNCkgJiAweEZGOyAgLy8gc2l6ZVxuICAgICAgICByZXN1bHRbMV0gPSAoc2l6ZSA+Pj4gMTYpICYgMHhGRjtcbiAgICAgICAgcmVzdWx0WzJdID0gKHNpemUgPj4+ICA4KSAmIDB4RkY7XG4gICAgICAgIHJlc3VsdFszXSA9IChzaXplKSAmIDB4RkY7XG5cbiAgICAgICAgcmVzdWx0LnNldCh0eXBlLCA0KTsgIC8vIHR5cGVcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gODtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheUNvdW50OyBpKyspIHsgIC8vIGRhdGEgYm9keVxuICAgICAgICAgICAgcmVzdWx0LnNldChkYXRhc1tpXSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSBkYXRhc1tpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBlbWl0IGZ0eXAgJiBtb292XG4gICAgc3RhdGljIGdlbmVyYXRlSW5pdFNlZ21lbnQobWV0YSkge1xuICAgICAgICBsZXQgZnR5cCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIE1QNC5jb25zdGFudHMuRlRZUCk7XG4gICAgICAgIGxldCBtb292ID0gTVA0Lm1vb3YobWV0YSk7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZ0eXAuYnl0ZUxlbmd0aCArIG1vb3YuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3VsdC5zZXQoZnR5cCwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQobW9vdiwgZnR5cC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBNb3ZpZSBtZXRhZGF0YSBib3hcbiAgICBzdGF0aWMgbW9vdihtZXRhKSB7XG4gICAgICAgIGxldCBtdmhkID0gTVA0Lm12aGQobWV0YS50aW1lc2NhbGUsIG1ldGEuZHVyYXRpb24pO1xuICAgICAgICBsZXQgdHJhayA9IE1QNC50cmFrKG1ldGEpO1xuICAgICAgICBsZXQgbXZleCA9IE1QNC5tdmV4KG1ldGEpO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubW9vdiwgbXZoZCwgdHJhaywgbXZleCk7XG4gICAgfVxuXG4gICAgLy8gTW92aWUgaGVhZGVyIGJveFxuICAgIHN0YXRpYyBtdmhkKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm12aGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBjcmVhdGlvbl90aW1lXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+IDI0KSAmIDB4RkYsICAvLyB0aW1lc2NhbGU6IDQgYnl0ZXNcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgKHRpbWVzY2FsZSkgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAgIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsICAvLyBQcmVmZXJyZWQgcmF0ZTogMS4wXG4gICAgICAgICAgICAweDAxLCAweDAwLCAweDAwLCAweDAwLCAgLy8gUHJlZmVycmVkVm9sdW1lKDEuMCwgMmJ5dGVzKSArIHJlc2VydmVkKDJieXRlcylcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyByZXNlcnZlZDogNCArIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAgLy8gLS0tLWJlZ2luIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gLS0tLWVuZCBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gLS0tLWJlZ2luIHByZV9kZWZpbmVkIDYgKiA0IGJ5dGVzLS0tLVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyAtLS0tZW5kIHByZV9kZWZpbmVkIDYgKiA0IGJ5dGVzLS0tLVxuICAgICAgICAgICAgMHhGRiwgMHhGRiwgMHhGRiwgMHhGRiAgIC8vIG5leHRfdHJhY2tfSURcbiAgICAgICAgXSkpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGJveFxuICAgIHN0YXRpYyB0cmFrKG1ldGEpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWssIE1QNC50a2hkKG1ldGEpLCBNUDQubWRpYShtZXRhKSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgaGVhZGVyIGJveFxuICAgIHN0YXRpYyB0a2hkKG1ldGEpIHtcbiAgICAgICAgbGV0IHRyYWNrSWQgPSBtZXRhLmlkLCBkdXJhdGlvbiA9IG1ldGEuZHVyYXRpb247XG4gICAgICAgIGxldCB3aWR0aCA9IG1ldGEucHJlc2VudFdpZHRoLCBoZWlnaHQgPSBtZXRhLnByZXNlbnRIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRraGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDcsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBjcmVhdGlvbl90aW1lXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAyNCkgJiAweEZGLCAgLy8gdHJhY2tfSUQ6IDQgYnl0ZXNcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAodHJhY2tJZCkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiA0IGJ5dGVzXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyByZXNlcnZlZDogMiAqIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gbGF5ZXIoMmJ5dGVzKSArIGFsdGVybmF0ZV9ncm91cCgyYnl0ZXMpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdm9sdW1lKDJieXRlcykgKyByZXNlcnZlZCgyYnl0ZXMpXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAgLy8gLS0tLWJlZ2luIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gLS0tLWVuZCBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAgICAgICAod2lkdGggPj4+IDgpICYgMHhGRiwgICAgLy8gd2lkdGggYW5kIGhlaWdodFxuICAgICAgICAgICAgKHdpZHRoKSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgKGhlaWdodCA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgKGhlaWdodCkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMFxuICAgICAgICBdKSk7XG4gICAgfVxuXG4gICAgLy8gTWVkaWEgQm94XG4gICAgc3RhdGljIG1kaWEobWV0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRpYSwgTVA0Lm1kaGQobWV0YSksIE1QNC5oZGxyKG1ldGEpLCBNUDQubWluZihtZXRhKSk7XG4gICAgfVxuXG4gICAgLy8gTWVkaWEgaGVhZGVyIGJveFxuICAgIHN0YXRpYyBtZGhkKG1ldGEpIHtcbiAgICAgICAgbGV0IHRpbWVzY2FsZSA9IG1ldGEudGltZXNjYWxlO1xuICAgICAgICBsZXQgZHVyYXRpb24gPSBtZXRhLmR1cmF0aW9uO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gMjQpICYgMHhGRiwgIC8vIHRpbWVzY2FsZTogNCBieXRlc1xuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlKSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsICAgLy8gZHVyYXRpb246IDQgYnl0ZXNcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAgICAgMHg1NSwgMHhDNCwgICAgICAgICAgICAgLy8gbGFuZ3VhZ2U6IHVuZCAodW5kZXRlcm1pbmVkKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCAgICAgICAgICAgICAgLy8gcHJlX2RlZmluZWQgPSAwXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICAvLyBNZWRpYSBoYW5kbGVyIHJlZmVyZW5jZSBib3hcbiAgICBzdGF0aWMgaGRscihtZXRhKSB7XG4gICAgICAgIGxldCBkYXRhID0gbnVsbDtcbiAgICAgICAgaWYgKG1ldGEudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgZGF0YSA9IE1QNC5jb25zdGFudHMuSERMUl9BVURJTztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBNUDQuY29uc3RhbnRzLkhETFJfVklERU87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIGRhdGEpO1xuICAgIH1cblxuICAgIC8vIE1lZGlhIGluZm9tYXRpb24gYm94XG4gICAgc3RhdGljIG1pbmYobWV0YSkge1xuICAgICAgICBsZXQgeG1oZCA9IG51bGw7XG4gICAgICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHhtaGQgPSBNUDQuYm94KE1QNC50eXBlcy5zbWhkLCBNUDQuY29uc3RhbnRzLlNNSEQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1oZCA9IE1QNC5ib3goTVA0LnR5cGVzLnZtaGQsIE1QNC5jb25zdGFudHMuVk1IRCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIHhtaGQsIE1QNC5kaW5mKCksIE1QNC5zdGJsKG1ldGEpKTtcbiAgICB9XG5cbiAgICAvLyBEYXRhIGluZm9tYXRpb24gYm94XG4gICAgc3RhdGljIGRpbmYoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLFxuICAgICAgICAgICAgTVA0LmJveChNUDQudHlwZXMuZHJlZiwgTVA0LmNvbnN0YW50cy5EUkVGKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIFNhbXBsZSB0YWJsZSBib3hcbiAgICBzdGF0aWMgc3RibChtZXRhKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBNUDQuYm94KE1QNC50eXBlcy5zdGJsLCAgLy8gdHlwZTogc3RibFxuICAgICAgICAgICAgTVA0LnN0c2QobWV0YSksICAvLyBTYW1wbGUgRGVzY3JpcHRpb24gVGFibGVcbiAgICAgICAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5jb25zdGFudHMuU1RUUyksICAvLyBUaW1lLVRvLVNhbXBsZVxuICAgICAgICAgICAgTVA0LmJveChNUDQudHlwZXMuc3RzYywgTVA0LmNvbnN0YW50cy5TVFNDKSwgIC8vIFNhbXBsZS1Uby1DaHVua1xuICAgICAgICAgICAgTVA0LmJveChNUDQudHlwZXMuc3RzeiwgTVA0LmNvbnN0YW50cy5TVFNaKSwgIC8vIFNhbXBsZSBzaXplXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zdGNvLCBNUDQuY29uc3RhbnRzLlNUQ08pICAgLy8gQ2h1bmsgb2Zmc2V0XG4gICAgICAgICk7IFxuICAgICAgICByZXR1cm4gcmVzdWx0OyBcbiAgICB9XG5cbiAgICAvLyBTYW1wbGUgZGVzY3JpcHRpb24gYm94XG4gICAgc3RhdGljIHN0c2QobWV0YSkge1xuICAgICAgICBpZiAobWV0YS50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBpZiAobWV0YS5jb2RlYyA9PT0gJ21wMycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LmNvbnN0YW50cy5TVFNEX1BSRUZJWCwgTVA0Lm1wMyhtZXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbHNlOiBhYWMgLT4gbXA0YVxuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5jb25zdGFudHMuU1RTRF9QUkVGSVgsIE1QNC5tcDRhKG1ldGEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuY29uc3RhbnRzLlNUU0RfUFJFRklYLCBNUDQuYXZjMShtZXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbXAzKG1ldGEpIHtcbiAgICAgICAgbGV0IGNoYW5uZWxDb3VudCA9IG1ldGEuY2hhbm5lbENvdW50O1xuICAgICAgICBsZXQgc2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuXG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkKDQpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAgLy8gcmVzZXJ2ZWQoMikgKyBkYXRhX3JlZmVyZW5jZV9pbmRleCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiAyICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIGNoYW5uZWxDb3VudCwgICAgICAvLyBjaGFubmVsQ291bnQoMilcbiAgICAgICAgICAgIDB4MDAsIDB4MTAsICAgICAgICAgICAgICAvLyBzYW1wbGVTaXplKDIpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQoNClcbiAgICAgICAgICAgIChzYW1wbGVSYXRlID4+PiA4KSAmIDB4RkYsICAvLyBBdWRpbyBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgKHNhbXBsZVJhdGUpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzWycubXAzJ10sIGRhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtcDRhKG1ldGEpIHtcbiAgICAgICAgbGV0IGNoYW5uZWxDb3VudCA9IG1ldGEuY2hhbm5lbENvdW50O1xuICAgICAgICBsZXQgc2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuXG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkKDQpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAgLy8gcmVzZXJ2ZWQoMikgKyBkYXRhX3JlZmVyZW5jZV9pbmRleCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiAyICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIGNoYW5uZWxDb3VudCwgICAgICAvLyBjaGFubmVsQ291bnQoMilcbiAgICAgICAgICAgIDB4MDAsIDB4MTAsICAgICAgICAgICAgICAvLyBzYW1wbGVTaXplKDIpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQoNClcbiAgICAgICAgICAgIChzYW1wbGVSYXRlID4+PiA4KSAmIDB4RkYsICAvLyBBdWRpbyBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgKHNhbXBsZVJhdGUpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIGRhdGEsIE1QNC5lc2RzKG1ldGEpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXNkcyhtZXRhKSB7XG4gICAgICAgIGxldCBjb25maWcgPSBtZXRhLmNvbmZpZyB8fCBbXTtcbiAgICAgICAgbGV0IGNvbmZpZ1NpemUgPSBjb25maWcubGVuZ3RoO1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uIDAgKyBmbGFnc1xuXG4gICAgICAgICAgICAweDAzLCAgICAgICAgICAgICAgICAgICAgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAgICAgICAweDE3ICsgY29uZmlnU2l6ZSwgICAgICAgLy8gbGVuZ3RoM1xuICAgICAgICAgICAgMHgwMCwgMHgwMSwgICAgICAgICAgICAgIC8vIGVzX2lkXG4gICAgICAgICAgICAweDAwLCAgICAgICAgICAgICAgICAgICAgLy8gc3RyZWFtX3ByaW9yaXR5XG5cbiAgICAgICAgICAgIDB4MDQsICAgICAgICAgICAgICAgICAgICAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAgICAgICAgIDB4MEYgKyBjb25maWdTaXplLCAgICAgICAvLyBsZW5ndGhcbiAgICAgICAgICAgIDB4NDAsICAgICAgICAgICAgICAgICAgICAvLyBjb2RlYzogbXBlZzRfYXVkaW9cbiAgICAgICAgICAgIDB4MTUsICAgICAgICAgICAgICAgICAgICAvLyBzdHJlYW1fdHlwZTogQXVkaW9cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsICAgICAgICAvLyBidWZmZXJfc2l6ZVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIG1heEJpdHJhdGVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBhdmdCaXRyYXRlXG5cbiAgICAgICAgICAgIDB4MDUgICAgICAgICAgICAgICAgICAgICAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAgICAgXS5jb25jYXQoW1xuICAgICAgICAgICAgY29uZmlnU2l6ZVxuICAgICAgICBdKS5jb25jYXQoXG4gICAgICAgICAgICBjb25maWdcbiAgICAgICAgKS5jb25jYXQoW1xuICAgICAgICAgICAgMHgwNiwgMHgwMSwgMHgwMiAgICAgICAgIC8vIEdBU3BlY2lmaWNDb25maWdcbiAgICAgICAgXSkpO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuZXNkcywgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGF2YzEobWV0YSkge1xuICAgICAgICBsZXQgYXZjYyA9IG1ldGEuYXZjYztcbiAgICAgICAgbGV0IHdpZHRoID0gbWV0YS5jb2RlY1dpZHRoLCBoZWlnaHQgPSBtZXRhLmNvZGVjSGVpZ2h0O1xuXG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkKDQpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAgLy8gcmVzZXJ2ZWQoMikgKyBkYXRhX3JlZmVyZW5jZV9pbmRleCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHByZV9kZWZpbmVkKDIpICsgcmVzZXJ2ZWQoMilcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBwcmVfZGVmaW5lZDogMyAqIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHdpZHRoID4+PiA4KSAmIDB4RkYsICAgIC8vIHdpZHRoOiAyIGJ5dGVzXG4gICAgICAgICAgICAod2lkdGgpICYgMHhGRixcbiAgICAgICAgICAgIChoZWlnaHQgPj4+IDgpICYgMHhGRiwgICAvLyBoZWlnaHQ6IDIgYnl0ZXNcbiAgICAgICAgICAgIChoZWlnaHQpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsICAvLyBob3JpenJlc29sdXRpb246IDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsICAvLyB2ZXJ0cmVzb2x1dGlvbjogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiA0IGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAxLCAgICAgICAgICAgICAgLy8gZnJhbWVfY291bnRcbiAgICAgICAgICAgIDB4MEEsICAgICAgICAgICAgICAgICAgICAvLyBzdHJsZW5cbiAgICAgICAgICAgIDB4NzgsIDB4NzEsIDB4NzEsIDB4MkYsICAvLyBjb21wcmVzc29ybmFtZTogMzIgYnl0ZXNcbiAgICAgICAgICAgIDB4NjYsIDB4NkMsIDB4NzYsIDB4MkUsXG4gICAgICAgICAgICAweDZBLCAweDczLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDE4LCAgICAgICAgICAgICAgLy8gZGVwdGhcbiAgICAgICAgICAgIDB4RkYsIDB4RkYgICAgICAgICAgICAgICAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgZGF0YSwgTVA0LmJveChNUDQudHlwZXMuYXZjQywgYXZjYykpO1xuICAgIH1cblxuICAgIC8vIE1vdmllIEV4dGVuZHMgYm94XG4gICAgc3RhdGljIG12ZXgobWV0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZleCwgTVA0LnRyZXgobWV0YSkpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIEV4dGVuZHMgYm94XG4gICAgc3RhdGljIHRyZXgobWV0YSkge1xuICAgICAgICBsZXQgdHJhY2tJZCA9IG1ldGEuaWQ7XG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDI0KSAmIDB4RkYsIC8vIHRyYWNrX0lEXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyBkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIGRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gZGVmYXVsdF9zYW1wbGVfc2l6ZVxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMSAgIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJleCwgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gTW92aWUgZnJhZ21lbnQgYm94XG4gICAgc3RhdGljIG1vb2YodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1vb2YsIE1QNC5tZmhkKHRyYWNrLnNlcXVlbmNlTnVtYmVyKSwgTVA0LnRyYWYodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWZoZChzZXF1ZW5jZU51bWJlcikge1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+IDI0KSAmIDB4RkYsICAvLyBzZXF1ZW5jZV9udW1iZXI6IGludDMyXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIpICYgMHhGRlxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1maGQsIGRhdGEpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGZyYWdtZW50IGJveFxuICAgIHN0YXRpYyB0cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgIGxldCB0cmFja0lkID0gdHJhY2suaWQ7XG5cbiAgICAgICAgLy8gVHJhY2sgZnJhZ21lbnQgaGVhZGVyIGJveFxuICAgICAgICBsZXQgdGZoZCA9IE1QNC5ib3goTVA0LnR5cGVzLnRmaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAyNCkgJiAweEZGLCAvLyB0cmFja19JRFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkKSAmIDB4RkZcbiAgICAgICAgXSkpO1xuICAgICAgICAvLyBUcmFjayBGcmFnbWVudCBEZWNvZGUgVGltZVxuICAgICAgICBsZXQgdGZkdCA9IE1QNC5ib3goTVA0LnR5cGVzLnRmZHQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAyNCkgJiAweEZGLCAgLy8gYmFzZU1lZGlhRGVjb2RlVGltZTogaW50MzJcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSkgJiAweEZGXG4gICAgICAgIF0pKTtcbiAgICAgICAgbGV0IHNkdHAgPSBNUDQuc2R0cCh0cmFjayk7XG4gICAgICAgIGxldCB0cnVuID0gTVA0LnRydW4odHJhY2ssIHNkdHAuYnl0ZUxlbmd0aCArIDE2ICsgMTYgKyA4ICsgMTYgKyA4ICsgOCk7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWYsIHRmaGQsIHRmZHQsIHRydW4sIHNkdHApO1xuICAgIH1cblxuICAgIC8vIFNhbXBsZSBEZXBlbmRlbmN5IFR5cGUgYm94XG4gICAgc3RhdGljIHNkdHAodHJhY2spIHtcbiAgICAgICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdO1xuICAgICAgICBsZXQgc2FtcGxlQ291bnQgPSBzYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSg0ICsgc2FtcGxlQ291bnQpO1xuICAgICAgICAvLyAwfjQgYnl0ZXM6IHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmbGFncyA9IHNhbXBsZXNbaV0uZmxhZ3M7XG4gICAgICAgICAgICBkYXRhW2kgKyA0XSA9IChmbGFncy5pc0xlYWRpbmcgPDwgNikgICAgLy8gaXNfbGVhZGluZzogMiAoYml0KVxuICAgICAgICAgICAgICAgICAgICAgICAgfCAoZmxhZ3MuZGVwZW5kc09uIDw8IDQpICAgIC8vIHNhbXBsZV9kZXBlbmRzX29uXG4gICAgICAgICAgICAgICAgICAgICAgICB8IChmbGFncy5pc0RlcGVuZGVkT24gPDwgMikgLy8gc2FtcGxlX2lzX2RlcGVuZGVkX29uXG4gICAgICAgICAgICAgICAgICAgICAgICB8IChmbGFncy5oYXNSZWR1bmRhbmN5KTsgICAgLy8gc2FtcGxlX2hhc19yZWR1bmRhbmN5XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnNkdHAsIGRhdGEpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGZyYWdtZW50IHJ1biBib3hcbiAgICBzdGF0aWMgdHJ1bih0cmFjaywgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXTtcbiAgICAgICAgbGV0IHNhbXBsZUNvdW50ID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgIGxldCBkYXRhU2l6ZSA9IDEyICsgMTYgKiBzYW1wbGVDb3VudDtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShkYXRhU2l6ZSk7XG4gICAgICAgIG9mZnNldCArPSA4ICsgZGF0YVNpemU7XG5cbiAgICAgICAgZGF0YS5zZXQoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwRiwgMHgwMSwgICAgICAvLyB2ZXJzaW9uKDApICYgZmxhZ3NcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCA+Pj4gMjQpICYgMHhGRiwgLy8gc2FtcGxlX2NvdW50XG4gICAgICAgICAgICAoc2FtcGxlQ291bnQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2FtcGxlQ291bnQgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2FtcGxlQ291bnQpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDI0KSAmIDB4RkYsICAgICAgLy8gZGF0YV9vZmZzZXRcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCkgJiAweEZGXG4gICAgICAgIF0sIDApO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGR1cmF0aW9uID0gc2FtcGxlc1tpXS5kdXJhdGlvbjtcbiAgICAgICAgICAgIGxldCBzaXplID0gc2FtcGxlc1tpXS5zaXplO1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgICAgICAgIGxldCBjdHMgPSBzYW1wbGVzW2ldLmN0cztcbiAgICAgICAgICAgIGRhdGEuc2V0KFtcbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsICAvLyBzYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAgICAgICAgIChzaXplID4+PiAyNCkgJiAweEZGLCAgICAgIC8vIHNhbXBsZV9zaXplXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoZmxhZ3MuaXNMZWFkaW5nIDw8IDIpIHwgZmxhZ3MuZGVwZW5kc09uLCAgLy8gc2FtcGxlX2ZsYWdzXG4gICAgICAgICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2KSB8IChmbGFncy5oYXNSZWR1bmRhbmN5IDw8IDQpIHwgZmxhZ3MuaXNOb25TeW5jLFxuICAgICAgICAgICAgICAgIDB4MDAsIDB4MDAsICAgICAgICAgICAgICAgIC8vIHNhbXBsZV9kZWdyYWRhdGlvbl9wcmlvcml0eVxuICAgICAgICAgICAgICAgIChjdHMgPj4+IDI0KSAmIDB4RkYsICAgICAgIC8vIHNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldFxuICAgICAgICAgICAgICAgIChjdHMgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGN0cyA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoY3RzKSAmIDB4RkZcbiAgICAgICAgICAgIF0sIDEyICsgMTYgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1kYXQoZGF0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRhdCwgZGF0YSk7XG4gICAgfVxuXG59XG5cbk1QNC5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE1QNDsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IE1QNCBmcm9tICcuL21wNC1nZW5lcmF0b3IuanMnO1xuaW1wb3J0IEFBQyBmcm9tICcuL2FhYy1zaWxlbnQuanMnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vdXRpbHMvYnJvd3Nlci5qcyc7XG5pbXBvcnQge1NhbXBsZUluZm8sIE1lZGlhU2VnbWVudEluZm8sIE1lZGlhU2VnbWVudEluZm9MaXN0fSBmcm9tICcuLi9jb3JlL21lZGlhLXNlZ21lbnQtaW5mby5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuXG4vLyBGcmFnbWVudGVkIG1wNCByZW11eGVyXG5jbGFzcyBNUDRSZW11eGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdNUDRSZW11eGVyJztcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2lzTGl2ZSA9IChjb25maWcuaXNMaXZlID09PSB0cnVlKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kdHNCYXNlID0gLTE7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2VJbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXVkaW9EdHNCYXNlID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuX3ZpZGVvRHRzQmFzZSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLl9hdWRpb05leHREdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0ID0gbmV3IE1lZGlhU2VnbWVudEluZm9MaXN0KCdhdWRpbycpO1xuICAgICAgICB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdCA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvTGlzdCgndmlkZW8nKTtcblxuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGNocm9tZSA8IDUwOiBBbHdheXMgZm9yY2UgZmlyc3Qgc2FtcGxlIGFzIGEgUmFuZG9tIEFjY2VzcyBQb2ludCBpbiBtZWRpYSBzZWdtZW50XG4gICAgICAgIC8vIHNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgICAgdGhpcy5fZm9yY2VGaXJzdElEUiA9IChCcm93c2VyLmNocm9tZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA8IDUwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIElFMTEvRWRnZTogRmlsbCBzaWxlbnQgYWFjIGZyYW1lIGFmdGVyIGtleWZyYW1lLXNlZWtpbmdcbiAgICAgICAgLy8gTWFrZSBhdWRpbyBiZWdpbkR0cyBlcXVhbHMgd2l0aCB2aWRlbyBiZWdpbkR0cywgaW4gb3JkZXIgdG8gZml4IHNlZWsgZnJlZXplXG4gICAgICAgIHRoaXMuX2ZpbGxTaWxlbnRBZnRlclNlZWsgPSAoQnJvd3Nlci5tc2VkZ2UgfHwgQnJvd3Nlci5tc2llKTtcblxuICAgICAgICAvLyBXaGlsZSBvbmx5IEZpcmVGb3ggc3VwcG9ydHMgJ2F1ZGlvL21wNCwgY29kZWNzPVwibXAzXCInLCB1c2UgJ2F1ZGlvL21wZWcnIGZvciBjaHJvbWUsIHNhZmFyaSwgLi4uXG4gICAgICAgIHRoaXMuX21wM1VzZU1wZWdBdWRpbyA9ICFCcm93c2VyLmZpcmVmb3g7XG5cbiAgICAgICAgdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwID0gdGhpcy5fY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2UgPSAtMTtcbiAgICAgICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Jbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBiaW5kRGF0YVNvdXJjZShwcm9kdWNlcikge1xuICAgICAgICBwcm9kdWNlci5vbkRhdGFBdmFpbGFibGUgPSB0aGlzLnJlbXV4LmJpbmQodGhpcyk7XG4gICAgICAgIHByb2R1Y2VyLm9uVHJhY2tNZXRhZGF0YSA9IHRoaXMuX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qIHByb3RvdHlwZTogZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlOiBzdHJpbmcsIGluaXRTZWdtZW50OiBBcnJheUJ1ZmZlcik6IHZvaWRcbiAgICAgICBJbml0U2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBjb2RlYzogc3RyaW5nLFxuICAgICAgICAgICBjb250YWluZXI6IHN0cmluZ1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbkluaXRTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Jbml0U2VnbWVudDtcbiAgICB9XG5cbiAgICBzZXQgb25Jbml0U2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLyogcHJvdG90eXBlOiBmdW5jdGlvbiBvbk1lZGlhU2VnbWVudCh0eXBlOiBzdHJpbmcsIG1lZGlhU2VnbWVudDogTWVkaWFTZWdtZW50KTogdm9pZFxuICAgICAgIE1lZGlhU2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBzYW1wbGVDb3VudDogaW50MzJcbiAgICAgICAgICAgaW5mbzogTWVkaWFTZWdtZW50SW5mb1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbk1lZGlhU2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uTWVkaWFTZWdtZW50O1xuICAgIH1cblxuICAgIHNldCBvbk1lZGlhU2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGluc2VydERpc2NvbnRpbnVpdHkoKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWVrKG9yaWdpbmFsRHRzKSB7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuX29uTWVkaWFTZWdtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdNUDRSZW11eGVyOiBvbk1lZGlhU2VnbWVudCBjYWxsYmFjayBtdXN0IGJlIHNwZWNpZmljZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kdHNCYXNlSW5pdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVEdHNCYXNlKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbXV4VmlkZW8odmlkZW9UcmFjayk7XG4gICAgICAgIHRoaXMuX3JlbXV4QXVkaW8oYXVkaW9UcmFjayk7XG4gICAgfVxuXG4gICAgX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCBtZXRhYm94ID0gbnVsbDtcblxuICAgICAgICBsZXQgY29udGFpbmVyID0gJ21wNCc7XG4gICAgICAgIGxldCBjb2RlYyA9IG1ldGFkYXRhLmNvZGVjO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YS5jb2RlYyA9PT0gJ21wMycgJiYgdGhpcy5fbXAzVXNlTXBlZ0F1ZGlvKSB7XG4gICAgICAgICAgICAgICAgLy8gJ2F1ZGlvL21wZWcnIGZvciBNUDMgYXVkaW8gdHJhY2tcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSAnbXBlZyc7XG4gICAgICAgICAgICAgICAgY29kZWMgPSAnJztcbiAgICAgICAgICAgICAgICBtZXRhYm94ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gJ2F1ZGlvL21wNCwgY29kZWNzPVwiY29kZWNcIidcbiAgICAgICAgICAgICAgICBtZXRhYm94ID0gTVA0LmdlbmVyYXRlSW5pdFNlZ21lbnQobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgbWV0YWJveCA9IE1QNC5nZW5lcmF0ZUluaXRTZWdtZW50KG1ldGFkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc3BhdGNoIG1ldGFib3ggKEluaXRpYWxpemF0aW9uIFNlZ21lbnQpXG4gICAgICAgIGlmICghdGhpcy5fb25Jbml0U2VnbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignTVA0UmVtdXhlcjogb25Jbml0U2VnbWVudCBjYWxsYmFjayBtdXN0IGJlIHNwZWNpZmllZCEnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50KHR5cGUsIHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBtZXRhYm94LmJ1ZmZlcixcbiAgICAgICAgICAgIGNvZGVjOiBjb2RlYyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogYCR7dHlwZX0vJHtjb250YWluZXJ9YCxcbiAgICAgICAgICAgIG1lZGlhRHVyYXRpb246IG1ldGFkYXRhLmR1cmF0aW9uICAvLyBpbiB0aW1lc2NhbGUgMTAwMCAobWlsbGlzZWNvbmRzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlRHRzQmFzZShhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLl9kdHNCYXNlSW5pdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXVkaW9UcmFjay5zYW1wbGVzICYmIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvRHRzQmFzZSA9IGF1ZGlvVHJhY2suc2FtcGxlc1swXS5kdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvVHJhY2suc2FtcGxlcyAmJiB2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl92aWRlb0R0c0Jhc2UgPSB2aWRlb1RyYWNrLnNhbXBsZXNbMF0uZHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZHRzQmFzZSA9IE1hdGgubWluKHRoaXMuX2F1ZGlvRHRzQmFzZSwgdGhpcy5fdmlkZW9EdHNCYXNlKTtcbiAgICAgICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX3JlbXV4QXVkaW8oYXVkaW9UcmFjaykge1xuICAgICAgICBpZiAodGhpcy5fYXVkaW9NZXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0cmFjayA9IGF1ZGlvVHJhY2s7XG4gICAgICAgIGxldCBzYW1wbGVzID0gdHJhY2suc2FtcGxlcztcbiAgICAgICAgbGV0IGR0c0NvcnJlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBmaXJzdER0cyA9IC0xLCBsYXN0RHRzID0gLTEsIGxhc3RQdHMgPSAtMTtcbiAgICAgICAgbGV0IHJlZlNhbXBsZUR1cmF0aW9uID0gdGhpcy5fYXVkaW9NZXRhLnJlZlNhbXBsZUR1cmF0aW9uO1xuXG4gICAgICAgIGxldCBtcGVnUmF3VHJhY2sgPSB0aGlzLl9hdWRpb01ldGEuY29kZWMgPT09ICdtcDMnICYmIHRoaXMuX21wM1VzZU1wZWdBdWRpbztcbiAgICAgICAgbGV0IGZpcnN0U2VnbWVudEFmdGVyU2VlayA9IHRoaXMuX2R0c0Jhc2VJbml0ZWQgJiYgdGhpcy5fYXVkaW9OZXh0RHRzID09PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgbGV0IGluc2VydFByZWZpeFNpbGVudEZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFzYW1wbGVzIHx8IHNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1kYXRib3ggPSBudWxsO1xuICAgICAgICBsZXQgbWRhdEJ5dGVzID0gMDtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgaW5pdGlhbCBtZGF0IHNpemVcbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gZm9yIHJhdyBtcGVnIGJ1ZmZlclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IHRyYWNrLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZvciBmbXA0IG1kYXQgYm94XG4gICAgICAgICAgICBvZmZzZXQgPSA4OyAgLy8gc2l6ZSArIHR5cGVcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IDggKyB0cmFjay5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlyc3RTYW1wbGVPcmlnaW5hbER0cyA9IHNhbXBsZXNbMF0uZHRzIC0gdGhpcy5fZHRzQmFzZTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgZHRzQ29ycmVjdGlvblxuICAgICAgICBpZiAodGhpcy5fYXVkaW9OZXh0RHRzKSB7XG4gICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIHRoaXMuX2F1ZGlvTmV4dER0cztcbiAgICAgICAgfSBlbHNlIHsgIC8vIHRoaXMuX2F1ZGlvTmV4dER0cyA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmlsbFNpbGVudEFmdGVyU2VlayAmJiAhdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYyAhPT0gJ21wMycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFByZWZpeFNpbGVudEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RTYW1wbGUgPSB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhwZWN0ZWREdHMgPSBsYXN0U2FtcGxlLmR0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24gKyBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSBleHBlY3RlZER0cztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGwsIGNhbm5vdCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUpIHtcbiAgICAgICAgICAgIC8vIGFsaWduIGF1ZGlvIHNlZ21lbnQgYmVnaW5EdHMgdG8gbWF0Y2ggd2l0aCBjdXJyZW50IHZpZGVvIHNlZ21lbnQncyBiZWdpbkR0c1xuICAgICAgICAgICAgbGV0IGZpcnN0U2FtcGxlRHRzID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICBsZXQgdmlkZW9TZWdtZW50ID0gdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNlZ21lbnRCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyk7XG4gICAgICAgICAgICBpZiAodmlkZW9TZWdtZW50ICE9IG51bGwgJiYgdmlkZW9TZWdtZW50LmJlZ2luRHRzIDwgZmlyc3RTYW1wbGVEdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2lsZW50VW5pdCA9IEFBQy5nZXRTaWxlbnRGcmFtZSh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYywgdGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpbGVudFVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR0cyA9IHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpbGVudEZyYW1lRHVyYXRpb24gPSBmaXJzdFNhbXBsZUR0cyAtIHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBJbnNlcnRQcmVmaXhTaWxlbnRBdWRpbzogZHRzOiAke2R0c30sIGR1cmF0aW9uOiAke3NpbGVudEZyYW1lRHVyYXRpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXMudW5zaGlmdCh7dW5pdDogc2lsZW50VW5pdCwgZHRzOiBkdHMsIHB0czogZHRzfSk7XG4gICAgICAgICAgICAgICAgICAgIG1kYXRCeXRlcyArPSBzaWxlbnRVbml0LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgfSAgLy8gc2lsZW50VW5pdCA9PSBudWxsOiBDYW5ub3QgZ2VuZXJhdGUsIHNraXBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtcDRTYW1wbGVzID0gW107XG5cbiAgICAgICAgLy8gQ29ycmVjdCBkdHMgZm9yIGVhY2ggc2FtcGxlLCBhbmQgY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvbi4gVGhlbiBvdXRwdXQgdG8gbXA0U2FtcGxlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzYW1wbGUgPSBzYW1wbGVzW2ldO1xuICAgICAgICAgICAgbGV0IHVuaXQgPSBzYW1wbGUudW5pdDtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbER0cyA9IHNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuICAgICAgICAgICAgbGV0IGR0cyA9IG9yaWdpbmFsRHRzIC0gZHRzQ29ycmVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGZpcnN0RHRzID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpcnN0RHRzID0gZHRzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2FtcGxlRHVyYXRpb24gPSAwO1xuXG4gICAgICAgICAgICBpZiAoaSAhPT0gc2FtcGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHREdHMgPSBzYW1wbGVzW2kgKyAxXS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG5leHREdHMgLSBkdHM7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gdGhlIGxhc3Qgc2FtcGxlXG4gICAgICAgICAgICAgICAgaWYgKG1wNFNhbXBsZXMubGVuZ3RoID49IDEpIHsgIC8vIHVzZSBzZWNvbmQgbGFzdCBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2Ugc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gTWF0aC5mbG9vcihyZWZTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbmVlZEZpbGxTaWxlbnRGcmFtZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzaWxlbnRGcmFtZXMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBTaWxlbnQgZnJhbWUgZ2VuZXJhdGlvbiwgaWYgbGFyZ2UgdGltZXN0YW1wIGdhcCBkZXRlY3RlZCAmJiBjb25maWcuZml4QXVkaW9UaW1lc3RhbXBHYXBcbiAgICAgICAgICAgIGlmIChzYW1wbGVEdXJhdGlvbiA+IHJlZlNhbXBsZUR1cmF0aW9uICogMS41ICYmIHRoaXMuX2F1ZGlvTWV0YS5jb2RlYyAhPT0gJ21wMycgJiYgdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwICYmICFCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gaW5zZXJ0IHNpbGVudCBmcmFtZXMgdG8gZmlsbCB0aW1lc3RhbXAgZ2FwXG4gICAgICAgICAgICAgICAgbmVlZEZpbGxTaWxlbnRGcmFtZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IE1hdGguYWJzKHNhbXBsZUR1cmF0aW9uIC0gcmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGxldCBmcmFtZUNvdW50ID0gTWF0aC5jZWlsKGRlbHRhIC8gcmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RHRzID0gZHRzICsgcmVmU2FtcGxlRHVyYXRpb247ICAvLyBOb3RpY2U6IGluIGZsb2F0XG5cbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0xhcmdlIGF1ZGlvIHRpbWVzdGFtcCBnYXAgZGV0ZWN0ZWQsIG1heSBjYXVzZSBBViBzeW5jIHRvIGRyaWZ0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NpbGVudCBmcmFtZXMgd2lsbCBiZSBnZW5lcmF0ZWQgdG8gYXZvaWQgdW5zeW5jLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgZHRzOiAke2R0cyArIHNhbXBsZUR1cmF0aW9ufSBtcywgZXhwZWN0ZWQ6ICR7ZHRzICsgTWF0aC5yb3VuZChyZWZTYW1wbGVEdXJhdGlvbil9IG1zLCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGRlbHRhOiAke01hdGgucm91bmQoZGVsdGEpfSBtcywgZ2VuZXJhdGU6ICR7ZnJhbWVDb3VudH0gZnJhbWVzYCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgc2lsZW50VW5pdCA9IEFBQy5nZXRTaWxlbnRGcmFtZSh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYywgdGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpbGVudFVuaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ1VuYWJsZSB0byBnZW5lcmF0ZSBzaWxlbnQgZnJhbWUgZm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7dGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWN9IHdpdGggJHt0aGlzLl9hdWRpb01ldGEuY2hhbm5lbENvdW50fSBjaGFubmVscywgcmVwZWF0IGxhc3QgZnJhbWVgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVwZWF0IGxhc3QgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgc2lsZW50VW5pdCA9IHVuaXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNpbGVudEZyYW1lcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmcmFtZUNvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludER0cyA9IE1hdGgucm91bmQoY3VycmVudER0cyk7ICAvLyByb3VuZCB0byBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWxlbnRGcmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHByZXZpb3VzIGZyYW1lIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZpb3VzRnJhbWUgPSBzaWxlbnRGcmFtZXNbc2lsZW50RnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNGcmFtZS5kdXJhdGlvbiA9IGludER0cyAtIHByZXZpb3VzRnJhbWUuZHRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmcmFtZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR0czogaW50RHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHRzOiBpbnREdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bml0OiBzaWxlbnRVbml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2lsZW50VW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAsICAvLyB3YWl0IGZvciBuZXh0IHNhbXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEdHM6IG9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kc09uOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNpbGVudEZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgbWRhdEJ5dGVzICs9IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudER0cyArPSByZWZTYW1wbGVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBsYXN0IGZyYW1lOiBhbGlnbiBlbmQgdGltZSB0byBuZXh0IGZyYW1lIGR0c1xuICAgICAgICAgICAgICAgIGxldCBsYXN0RnJhbWUgPSBzaWxlbnRGcmFtZXNbc2lsZW50RnJhbWVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGxhc3RGcmFtZS5kdXJhdGlvbiA9IGR0cyArIHNhbXBsZUR1cmF0aW9uIC0gbGFzdEZyYW1lLmR0cztcblxuICAgICAgICAgICAgICAgIC8vIHNpbGVudEZyYW1lcy5mb3JFYWNoKChmcmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICBMb2cudyh0aGlzLlRBRywgYFNpbGVudEF1ZGlvOiBkdHM6ICR7ZnJhbWUuZHRzfSwgZHVyYXRpb246ICR7ZnJhbWUuZHVyYXRpb259YCk7XG4gICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgY29ycmVjdCBzYW1wbGUgZHVyYXRpb24gZm9yIGN1cnJlbnQgZnJhbWVcbiAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IE1hdGgucm91bmQocmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtcDRTYW1wbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGR0czogZHRzLFxuICAgICAgICAgICAgICAgIHB0czogZHRzLFxuICAgICAgICAgICAgICAgIGN0czogMCxcbiAgICAgICAgICAgICAgICB1bml0OiBzYW1wbGUudW5pdCxcbiAgICAgICAgICAgICAgICBzaXplOiBzYW1wbGUudW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBvcmlnaW5hbER0czogb3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRzT246IDEsXG4gICAgICAgICAgICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobmVlZEZpbGxTaWxlbnRGcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTaWxlbnQgZnJhbWVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlciB3cm9uZy1kdXJhdGlvbiBmcmFtZVxuICAgICAgICAgICAgICAgIG1wNFNhbXBsZXMucHVzaC5hcHBseShtcDRTYW1wbGVzLCBzaWxlbnRGcmFtZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWxsb2NhdGUgbWRhdGJveFxuICAgICAgICBpZiAobXBlZ1Jhd1RyYWNrKSB7XG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSBmb3IgcmF3IG1wZWcgYnVmZmVyXG4gICAgICAgICAgICBtZGF0Ym94ID0gbmV3IFVpbnQ4QXJyYXkobWRhdEJ5dGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFsbG9jYXRlIGZvciBmbXA0IG1kYXQgYm94XG4gICAgICAgICAgICBtZGF0Ym94ID0gbmV3IFVpbnQ4QXJyYXkobWRhdEJ5dGVzKTtcbiAgICAgICAgICAgIC8vIHNpemUgZmllbGRcbiAgICAgICAgICAgIG1kYXRib3hbMF0gPSAobWRhdEJ5dGVzID4+PiAyNCkgJiAweEZGO1xuICAgICAgICAgICAgbWRhdGJveFsxXSA9IChtZGF0Qnl0ZXMgPj4+IDE2KSAmIDB4RkY7XG4gICAgICAgICAgICBtZGF0Ym94WzJdID0gKG1kYXRCeXRlcyA+Pj4gIDgpICYgMHhGRjtcbiAgICAgICAgICAgIG1kYXRib3hbM10gPSAobWRhdEJ5dGVzKSAmIDB4RkY7XG4gICAgICAgICAgICAvLyB0eXBlIGZpZWxkIChmb3VyQ0MpXG4gICAgICAgICAgICBtZGF0Ym94LnNldChNUDQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1wNFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB1bml0ID0gbXA0U2FtcGxlc1tpXS51bml0O1xuICAgICAgICAgICAgbWRhdGJveC5zZXQodW5pdCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGF0ZXN0ID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBsYXN0RHRzID0gbGF0ZXN0LmR0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fYXVkaW9OZXh0RHRzID0gbGFzdER0cztcblxuICAgICAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICAgICAgbGV0IGluZm8gPSBuZXcgTWVkaWFTZWdtZW50SW5mbygpO1xuICAgICAgICBpbmZvLmJlZ2luRHRzID0gZmlyc3REdHM7XG4gICAgICAgIGluZm8uZW5kRHRzID0gbGFzdER0cztcbiAgICAgICAgaW5mby5iZWdpblB0cyA9IGZpcnN0RHRzO1xuICAgICAgICBpbmZvLmVuZFB0cyA9IGxhc3REdHM7XG4gICAgICAgIGluZm8ub3JpZ2luYWxCZWdpbkR0cyA9IG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHM7XG4gICAgICAgIGluZm8ub3JpZ2luYWxFbmREdHMgPSBsYXRlc3Qub3JpZ2luYWxEdHMgKyBsYXRlc3QuZHVyYXRpb247XG4gICAgICAgIGluZm8uZmlyc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhtcDRTYW1wbGVzWzBdLmR0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0ucHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIGluZm8ubGFzdFNhbXBsZSA9IG5ldyBTYW1wbGVJbmZvKGxhdGVzdC5kdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdC5wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdC5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0Lm9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIGlmICghdGhpcy5faXNMaXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoaW5mbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gbXA0U2FtcGxlcztcbiAgICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIrKztcblxuICAgICAgICBsZXQgbW9vZmJveCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZW1wdHkgYnVmZmVyLCBiZWNhdXNlIHVzZWxlc3MgZm9yIHJhdyBtcGVnXG4gICAgICAgICAgICBtb29mYm94ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIG1vb2YgZm9yIGZtcDQgc2VnbWVudFxuICAgICAgICAgICAgbW9vZmJveCA9IE1QNC5tb29mKHRyYWNrLCBmaXJzdER0cyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHRyYWNrLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgbGV0IHNlZ21lbnQgPSB7XG4gICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fbWVyZ2VCb3hlcyhtb29mYm94LCBtZGF0Ym94KS5idWZmZXIsXG4gICAgICAgICAgICBzYW1wbGVDb3VudDogbXA0U2FtcGxlcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmZvOiBpbmZvXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjayAmJiBmaXJzdFNlZ21lbnRBZnRlclNlZWspIHtcbiAgICAgICAgICAgIC8vIEZvciBNUEVHIGF1ZGlvIHN0cmVhbSBpbiBNU0UsIGlmIHNlZWtpbmcgb2NjdXJyZWQsIGJlZm9yZSBhcHBlbmRpbmcgbmV3IGJ1ZmZlclxuICAgICAgICAgICAgLy8gV2UgbmVlZCBleHBsaWNpdGx5IHNldCB0aW1lc3RhbXBPZmZzZXQgdG8gdGhlIGRlc2lyZWQgcG9pbnQgaW4gdGltZWxpbmUgZm9yIG1wZWcgU291cmNlQnVmZmVyLlxuICAgICAgICAgICAgc2VnbWVudC50aW1lc3RhbXBPZmZzZXQgPSBmaXJzdER0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCdhdWRpbycsIHNlZ21lbnQpO1xuICAgIH1cblxuICAgIF9yZW11eFZpZGVvKHZpZGVvVHJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZGVvTWV0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHJhY2sgPSB2aWRlb1RyYWNrO1xuICAgICAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXM7XG4gICAgICAgIGxldCBkdHNDb3JyZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgZmlyc3REdHMgPSAtMSwgbGFzdER0cyA9IC0xO1xuICAgICAgICBsZXQgZmlyc3RQdHMgPSAtMSwgbGFzdFB0cyA9IC0xO1xuXG4gICAgICAgIGlmICghc2FtcGxlcyB8fCBzYW1wbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDg7XG4gICAgICAgIGxldCBtZGF0Qnl0ZXMgPSA4ICsgdmlkZW9UcmFjay5sZW5ndGg7XG4gICAgICAgIGxldCBtZGF0Ym94ID0gbmV3IFVpbnQ4QXJyYXkobWRhdEJ5dGVzKTtcbiAgICAgICAgbWRhdGJveFswXSA9IChtZGF0Qnl0ZXMgPj4+IDI0KSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3hbMV0gPSAobWRhdEJ5dGVzID4+PiAxNikgJiAweEZGO1xuICAgICAgICBtZGF0Ym94WzJdID0gKG1kYXRCeXRlcyA+Pj4gIDgpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFszXSA9IChtZGF0Qnl0ZXMpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveC5zZXQoTVA0LnR5cGVzLm1kYXQsIDQpO1xuXG4gICAgICAgIGxldCBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzID0gc2FtcGxlc1swXS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBkdHNDb3JyZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLl92aWRlb05leHREdHMpIHtcbiAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gdGhpcy5fdmlkZW9OZXh0RHRzO1xuICAgICAgICB9IGVsc2UgeyAgLy8gdGhpcy5fdmlkZW9OZXh0RHRzID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgaWYgKHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFNhbXBsZSA9IHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmdldExhc3RTYW1wbGVCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSAoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIChsYXN0U2FtcGxlLm9yaWdpbmFsRHRzICsgbGFzdFNhbXBsZS5kdXJhdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZER0cyA9IGxhc3RTYW1wbGUuZHRzICsgbGFzdFNhbXBsZS5kdXJhdGlvbiArIGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGV4cGVjdGVkRHRzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGxhc3RTYW1wbGUgPT0gbnVsbCwgY2Fubm90IGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmZvID0gbmV3IE1lZGlhU2VnbWVudEluZm8oKTtcbiAgICAgICAgbGV0IG1wNFNhbXBsZXMgPSBbXTtcblxuICAgICAgICAvLyBDb3JyZWN0IGR0cyBmb3IgZWFjaCBzYW1wbGUsIGFuZCBjYWxjdWxhdGUgc2FtcGxlIGR1cmF0aW9uLiBUaGVuIG91dHB1dCB0byBtcDRTYW1wbGVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxEdHMgPSBzYW1wbGUuZHRzIC0gdGhpcy5fZHRzQmFzZTtcbiAgICAgICAgICAgIGxldCBpc0tleWZyYW1lID0gc2FtcGxlLmlzS2V5ZnJhbWU7XG4gICAgICAgICAgICBsZXQgZHRzID0gb3JpZ2luYWxEdHMgLSBkdHNDb3JyZWN0aW9uO1xuICAgICAgICAgICAgbGV0IGN0cyA9IHNhbXBsZS5jdHM7XG4gICAgICAgICAgICBsZXQgcHRzID0gZHRzICsgY3RzO1xuXG4gICAgICAgICAgICBpZiAoZmlyc3REdHMgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZmlyc3REdHMgPSBkdHM7XG4gICAgICAgICAgICAgICAgZmlyc3RQdHMgPSBwdHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzYW1wbGVEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIGlmIChpICE9PSBzYW1wbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dER0cyA9IHNhbXBsZXNbaSArIDFdLmR0cyAtIHRoaXMuX2R0c0Jhc2UgLSBkdHNDb3JyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbmV4dER0cyAtIGR0cztcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB0aGUgbGFzdCBzYW1wbGVcbiAgICAgICAgICAgICAgICBpZiAobXA0U2FtcGxlcy5sZW5ndGggPj0gMSkgeyAgLy8gdXNlIHNlY29uZCBsYXN0IHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG1wNFNhbXBsZXNbbXA0U2FtcGxlcy5sZW5ndGggLSAxXS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy8gdGhlIG9ubHkgb25lIHNhbXBsZSwgdXNlIHJlZmVyZW5jZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLmZsb29yKHRoaXMuX3ZpZGVvTWV0YS5yZWZTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNLZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBzeW5jUG9pbnQgPSBuZXcgU2FtcGxlSW5mbyhkdHMsIHB0cywgc2FtcGxlRHVyYXRpb24sIHNhbXBsZS5kdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIHN5bmNQb2ludC5maWxlcG9zaXRpb24gPSBzYW1wbGUuZmlsZXBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGluZm8uYXBwZW5kU3luY1BvaW50KHN5bmNQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1wNFNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZHRzOiBkdHMsXG4gICAgICAgICAgICAgICAgcHRzOiBwdHMsXG4gICAgICAgICAgICAgICAgY3RzOiBjdHMsXG4gICAgICAgICAgICAgICAgdW5pdHM6IHNhbXBsZS51bml0cyxcbiAgICAgICAgICAgICAgICBzaXplOiBzYW1wbGUubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGlzS2V5ZnJhbWU6IGlzS2V5ZnJhbWUsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRHRzOiBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogaXNLZXlmcmFtZSA/IDIgOiAxLFxuICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IGlzS2V5ZnJhbWUgPyAxIDogMCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICAgICAgICAgICAgaXNOb25TeW5jOiBpc0tleWZyYW1lID8gMCA6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdyaXRlIHNhbXBsZXMgaW50byBtZGF0Ym94XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXA0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHVuaXRzID0gbXA0U2FtcGxlc1tpXS51bml0cztcbiAgICAgICAgICAgIHdoaWxlICh1bml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgdW5pdCA9IHVuaXRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB1bml0LmRhdGE7XG4gICAgICAgICAgICAgICAgbWRhdGJveC5zZXQoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxhdGVzdCA9IG1wNFNhbXBsZXNbbXA0U2FtcGxlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgbGFzdER0cyA9IGxhdGVzdC5kdHMgKyBsYXRlc3QuZHVyYXRpb247XG4gICAgICAgIGxhc3RQdHMgPSBsYXRlc3QucHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICB0aGlzLl92aWRlb05leHREdHMgPSBsYXN0RHRzO1xuXG4gICAgICAgIC8vIGZpbGwgbWVkaWEgc2VnbWVudCBpbmZvICYgYWRkIHRvIGluZm8gbGlzdFxuICAgICAgICBpbmZvLmJlZ2luRHRzID0gZmlyc3REdHM7XG4gICAgICAgIGluZm8uZW5kRHRzID0gbGFzdER0cztcbiAgICAgICAgaW5mby5iZWdpblB0cyA9IGZpcnN0UHRzO1xuICAgICAgICBpbmZvLmVuZFB0cyA9IGxhc3RQdHM7XG4gICAgICAgIGluZm8ub3JpZ2luYWxCZWdpbkR0cyA9IG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHM7XG4gICAgICAgIGluZm8ub3JpZ2luYWxFbmREdHMgPSBsYXRlc3Qub3JpZ2luYWxEdHMgKyBsYXRlc3QuZHVyYXRpb247XG4gICAgICAgIGluZm8uZmlyc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhtcDRTYW1wbGVzWzBdLmR0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0ucHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0ub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVzWzBdLmlzS2V5ZnJhbWUpO1xuICAgICAgICBpbmZvLmxhc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhsYXRlc3QuZHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3QucHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3QuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdC5vcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0LmlzS2V5ZnJhbWUpO1xuICAgICAgICBpZiAoIXRoaXMuX2lzTGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuYXBwZW5kKGluZm8pO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IG1wNFNhbXBsZXM7XG4gICAgICAgIHRyYWNrLnNlcXVlbmNlTnVtYmVyKys7XG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgY2hyb21lIDwgNTA6IGZvcmNlIGZpcnN0IHNhbXBsZSBhcyBhIHJhbmRvbSBhY2Nlc3MgcG9pbnRcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIyOTQxMlxuICAgICAgICBpZiAodGhpcy5fZm9yY2VGaXJzdElEUikge1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gbXA0U2FtcGxlc1swXS5mbGFncztcbiAgICAgICAgICAgIGZsYWdzLmRlcGVuZHNPbiA9IDI7XG4gICAgICAgICAgICBmbGFncy5pc05vblN5bmMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vb2Zib3ggPSBNUDQubW9vZih0cmFjaywgZmlyc3REdHMpO1xuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHRyYWNrLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQoJ3ZpZGVvJywge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuX21lcmdlQm94ZXMobW9vZmJveCwgbWRhdGJveCkuYnVmZmVyLFxuICAgICAgICAgICAgc2FtcGxlQ291bnQ6IG1wNFNhbXBsZXMubGVuZ3RoLFxuICAgICAgICAgICAgaW5mbzogaW5mb1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbWVyZ2VCb3hlcyhtb29mLCBtZGF0KSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgVWludDhBcnJheShtb29mLmJ5dGVMZW5ndGggKyBtZGF0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXN1bHQuc2V0KG1vb2YsIDApO1xuICAgICAgICByZXN1bHQuc2V0KG1kYXQsIG1vb2YuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1QNFJlbXV4ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmxldCBCcm93c2VyID0ge307XG5cbmZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgICAvLyBtb2RpZmllZCBmcm9tIGpxdWVyeS1icm93c2VyLXBsdWdpblxuXG4gICAgbGV0IHVhID0gc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBsZXQgbWF0Y2ggPSAvKGVkZ2UpXFwvKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wcilbXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGllbW9iaWxlKVtcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHZlcnNpb24pKGFwcGxld2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHNhZmFyaSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHZlcnNpb24pWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgdWEuaW5kZXhPZigndHJpZGVudCcpID49IDAgJiYgLyhydikoPzo6fCApKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICB1YS5pbmRleE9mKCdjb21wYXRpYmxlJykgPCAwICYmIC8oZmlyZWZveClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IHBsYXRmb3JtX21hdGNoID0gLyhpcGFkKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcG9kKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3aW5kb3dzIHBob25lKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcGhvbmUpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGtpbmRsZSkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oYW5kcm9pZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2luZG93cykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obWFjKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhsaW51eCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oY3JvcykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IG1hdGNoZWQgPSB7XG4gICAgICAgIGJyb3dzZXI6IG1hdGNoWzVdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzFdIHx8ICcnLFxuICAgICAgICB2ZXJzaW9uOiBtYXRjaFsyXSB8fCBtYXRjaFs0XSB8fCAnMCcsXG4gICAgICAgIG1ham9yVmVyc2lvbjogbWF0Y2hbNF0gfHwgbWF0Y2hbMl0gfHwgJzAnLFxuICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm1fbWF0Y2hbMF0gfHwgJydcbiAgICB9O1xuXG4gICAgbGV0IGJyb3dzZXIgPSB7fTtcbiAgICBpZiAobWF0Y2hlZC5icm93c2VyKSB7XG4gICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7XG5cbiAgICAgICAgbGV0IHZlcnNpb25BcnJheSA9IG1hdGNoZWQubWFqb3JWZXJzaW9uLnNwbGl0KCcuJyk7XG4gICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IHtcbiAgICAgICAgICAgIG1ham9yOiBwYXJzZUludChtYXRjaGVkLm1ham9yVmVyc2lvbiwgMTApLFxuICAgICAgICAgICAgc3RyaW5nOiBtYXRjaGVkLnZlcnNpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZlcnNpb25BcnJheS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBicm93c2VyLnZlcnNpb24ubWlub3IgPSBwYXJzZUludCh2ZXJzaW9uQXJyYXlbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVyc2lvbkFycmF5Lmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbi5idWlsZCA9IHBhcnNlSW50KHZlcnNpb25BcnJheVsyXSwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoZWQucGxhdGZvcm0pIHtcbiAgICAgICAgYnJvd3NlclttYXRjaGVkLnBsYXRmb3JtXSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIub3ByIHx8IGJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgIGJyb3dzZXIud2Via2l0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNU0lFLiBJRTExIGhhcyAncnYnIGlkZW50aWZlclxuICAgIGlmIChicm93c2VyLnJ2IHx8IGJyb3dzZXIuaWVtb2JpbGUpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucnYpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBicm93c2VyLnJ2O1xuICAgICAgICB9XG4gICAgICAgIGxldCBtc2llID0gJ21zaWUnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2llO1xuICAgICAgICBicm93c2VyW21zaWVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgIGlmIChicm93c2VyLmVkZ2UpIHtcbiAgICAgICAgZGVsZXRlIGJyb3dzZXIuZWRnZTtcbiAgICAgICAgbGV0IG1zZWRnZSA9ICdtc2VkZ2UnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2VkZ2U7XG4gICAgICAgIGJyb3dzZXJbbXNlZGdlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gT3BlcmEgMTUrXG4gICAgaWYgKGJyb3dzZXIub3ByKSB7XG4gICAgICAgIGxldCBvcGVyYSA9ICdvcGVyYSc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IG9wZXJhO1xuICAgICAgICBicm93c2VyW29wZXJhXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RvY2sgYW5kcm9pZCBicm93c2VycyBhcmUgbWFya2VkIGFzIFNhZmFyaVxuICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgbGV0IGFuZHJvaWQgPSAnYW5kcm9pZCc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IGFuZHJvaWQ7XG4gICAgICAgIGJyb3dzZXJbYW5kcm9pZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGJyb3dzZXIubmFtZSA9IG1hdGNoZWQuYnJvd3NlcjtcbiAgICBicm93c2VyLnBsYXRmb3JtID0gbWF0Y2hlZC5wbGF0Zm9ybTtcblxuICAgIGZvciAobGV0IGtleSBpbiBCcm93c2VyKSB7XG4gICAgICAgIGlmIChCcm93c2VyLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCcm93c2VyW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihCcm93c2VyLCBicm93c2VyKTtcbn1cblxuZGV0ZWN0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnUnVudGltZUV4Y2VwdGlvbic7XG4gICAgfVxuXG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lICsgJzogJyArIHRoaXMubWVzc2FnZTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdJbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIGV4dGVuZHMgUnVudGltZUV4Y2VwdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbic7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbic7XG4gICAgfVxuXG59XG4iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuXG5jbGFzcyBMb2cge1xuXG4gICAgc3RhdGljIGUodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2Vycm9yJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9FUlJPUikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RyKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpKHRhZywgbXNnKSB7XG4gICAgICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKVxuICAgICAgICAgICAgdGFnID0gTG9nLkdMT0JBTF9UQUc7XG5cbiAgICAgICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICAgICAgaWYgKExvZy5FTkFCTEVfQ0FMTEJBQ0spIHtcbiAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsICdpbmZvJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9JTkZPKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uc29sZS5pbmZvKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oc3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdyh0YWcsIG1zZykge1xuICAgICAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgICAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAnd2FybicsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfV0FSTikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0cik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGQodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2RlYnVnJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9ERUJVRykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoc3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdih0YWcsIG1zZykge1xuICAgICAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgICAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAndmVyYm9zZScsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfVkVSQk9TRSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG5cbn1cblxuTG9nLkdMT0JBTF9UQUcgPSAnZmx2LmpzJztcbkxvZy5GT1JDRV9HTE9CQUxfVEFHID0gZmFsc2U7XG5Mb2cuRU5BQkxFX0VSUk9SID0gdHJ1ZTtcbkxvZy5FTkFCTEVfSU5GTyA9IHRydWU7XG5Mb2cuRU5BQkxFX1dBUk4gPSB0cnVlO1xuTG9nLkVOQUJMRV9ERUJVRyA9IHRydWU7XG5Mb2cuRU5BQkxFX1ZFUkJPU0UgPSB0cnVlO1xuXG5Mb2cuRU5BQkxFX0NBTExCQUNLID0gZmFsc2U7XG5cbkxvZy5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2c7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi9sb2dnZXIuanMnO1xuXG5jbGFzcyBMb2dnaW5nQ29udHJvbCB7XG5cbiAgICBzdGF0aWMgZ2V0IGZvcmNlR2xvYmFsVGFnKCkge1xuICAgICAgICByZXR1cm4gTG9nLkZPUkNFX0dMT0JBTF9UQUc7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBmb3JjZUdsb2JhbFRhZyhlbmFibGUpIHtcbiAgICAgICAgTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGdsb2JhbFRhZygpIHtcbiAgICAgICAgcmV0dXJuIExvZy5HTE9CQUxfVEFHO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZ2xvYmFsVGFnKHRhZykge1xuICAgICAgICBMb2cuR0xPQkFMX1RBRyA9IHRhZztcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlQWxsKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9WRVJCT1NFXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX0RFQlVHXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX0lORk9cbiAgICAgICAgICAgICYmIExvZy5FTkFCTEVfV0FSTlxuICAgICAgICAgICAgJiYgTG9nLkVOQUJMRV9FUlJPUjtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZUFsbChlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9WRVJCT1NFID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX0RFQlVHID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBlbmFibGU7XG4gICAgICAgIExvZy5FTkFCTEVfV0FSTiA9IGVuYWJsZTtcbiAgICAgICAgTG9nLkVOQUJMRV9FUlJPUiA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlRGVidWcoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX0RFQlVHO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlRGVidWcoZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfREVCVUcgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZVZlcmJvc2UoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX1ZFUkJPU0U7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVWZXJib3NlKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX1ZFUkJPU0UgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX0lORk87XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVJbmZvKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZVdhcm4oKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX1dBUk47XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVXYXJuKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX1dBUk4gPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGVuYWJsZUVycm9yKCkge1xuICAgICAgICByZXR1cm4gTG9nLkVOQUJMRV9FUlJPUjtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZUVycm9yKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX0VSUk9SID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsb2JhbFRhZzogTG9nLkdMT0JBTF9UQUcsXG4gICAgICAgICAgICBmb3JjZUdsb2JhbFRhZzogTG9nLkZPUkNFX0dMT0JBTF9UQUcsXG4gICAgICAgICAgICBlbmFibGVWZXJib3NlOiBMb2cuRU5BQkxFX1ZFUkJPU0UsXG4gICAgICAgICAgICBlbmFibGVEZWJ1ZzogTG9nLkVOQUJMRV9ERUJVRyxcbiAgICAgICAgICAgIGVuYWJsZUluZm86IExvZy5FTkFCTEVfSU5GTyxcbiAgICAgICAgICAgIGVuYWJsZVdhcm46IExvZy5FTkFCTEVfV0FSTixcbiAgICAgICAgICAgIGVuYWJsZUVycm9yOiBMb2cuRU5BQkxFX0VSUk9SLFxuICAgICAgICAgICAgZW5hYmxlQ2FsbGJhY2s6IExvZy5FTkFCTEVfQ0FMTEJBQ0tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwbHlDb25maWcoY29uZmlnKSB7XG4gICAgICAgIExvZy5HTE9CQUxfVEFHID0gY29uZmlnLmdsb2JhbFRhZztcbiAgICAgICAgTG9nLkZPUkNFX0dMT0JBTF9UQUcgPSBjb25maWcuZm9yY2VHbG9iYWxUYWc7XG4gICAgICAgIExvZy5FTkFCTEVfVkVSQk9TRSA9IGNvbmZpZy5lbmFibGVWZXJib3NlO1xuICAgICAgICBMb2cuRU5BQkxFX0RFQlVHID0gY29uZmlnLmVuYWJsZURlYnVnO1xuICAgICAgICBMb2cuRU5BQkxFX0lORk8gPSBjb25maWcuZW5hYmxlSW5mbztcbiAgICAgICAgTG9nLkVOQUJMRV9XQVJOID0gY29uZmlnLmVuYWJsZVdhcm47XG4gICAgICAgIExvZy5FTkFCTEVfRVJST1IgPSBjb25maWcuZW5hYmxlRXJyb3I7XG4gICAgICAgIExvZy5FTkFCTEVfQ0FMTEJBQ0sgPSBjb25maWcuZW5hYmxlQ2FsbGJhY2s7XG4gICAgfVxuXG4gICAgc3RhdGljIF9ub3RpZnlDaGFuZ2UoKSB7XG4gICAgICAgIGxldCBlbWl0dGVyID0gTG9nZ2luZ0NvbnRyb2wuZW1pdHRlcjtcblxuICAgICAgICBpZiAoZW1pdHRlci5saXN0ZW5lckNvdW50KCdjaGFuZ2UnKSA+IDApIHtcbiAgICAgICAgICAgIGxldCBjb25maWcgPSBMb2dnaW5nQ29udHJvbC5nZXRDb25maWcoKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnY2hhbmdlJywgY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLmVtaXR0ZXIuYWRkTGlzdGVuZXIoJ2NoYW5nZScsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRMb2dMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2cuZW1pdHRlci5hZGRMaXN0ZW5lcignbG9nJywgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoTG9nLmVtaXR0ZXIubGlzdGVuZXJDb3VudCgnbG9nJykgPiAwKSB7XG4gICAgICAgICAgICBMb2cuRU5BQkxFX0NBTExCQUNLID0gdHJ1ZTtcbiAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVMb2dMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2cuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignbG9nJywgbGlzdGVuZXIpO1xuICAgICAgICBpZiAoTG9nLmVtaXR0ZXIubGlzdGVuZXJDb3VudCgnbG9nJykgPT09IDApIHtcbiAgICAgICAgICAgIExvZy5FTkFCTEVfQ0FMTEJBQ0sgPSBmYWxzZTtcbiAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5Mb2dnaW5nQ29udHJvbC5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnaW5nQ29udHJvbDsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgUG9seWZpbGwge1xuXG4gICAgc3RhdGljIGluc3RhbGwoKSB7XG4gICAgICAgIC8vIEVTNiBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChvYmosIHByb3RvKSB7XG4gICAgICAgICAgICBvYmouX19wcm90b19fID0gcHJvdG87XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVTNiBPYmplY3QuYXNzaWduXG4gICAgICAgIE9iamVjdC5hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRVM2IFByb21pc2UgKG1pc3Npbmcgc3VwcG9ydCBpbiBJRTExKVxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmVxdWlyZSgnZXM2LXByb21pc2UnKS5wb2x5ZmlsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblBvbHlmaWxsLmluc3RhbGwoKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9seWZpbGw7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgZGVyaXZlZCBmcm9tIEMrKyBwcm9qZWN0IGxpYldpblRGOCAoaHR0cHM6Ly9naXRodWIuY29tL20xMzI1My9saWJXaW5URjgpXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIGNoZWNrQ29udGludWF0aW9uKHVpbnQ4YXJyYXksIHN0YXJ0LCBjaGVja0xlbmd0aCkge1xuICAgIGxldCBhcnJheSA9IHVpbnQ4YXJyYXk7XG4gICAgaWYgKHN0YXJ0ICsgY2hlY2tMZW5ndGggPCBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgd2hpbGUgKGNoZWNrTGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGlmICgoYXJyYXlbKytzdGFydF0gJiAweEMwKSAhPT0gMHg4MClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlVVRGOCh1aW50OGFycmF5KSB7XG4gICAgbGV0IG91dCA9IFtdO1xuICAgIGxldCBpbnB1dCA9IHVpbnQ4YXJyYXk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW5ndGggPSB1aW50OGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChpbnB1dFtpXSA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaW5wdXRbaV0pKTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhDMCkge1xuICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RTApIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4MUYpIDw8IDYgfCAoaW5wdXRbaSArIDFdICYgMHgzRik7XG4gICAgICAgICAgICAgICAgaWYgKHVjczQgPj0gMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHVjczQgJiAweEZGRkYpKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEYwKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweEYpIDw8IDEyIHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpIDw8IDYgfCBpbnB1dFtpICsgMl0gJiAweDNGO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODAwICYmICh1Y3M0ICYgMHhGODAwKSAhPT0gMHhEODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodWNzNCAmIDB4RkZGRikpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RjgpIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMykpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4NykgPDwgMTggfCAoaW5wdXRbaSArIDFdICYgMHgzRikgPDwgMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICB8IChpbnB1dFtpICsgMl0gJiAweDNGKSA8PCA2IHwgKGlucHV0W2kgKyAzXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID4gMHgxMDAwMCAmJiB1Y3M0IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdWNzNCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKCh1Y3M0ID4+PiAxMCkgfCAweEQ4MDApKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCAmIDB4M0ZGKSB8IDB4REMwMCkpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkZGRCkpO1xuICAgICAgICArK2k7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVjb2RlVVRGODsiXX0="}